2022-05-04 15:04:01 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (4eae2f79)

    NEWS: Update date for 2.3.19 news


M	NEWS

2022-04-26 09:45:26 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (d0e82ef9)

    NEWS: Add news for 0.5.19


M	NEWS

2022-01-12 12:54:05 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (d9023d0c)

    NEWS: Add news for 0.5.18


M	NEWS

2022-04-26 09:34:49 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (963ed291)

    configure: Update version


M	configure.ac

2022-02-05 17:14:16 +0200 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (7927a415)

    managesieve-login: managesieve_proxy_parse_auth_reply() - Free input istream


M	src/managesieve-login/managesieve-proxy.c

2022-01-21 12:31:43 +0200 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (ede85010)

    configure.ac: Set pigeonhole version to 0.5.100

    This is to match the version 2.3.100 used in core.

M	configure.ac

2022-01-19 19:48:48 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (aba35b74)

    configure.ac: Fix version to 2.3 dovecot


M	configure.ac

2022-01-19 17:14:03 +0100 Timo Sirainen <timo.sirainen@open-xchange.com> (ca2cb5fb)

    configure: Update version to 0.5.devel


M	configure.ac

2021-11-30 12:50:17 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (c0951f32)

    NEWS: Add news for 0.5.17.1


M	NEWS

2021-09-28 12:57:33 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (8bf12bb7)

    NEWS: Add news for 0.5.17


M	NEWS

2021-12-03 09:05:16 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (df7907ae)

    lib-sieve-tool: Sieve tools do not need SSL settings

    Fixes argument list too long error.

M	src/lib-sieve-tool/sieve-tool.c

2019-10-06 19:36:32 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e8af1162)

    lib-sieve: sieve-stringlist - Assert that index for the index stringlist is
    not 0.


M	src/lib-sieve/sieve-stringlist.c

2019-10-06 20:42:54 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (8c6a3928)

    lib-sieve: index extension: Do not accept :index tag with zero value.


M	src/lib-sieve/plugins/index/tag-index.c
M	tests/extensions/index/errors.svtest
M	tests/extensions/index/errors/syntax.sieve

2019-10-06 20:59:43 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a46bb1a9)

    lib-sieve: plugins: index: Reformat tag-index.c.


M	src/lib-sieve/plugins/index/tag-index.c

2021-10-22 21:54:43 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3e2a8df4)

    managesieve-login: Pass forward_ passdb args using XCLIENT command.


M	src/managesieve-login/managesieve-proxy.c

2021-10-22 21:51:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a869b1a8)

    managesieve-login: Add FORWARD for XCLIENT.

    This allows passing passdb variables. They are prefixed with forward_ when 
    imported to extra fields.

M	src/managesieve-login/client.c

2021-11-03 23:49:09 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (a1b4cea5)

    managesieve-login: managesieve-proxy - Fix pipelining beyond AUTHENTICATE.

    Upon login success, the next line was erroneously skipped.

M	src/managesieve-login/managesieve-proxy.c

2021-06-22 17:06:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b5e69c08)

    managesieve-login: Reformat managesieve-proxy.c.


M	src/managesieve-login/managesieve-proxy.c

2021-06-22 16:21:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a38436fc)

    managesieve-login: Reformat client.h.


M	src/managesieve-login/client.h

2021-06-22 16:18:49 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d92ad7b1)

    managesieve-login: Reformat client.c.


M	src/managesieve-login/client.c

2021-11-04 10:46:57 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (cbc1c489)

    lib-sieve: util: edit-mail - Fix returning buffer-full condition when data
    was read.

    Fixes:

    Panic: file istream-crlf.c: line 24 (i_stream_crlf_read_common): assertion
    failed: (ret != -2) Panic: file istream.h: line 228 (i_stream_read_more):
    assertion failed: (ret != -2)
    (various other similar panics are possible)

M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/test-edit-mail.c

2020-08-26 00:38:15 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b7b4d24d)

    lib-sieve: util: Reformat test-edit-mail.c.


M	src/lib-sieve/util/test-edit-mail.c

2020-08-26 00:00:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ecc70828)

    lib-sieve: util: Reformat edit-mail.h.


M	src/lib-sieve/util/edit-mail.h

2020-08-25 23:55:28 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a4a22309)

    lib-sieve: util: Reformat edit-mail.c.


M	src/lib-sieve/util/edit-mail.c

2021-11-02 09:54:08 -0400 Timo Sirainen <timo.sirainen@open-xchange.com> (29750ba5)

    managesieve: Use MASTER_SERVICE_FLAG_DISABLE_SSL_SET when dumping capability

    This prevents startup failures if ssl_ca has a large number of certificates.

M	src/managesieve/main.c

2021-10-28 00:40:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0b5e7b1a)

    lib-sieve: sieve-result - Fix panic occurring upon temp fail after committed
    keep-equivalent action.

    The determination of whether a keep-equivalent action was already executed
    is performed in sieve_result_implicit_keep_execute(), which can also be
    called from sieve_result_implicit_keep_finalize(). But there, the
    keep-equivalent status was checked before any call to
    sieve_result_implicit_keep_execute(), which would thus yield the wrong
    result.

    This change also makes the associated debug message more specific (otherwise
    two identical debug messages are logged) and an assert is added that makes
    sure the keep-equivalent action is actually finalized when the implicit keep
    was supposed to be finalized.

    Panic was:

    Panic: file sieve-result.c: line 1706 (sieve_result_implicit_keep_finalize):
    assertion failed: (aexec_keep->state ==
    SIEVE_ACTION_EXECUTION_STATE_EXECUTED)

M	src/lib-sieve/sieve-result.c

2021-10-28 00:45:15 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d1c44652)

    lib-sieve: sieve-result - Move finalize debug message for implicit keep.


M	src/lib-sieve/sieve-result.c

2021-09-20 22:09:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (27ab897f)

    plugins: imapsieve: imap-sieve-storage - Make sure mail_set_uid() is never
    called with uid=0.


M	src/plugins/imapsieve/imap-sieve-storage.c

2021-08-04 13:06:23 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (c6d3cabf)

    NEWS: Add news for 0.5.16


M	NEWS

2021-06-11 11:58:05 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (216e41c2)

    NEWS: Update release date


M	NEWS

2021-04-22 15:20:32 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (ab56f331)

    NEWS: Add news for 0.5.15


M	NEWS

2021-09-17 11:40:41 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (837bd100)

    lib-sieve: plugins: duplicate: ext-duplicate-common - Add debug messages for
    action finish stage.


M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c

2021-06-08 03:50:53 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5e66dfca)

    lib-sieve: Adjust to changes in mail-duplicate API.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-execute.c
M	src/lib-sieve/sieve-execute.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c

2021-09-19 13:18:24 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0f2c9569)

    lib-sieve: Adjust to changes in Dovecot file-lock API.


M	src/lib-sieve/sieve-binary-file.c

2021-09-16 20:04:06 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (86170b0f)

    m4: dovecot.m4 - Sync with core


M	m4/dovecot.m4

2021-07-21 00:07:21 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (79e51ecf)

    lib-sieve: Disable CPU time limit by default when Sieve is executed in mail
    storage.


M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve.c

2021-08-18 13:27:50 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4596d399)

    lib-sieve: sieve-result - Indicate in sieve_result_transaction_finalize()
    debug message whether actions were committed.


M	src/lib-sieve/sieve-result.c

2021-08-18 13:26:26 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (65d771c1)

    lib-sieve: sieve-result - Indicate in sieve_result_transaction_execute()
    debug message whether actions were executed.


M	src/lib-sieve/sieve-result.c

2021-08-18 02:43:05 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (dbf5b62b)

    lib-sieve: sieve-result - Add debug messages for temp failure handling.


M	src/lib-sieve/sieve-result.c

2021-08-18 13:29:41 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (81bd53d6)

    lib-sieve: sieve-result - Assert that implicit keep is executed in
    sieve_result_implicit_keep_finalize().


M	src/lib-sieve/sieve-result.c

2021-08-18 02:54:25 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (293f0027)

    lib-sieve: sieve-result - Fix resource leak occurring when implicit keep is
    executed before temporary failure at commit.

    In the commit phase the implicit keep was never finalized, meaning that it
    was not rolled back and thus not cleaned up properly. This leads to a memory
    leak and a mailbox reference leak. This in turn causes an assert crash at
    the end of delivery when the mail user is destroyed.

M	src/lib-sieve/sieve-result.c

2021-08-18 02:56:32 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f2b81cc6)

    lib-sieve: sieve-result - Fix handling of resource limit status after
    implicit keep commit.


M	src/lib-sieve/sieve-result.c

2021-08-18 02:46:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (92b4b06d)

    lib-sieve: sieve-result - Skip implicit keep in execution stage upon temp
    failure.

    It will be executed in the commit phase if necessary; don't do it early; it
    will only be rolled back.

M	src/lib-sieve/sieve-result.c

2021-08-18 02:26:32 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c84e6e5d)

    lib-sieve: sieve-result - Move temp failure status checks into
    sieve_result_implicit_keep_finalize().


M	src/lib-sieve/sieve-result.c

2021-08-18 02:07:01 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (10e347e3)

    lib-sieve: sieve-result - Move temp failure status checks into
    sieve_result_implicit_keep_execute().


M	src/lib-sieve/sieve-result.c

2021-08-18 01:40:57 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (291f2fdb)

    lib-sieve: sieve-result - Remove success parameter from
    sieve_result_implicit_keep_finalize().


M	src/lib-sieve/sieve-result.c

2021-08-18 01:44:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (54e020c1)

    lib-sieve: sieve-result - Remove success parameter from
    sieve_result_implicit_keep_execute().


M	src/lib-sieve/sieve-result.c

2021-08-17 19:09:13 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9f300239)

    lib-sieve: sieve-interpreter - Fix field mixup in debug message.


M	src/lib-sieve/sieve-interpreter.c

2021-08-19 02:46:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4c0acd83)

    lib-sieve: sieve-binary-debug - Properly handle line decrements.


M	src/lib-sieve/sieve-binary-debug.c

2021-08-19 02:20:37 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2cb70c69)

    lib-sieve: plugins: include: ext-include-common - Use ENUM_NEGATE() macro
    where necessary.


M	src/lib-sieve/plugins/include/ext-include-common.c

2021-08-19 01:30:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9222ce45)

    lib-sieve: sieve-ast - Use sieve_number_t for number values.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2021-08-19 01:29:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (efdb74cf)

    lib-sieve: sieve-lexer - Use sieve_number_t for number values.


M	src/lib-sieve/sieve-lexer.h

2021-08-19 01:26:25 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ee9f9be3)

    lib-sieve: Add SIEVE_PRI_NUMBER definition.


M	src/lib-sieve/sieve-common.h

2020-10-12 21:21:12 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (37dfe0d8)

    lib-sieve: plugins: include: Reformat ext-include-common.c.


M	src/lib-sieve/plugins/include/ext-include-common.c

2020-03-09 23:55:33 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (031967f5)

    lib-sieve: Reformat sieve-ast.h.


M	src/lib-sieve/sieve-ast.h

2020-03-09 23:48:48 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (06213060)

    lib-sieve: Reformat sieve-ast.c.


M	src/lib-sieve/sieve-ast.c

2021-08-12 22:26:41 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d6e0a9e3)

    lib-sieve: cmd-redirect - Avoid cancelling implicit keep upon mail loop
    detection.


M	src/lib-sieve/cmd-redirect.c

2021-08-13 00:36:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (87df7e30)

    lib-sieve: cmd-redirect - Move dupeid to action exection transaction struct.


M	src/lib-sieve/cmd-redirect.c

2021-08-13 00:26:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b25a511f)

    lib-sieve: cmd-redirect - Move msg_id to action exection transaction struct.


M	src/lib-sieve/cmd-redirect.c

2021-08-13 00:08:25 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (19335d87)

    lib-sieve: Remove spurious whitespace in cmd-redirect.c.


M	src/lib-sieve/cmd-redirect.c

2021-08-10 17:31:30 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9e4160d6)

    lib-sieve: sieve-result - Fix omission of action finalization happening upon
    result execution failure.

    This occurred because the code that checks for a deferred keep action in 
    sieve_result_implicit_keep_execute() could end up "finding" an action that 
    wasn't actually a deferred keep. That action was then erroneously promoted
    to the FINALIZED state, which meant that commit/rollback was never executed.

M	src/lib-sieve/sieve-result.c

2021-06-30 01:36:33 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3f66b725)

    lib-sieve: plugins: enotify: mailto: uri-mailto - Change _is_qchar() to
    accept char parameter.

    It is used like that everywhere and ubsan complains about passing char to 
    unsigned char parameter.

M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2020-03-26 17:21:07 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (a679bce4)

    lib-sieve: plugins: enotify: mailto: Reformat uri-mailto.c.


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2021-05-10 16:23:45 +0100 Siavash Tavakoli <siavash.tavakoli@open-xchange.com> (0aa68128)

    sieve-dict: Adjust to core dict API changes


M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c

2021-06-02 23:19:46 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (7090e625)

    lib-sieve: sieve-result - Never allow side-effect definition to be NULL.

    This had no real purpose and could cause NULL pointer dereference.

    Found by Clang scan-build.

M	src/lib-sieve/sieve-result.c

2021-06-02 22:57:19 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0dcf81e3)

    lib-sieve: sieve-binary-file - Fix potential NULL pointer dereference in
    sieve_binary_file_update_resource_usage().

    Found by Clang scan-build.

M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2021-06-03 20:23:11 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (25c6a0a1)

    lib-managesieve: managesieve-parser - Parse literal size using as same
    algorithm as str_parse*().

    This prevents wrapping the integer value and fixes an ubsan complaint.

M	src/lib-managesieve/managesieve-parser.c

2021-06-03 19:52:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d40dd502)

    lib-managesieve: managesieve-parser - Fix 8 bit atom check to use unsigned
    char.


M	src/lib-managesieve/managesieve-parser.c

2021-06-03 19:46:14 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (691d8493)

    lib-managesieve: Reformat managesieve-parser.h.


M	src/lib-managesieve/managesieve-parser.h

2021-06-03 19:45:53 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d4ef956d)

    lib-managesieve: Reformat managesieve-parser.c.


M	src/lib-managesieve/managesieve-parser.c

2020-03-09 11:13:52 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (7de596ba)

    testsuite: Debug logging was unnecessarily growing data stack size


M	src/testsuite/testsuite-log.c

2021-05-27 01:14:02 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cc1d13f9)

    lib-sieve: plugins: enotify: vmodf-encodeurl - Remove erroneous type cast.

    Fixes ubsan runtime error.

M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c

2021-05-27 01:13:11 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a98d9f59)

    global: Fix negation with constants to match target type


M	src/lib-sieve/sieve-binary-file.c

2021-05-27 01:10:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b6955345)

    global: Use ENUM_NEGATE() macro where necessary


M	src/lib-sieve/sieve-binary-file.c

2021-04-22 23:06:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (37e62d89)

    lib-sieve: sieve-result - Add debug messages for implicit keep execution.


M	src/lib-sieve/sieve-result.c

2021-04-07 00:57:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c3fdcb67)

    lib-sieve: sieve-result - Add debug messages for result execution.


M	src/lib-sieve/sieve-result.c

2021-04-07 01:18:26 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (eecaa6b5)

    lib-sieve: sieve-action - Add debug messages for store action.


M	src/lib-sieve/sieve-actions.c

2021-04-07 01:12:45 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5e8c385f)

    lib-sieve: sieve - Add debug messages for multiscript execution.


M	src/lib-sieve/sieve.c

2021-05-10 22:19:06 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f577a53d)

    lib-sieve: sieve-interpreter - Add status to debug message emitted when
    script is finished.


M	src/lib-sieve/sieve-interpreter.c

2021-05-10 21:56:31 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (12cf5cca)

    lib-sieve: sieve - Add sieve_execution_exitcode_to_str().


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2021-05-10 21:30:14 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2d3c446f)

    lib-sieve: sieve-result - Provide proper execution context for action side
    effects.

    This is currently not used, but prevents mishaps once such code is written.

M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/special-use/tag-specialuse.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2021-05-08 03:37:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cd092803)

    lib-sieve: sieve-result - Make execution struct available for action side
    effects.


M	src/lib-sieve/sieve-result.c

2021-05-10 20:40:00 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (224b393a)

    lib-sieve: sieve-result - Always call the post_commit method of side-effects
    if present.

    This is not currently used, but the absence of the call could cause memory
    leaks in the future.

M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2021-05-10 20:37:00 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (58486f18)

    lib-sieve: sieve-result - Move side-effect execution activities to separate
    functions.


M	src/lib-sieve/sieve-result.c

2021-05-10 20:33:59 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (fb1e8fe0)

    lib-sieve: sieve-result - Make calls to sieve_action_execution_pre/post()
    more logical.

    Call sieve_action_execution_pre() just before the first action activity and 
    always call sieve_action_execution_post() at the end of each action
    activity. This makes things clearer and it makes the next commit easier.

M	src/lib-sieve/sieve-result.c

2021-05-10 19:29:14 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1583eea2)

    lib-sieve: sieve-result - Remove code duplication between implicit keep and
    normal action execution.


M	src/lib-sieve/sieve-result.c

2021-04-26 03:31:30 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e3135559)

    lib-sieve: sieve-result - Move action execution state to a separate struct.


M	src/lib-sieve/sieve-result.c

2021-05-10 12:07:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ea20148c)

    lib-sieve: sieve-result - Rename rac local variables to aexec.

    Preparation for next commit.

M	src/lib-sieve/sieve-result.c

2021-04-11 00:23:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (49b0df02)

    lib-sieve: sieve-actions - Remove parameter last from action finish method.


M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2021-04-23 10:59:35 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b1720551)

    lib-sieve: sieve-actions - Avoid logging about rolled-back successful
    implicit keep.

    This will now readily happen when executed (not committed) success implicit
    keep is replaced by a failure implicit keep.

M	src/lib-sieve/sieve-actions.c

2021-04-22 23:08:07 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (61a33b14)

    lib-sieve: sieve-result - Commit actions only at the end of an execution
    sequence.

    Before, actions were executed and committed in full after each script in a 
    sequence. With this change, actions can still be rolled back until the end
    of all Sieve script and action execution.

M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2021-04-20 01:49:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c11beda2)

    lib-sieve: sieve-result - Add separate committed flag to struct
    sieve_result_execution.

    The committed flag is set when at least one action was committed
    successfully. The existing executed flag is repurposed to signal successful
    execution of at least one action. These flags are now also properly managed
    for the keep action.

M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2021-05-10 18:58:11 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2c216d7c)

    lib-sieve: sieve-result - Move local seen_delivery flag to struct
    sieve_result_execution.

    Allows doing the check in the action finalization function.

M	src/lib-sieve/sieve-result.c

2021-04-20 01:33:46 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (386f1636)

    lib-sieve: sieve-result - Move executed_delivery flag to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c

2021-04-20 01:26:29 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (19e69f3b)

    lib-sieve: sieve-result - Move executed flag to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2021-04-16 01:06:28 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0b19d378)

    lib-sieve: sieve-result - Always iterate through all actions while
    executing.


M	src/lib-sieve/sieve-result.c

2021-04-20 02:00:29 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (21683788)

    lib-sieve: sieve-result - Remove sieve_result_finish().

    It is no longer used.

M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2021-04-16 00:32:37 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (551293ad)

    lib-sieve: sieve-result - Use proper state field for executed actions.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2021-04-11 22:42:49 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c52ef960)

    lib-sieve: sieve-result - Only perform implicit keep inside
    sieve_result_execute().

    Adds status parameter to sieve_result_execute().

M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c

2021-04-11 11:51:33 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3f01d89d)

    lib-sieve: sieve-result - Avoid use of result->last_attempted_action in
    sieve_result_print().


M	src/lib-sieve/sieve-result.c

2021-04-11 11:49:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c4d89e43)

    lib-sieve: sieve-result - Restructure sieve_result_print().


M	src/lib-sieve/sieve-result.c

2021-04-11 11:32:25 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (37047790)

    lib-sieve: sieve-result - Use execution sequence counter to distinguish old
    and new actions.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2021-04-10 23:49:21 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (93ad05b4)

    lib-sieve: sieve-result - Record per-action error handler.

    Makes sure it is consistent for a later commit when action exection is more
    fragmented.

M	src/lib-sieve/sieve-result.c

2021-04-10 23:39:50 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (32b8af52)

    lib-sieve: sieve-result - Move execution status to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 23:14:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (891784ee)

    lib-sieve: sieve-result - Record action execution status as full integer
    status.


M	src/lib-sieve/sieve-result.c

2021-04-10 22:14:38 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (508fa1f7)

    lib-sieve: sieve-result - Move keep status to sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 21:15:00 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (df07ff62)

    lib-sieve: sieve-result - Split _sieve_result_implicit_keep() into execute
    and finalize phases.


M	src/lib-sieve/sieve-result.c

2021-04-10 17:39:03 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3abfdaf0)

    lib-sieve: sieve-result - Move keep side effects to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 17:24:56 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b5929739)

    lib-sieve: sieve-result - Change rollback to success parameter in
    _sieve_result_implicit_keep().


M	src/lib-sieve/sieve-result.c

2021-04-10 17:20:31 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e43a4544)

    lib-sieve: sieve-result - Always perform search for keep-equal actions
    during implicit keep.


M	src/lib-sieve/sieve-result.c

2021-04-10 15:31:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (55ef4edc)

    lib-sieve: sieve-result - Move keep action context to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 15:22:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4eb8298a)

    lib-sieve: sieve-result - Move keep execute status to struct
    sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 15:08:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (7b213ac4)

    lib-sieve: sieve-result - Change action parameter of
    sieve_action_execution_pre() to result action.


M	src/lib-sieve/sieve-result.c

2021-04-10 14:58:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (001d4cab)

    lib-sieve: sieve-result - Rename keep return argument for
    sieve_result_execute() to keep_r.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-result.c

2021-04-10 14:37:06 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (7ffdaf07)

    lib-sieve: sieve-result - Move keep action to struct sieve_result_execution.


M	src/lib-sieve/sieve-result.c

2021-05-10 01:24:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e082eb15)

    lib-sieve: sieve-result - Split off sieve_result_action_finish().


M	src/lib-sieve/sieve-result.c

2021-05-10 01:19:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9a0ae786)

    lib-sieve: sieve-result - Move sieve_result_action_commit_or_rollback().


M	src/lib-sieve/sieve-result.c

2021-05-10 01:17:55 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d1bf5928)

    lib-sieve: sieve-result - Move sieve_result_action_rollback().


M	src/lib-sieve/sieve-result.c

2021-05-10 01:16:40 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ebea306b)

    lib-sieve: sieve-result - Move sieve_result_action_commit().


M	src/lib-sieve/sieve-result.c

2021-04-10 13:55:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (aa524676)

    lib-sieve: sieve-result - Split off sieve_result_action_execute().


M	src/lib-sieve/sieve-result.c

2021-05-10 00:14:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (10826af0)

    lib-sieve: sieve-result - Split off sieve_result_action_start().


M	src/lib-sieve/sieve-result.c

2021-04-23 10:51:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (59809e2d)

    lib-sieve: sieve-result - Consistently use sieve_action_execution_post() at
    end of execution.


M	src/lib-sieve/sieve-result.c

2021-04-10 13:19:27 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (228801cf)

    lib-sieve: sieve-result - Rename sieve_result_finish_action_env() to
    sieve_action_execution_post().


M	src/lib-sieve/sieve-result.c

2021-04-10 13:19:16 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d523a01f)

    lib-sieve: sieve-result - Rename sieve_result_prepare_action_env() to
    sieve_action_execution_pre().


M	src/lib-sieve/sieve-result.c

2021-04-10 13:06:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3081c100)

    lib-sieve: sieve-result - Change execution API to use separate struct.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-result.c

2021-04-09 02:12:53 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e6af7659)

    lib-sieve: sieve - Merge sieve_multiscript_tempfail() into
    sieve_multiscript_finish().


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c

2021-04-23 10:40:21 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c0384971)

    lib-sieve: sieve - Make sieve_multiscript_finish/tempfail(NULL, ...) a
    no-op.


M	src/lib-sieve/sieve.c

2021-04-09 01:51:46 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (8bbcc9cd)

    lib-sieve: sieve - Move multiscript API cleanup to separate function.


M	src/lib-sieve/sieve.c

2021-05-21 02:57:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (14dc2bc1)

    lib-sieve: sieve - Modify mscript->keep directly in
    sieve_multiscript_execute/test().

    Avoids unnecessary pointer parameter.

M	src/lib-sieve/sieve.c

2021-05-21 01:44:57 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (85b3d400)

    lib-sieve: sieve - Remove unused keep_r argument from execution functions.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c

2021-04-08 23:52:35 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (84ad4043)

    lib-sieve: sieve-result - Move result action keep field to public action
    struct.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2021-04-11 12:09:15 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9d5979b5)

    lib-sieve: sieve-actions - Make sure mail error is handled properly in store
    action.


M	src/lib-sieve/sieve-actions.c

2021-04-11 12:07:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (447cebed)

    lib-sieve: sieve-actions - Restructure commit phase of store action.


M	src/lib-sieve/sieve-actions.c

2021-04-06 23:33:45 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d8a8ebd0)

    lib-sieve: sieve-actions - Move store transaction cleanup to separate
    function.


M	src/lib-sieve/sieve-actions.c

2021-02-12 22:09:27 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (f015a391)

    lib-sieve: sieve-actions - Move implicit keep handling to execute phase of
    action execution.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2021-05-10 11:09:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (af0d634a)

    lib-sieve: sieve-result - Rename first_/last_action to actions_head/_tail.


M	src/lib-sieve/sieve-result.c

2021-03-29 00:10:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6ca5e567)

    plugins: sieve-extprograms: Reformat cmd-pipe.c.


M	src/plugins/sieve-extprograms/cmd-pipe.c

2020-04-05 23:27:49 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (38380092)

    lib-sieve: plugins: imap4flags: Reformat tag-flags.c.


M	src/lib-sieve/plugins/imap4flags/tag-flags.c

2021-03-29 00:03:37 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b73dc428)

    lib-sieve: plugins: copy: Reformat ext-copy.c.


M	src/lib-sieve/plugins/copy/ext-copy.c

2021-04-11 12:29:16 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (99f1c8a1)

    lib-sieve: Reformat sieve-actions.c.


M	src/lib-sieve/sieve-actions.c

2020-08-25 22:22:10 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a41f4337)

    testsuite: testsuite-mailstore - Check mail index validity in
    testsuite_mailstore_mail_index().

    Providing an out-of-range index caused an assert panic.

    Panic was:

    Panic: file mail-index-transaction-update.c: line 19
    (mail_index_transaction_lookup): assertion failed: (seq >= t->first_new_seq
    && seq <= t->last_new_seq)

M	Makefile.am
M	src/testsuite/testsuite-mailstore.c
A	tests/failures/fuzz3.svtest

2020-08-25 22:28:06 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a5d77dca)

    testsuite: testsuite-mailstore - Return struct testsuite_mailstore_mail from
    testsuite_mailstore_open().

    This is more flexible and needed in subsequent commit.

M	src/testsuite/testsuite-mailstore.c

2021-04-20 02:07:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c4322964)

    lib-sieve: sieve-result - Prevent executing implicit keep upon resource
    limit transgression.


M	src/lib-sieve/sieve-result.c

2021-03-08 17:15:52 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (827cab0d)

    managesieve: Fix crash when processing pipelined input after AUTHENTICATE

    Attempting to pipeline any commands with the AUTHENTICATE command resulted 
    in crash.

    Fixes: Panic: file istream.c: line 317 (i_stream_read_memarea): assertion
    failed: (old_size <= _stream->pos - _stream->skip)

M	src/managesieve/main.c

2021-03-08 17:12:08 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (bae10a75)

    managesieve: Move finishing istream to client_create_finish()


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2021-02-24 19:08:33 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (953daba7)

    plugins: sieve-extprograms: Adjust to program_client_run() API change


M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2021-02-13 00:00:49 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (151eec1e)

    plugin tests: Do not use valgrind for child processes.

    Those are currently exclusively system tools and we cannot control whether
    those have memory leaks.

M	Makefile.am

2021-02-13 00:00:28 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (3b375f86)

    Update m4/dovecot.m4.


M	m4/dovecot.m4

2020-04-08 09:39:20 -0400 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (8bc82b3b)

    lib-sieve: Include year in log file header

    Even on a well configured system, the log may accumulate the occasion error. 
    Because of the rare nature, it is impossible to know if the error from 
    yesterday is really a year old error that doesn't matter anymore.

M	src/lib-sieve/sieve-error.c

2020-09-11 02:42:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d07a8bae)

    testsuite: testsuite-mailstore - Check validity of folder argument.

    This is actually a secondary test. The command calling this should already
    have checked this.

M	src/testsuite/testsuite-mailstore.c

2020-09-11 02:41:34 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6d4b1ea5)

    testsuite: cmd-test-message - Properly check folder argument validity.


M	Makefile.am
M	src/testsuite/cmd-test-message.c
A	tests/failures/mailbox-bad-utf8.svtest

2020-09-11 02:52:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1a661ed1)

    testsuite: testsuite-common - Make expected test failure more clear in the
    output.


M	src/testsuite/testsuite-common.c

2021-05-05 21:36:32 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (c70db20f)

    global: Adjust to env_put() API change


M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/managesieve-login/managesieve-login-settings-plugin.c

2021-02-11 16:33:26 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (9c8c06f0)

    global: Use array_foreach_elem() where possible


M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/sieve-validator.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/imapsieve/imap-sieve-storage.c

2021-03-02 10:56:54 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (35dd5386)

    NEWS: Update news for 0.5.14


M	NEWS

2021-02-17 13:30:46 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (307bf115)

    NEWS: Add news for 0.5.14.rc1


M	NEWS

2021-04-13 17:24:01 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (26537156)

    global: Adjust to buffer_t API change


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-settings.c

2021-03-23 10:51:00 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (ad0d57b2)

    managesieve: parent_event was renamed to event_parent


M	src/managesieve/main.c

2020-04-16 11:09:17 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (1c7173a8)

    global: Adjust to settings-parser API changes


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-settings.c

2021-03-15 18:27:02 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (0605bd02)

    lib-sieve: sieve-interpreter - Adjust to cpu-limit API change


M	src/lib-sieve/sieve-interpreter.c

2021-03-15 18:26:32 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (bd6e75f9)

    lib-sieve: sieve-interpreter - Fix crash if max_cpu_time_secs==0


M	src/lib-sieve/sieve-interpreter.c

2021-02-03 22:45:11 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (a7439203)

    global: Use mailbox_get_last_internal_error()

    mailbox_get_last_error() should be used only for client-visible errors. The
    internal errors should be used for logging.

M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/mail-raw.c
M	src/lib-sieve/util/test-edit-mail.c
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/sieve-tools/sieve-filter.c

2021-02-03 22:25:38 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (093fd3e5)

    managesieve: Standardize disconnection log message


M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/managesieve-client.c

2021-02-03 22:16:30 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (8b58503f)

    managesieve-login: Use client_destroy_iostream_error()


M	src/managesieve-login/client-authenticate.c

2021-02-03 22:04:50 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (79a6118d)

    managesieve-login: Replace "Aborted login" with "Disconnected: Aborted login
    by logging out"


M	src/managesieve-login/client.c

2021-02-03 22:02:00 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (2cd21f54)

    managesieve-login: Remove duplicate "Disconnected: " log prefixes

    client_destroy() already adds it.

M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client.c

2021-03-02 17:06:42 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (505b765c)

    managesieve: Fix using mail_log_prefix when client is disconnected due to
    server shutdown


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c

2020-12-07 23:42:04 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (d99c69b8)

    plugins: lda-sieve: Implement cumulative resource limits on script
    execution.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2020-12-07 23:41:41 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (63fe1864)

    plugins: imap-sieve: Implement cumulative resource limits on script
    execution.


M	src/plugins/imapsieve/imap-sieve.c

2020-12-07 23:41:00 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (f9ebcd45)

    plugins: imap-filter-sieve: Implement cumulative resource limits on script
    execution.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2020-12-04 12:19:28 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (8d6d9e9f)

    lib-sieve: sieve-types - Add SIEVE_EXEC_RESOURCE_LIMIT exit code.

    It indicates that script execution exceeded a resource limit (currently only
    CPU time limit).

M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2020-12-04 03:47:04 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (c3807e32)

    plugins: lda-sieve: Restructure lda_sieve_execute_script().


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2020-12-04 03:30:33 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (50fe61c8)

    plugins: lda-sieve: Change return type of lda_sieve_execute_script*() to
    int.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2020-12-04 03:17:17 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (4b5ced2c)

    plugins: imap-filter-sieve: Restructure imap_sieve_filter_run_scripts().


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2020-12-04 03:12:01 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (0f5113e1)

    plugins: imap-filter-sieve: Make temporary failure and corrupt binary errors
    fatal.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2020-12-04 03:08:12 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (9d2fa4de)

    plugins: imap-filter-sieve: Add support for fatal script execute errors.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h
M	src/plugins/imap-filter-sieve/imap-filter.c

2021-01-04 16:09:00 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (3f007c7d)

    plugins: imap-filter-sieve: Make sure an (internal) error message is
    available for failed compile.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2021-01-04 05:22:40 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (552611e2)

    plugins: imap-filter-sieve: Fix useless addition of internal error message
    to FILTER SIEVE errors.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2020-12-04 02:54:58 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (f043569d)

    plugins: imapsieve: Restructure imap_sieve_run_scripts().


M	src/plugins/imapsieve/imap-sieve.c

2020-12-04 02:45:50 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (d083bdab)

    plugins: imapsieve: Make temporary failure and corrupt binary errors fatal.


M	src/plugins/imapsieve/imap-sieve.c

2020-12-04 02:36:36 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (dd1e4248)

    plugins: imapsieve: Add support for fatal script execute errors.


M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h

2020-12-03 03:23:55 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (7f50cd8e)

    lib-sieve: sieve-interpreter - Record last resource usage in struct
    sieve_exec_status.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-types.h

2020-11-27 04:25:39 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (19fb7699)

    lib-sieve: sieve-binary-dumper - Dump information from file header.


M	src/lib-sieve/sieve-binary-dumper.c

2021-01-04 19:07:11 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (5a794cc8)

    lib-sieve: sieve - Add sieve_check_executable().


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2020-12-06 03:20:20 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (0c84d613)

    lib-sieve: sieve - Add sieve_record_resource_usage().


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2020-12-06 03:19:36 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (bcff0f7e)

    lib-sieve: sieve - Check binary for resource limits before opening in
    sieve_script_open().


M	src/lib-sieve/sieve.c

2020-12-06 03:16:23 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (62f4b4fc)

    lib-sieve: sieve-binary - Add sieve_binary_check_executable().

    Checks whether binary is suitable for execution.

M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.h

2020-12-08 01:27:54 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (54b120d4)

    lib-sieve: sieve - Retain resource usage statistics across script recompile
    in sieve_open*().


M	src/lib-sieve/sieve.c

2020-12-10 00:54:37 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (015b1fda)

    lib-sieve: sieve - Restructure sieve_open_script().

    Move part within data stack frame to separate function.

M	src/lib-sieve/sieve.c

2020-11-27 04:15:42 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (a01173c6)

    lib-sieve: sieve-binary - Add support for recording cumulative resource
    usage.

    Currently, only CPU time is supported.

M	INSTALL
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-types.h

2020-12-03 03:36:06 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (77d56fd5)

    lib-sieve: sieve - Add API for resource usage manipulation and evaluation.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2020-12-23 03:05:12 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (0b9acda1)

    lib-sieve: sieve-binary-file - Associate saved binary with save path if no
    path is set.


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 02:50:06 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (0aaf8a2f)

    lib-sieve: sieve-binary-file - Record file header in binary struct.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c

2020-11-27 02:18:21 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (5e6e44c4)

    lib-sieve: sieve-binary-file - Split off sieve_binary_fd_open().


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 00:10:14 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (489a8469)

    lib-sieve: sieve-binary-file - Change binary file header format to include
    header size and flags.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.h

2020-12-08 00:29:06 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (8b489404)

    lib-sieve: sieve-binary-file - Move struct sieve_binary_header to
    sieve-binary-private.h.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2020-11-27 00:10:14 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (3ce88199)

    lib-sieve: sieve-binary-file - Split off sieve_binary_file_read_header().


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 01:23:34 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (16f2ef6e)

    lib-sieve: sieve-binary-file - Add error_r return parameter to
    _sieve_binary_open().


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 02:56:27 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (c89a110d)

    lib-sieve: sieve-binary-file - Change return type of
    sieve_binary_file_read().


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 02:01:12 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (3c438a32)

    lib-sieve: sieve-binary-file - Remove unnecessary file load function
    pointers.

    There is only one implementation now.

M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2020-11-27 02:06:38 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (5c58aa91)

    lib-sieve: sieve-binary-file - Change return type of
    sieve_binary_file_open().


M	src/lib-sieve/sieve-binary-file.c

2020-11-27 04:10:20 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (b729f228)

    lib-sieve: sieve-binary-file - Make sieve_binary_file_close(NULL) a no-op.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.c

2020-12-08 01:31:48 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (81b90f89)

    lib-sieve: sieve - Change sieve_script_open() to use sieve_binary_close()
    internally.


M	src/lib-sieve/sieve.c

2020-11-27 03:46:02 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (99b4888a)

    lib-sieve: sieve - Change sieve_close() to use sieve_binary_close()
    internally.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2020-11-27 03:43:21 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (d9a02e46)

    lib-sieve: sieve-binary - Add sieve_binary_close().


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2020-11-27 03:33:23 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (710d01e5)

    lib-sieve: sieve-binary - Make sieve_binary_unref(NULL) a no-op.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-script.c

2020-10-28 20:16:17 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (68505e44)

    lib-sieve: Enforce CPU time limit on Sieve script execution.


M	INSTALL
M	Makefile.am
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-settings.c
A	tests/execute/errors-cpu-limit.svtest
A	tests/execute/errors/cpu-limit.sieve

2020-03-09 23:58:01 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (40b13e53)

    lib-sieve: Reformat sieve-binary-dumper.h.


M	src/lib-sieve/sieve-binary-dumper.h

2020-03-09 23:56:33 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (190727bb)

    lib-sieve: Reformat sieve-binary-dumper.c.


M	src/lib-sieve/sieve-binary-dumper.c

2020-11-27 03:58:45 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (dc3edc2b)

    lib-sieve: Reformat sieve-binary-file.c.


M	src/lib-sieve/sieve-binary-file.c

2020-03-12 03:39:36 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (715b95ce)

    lib-sieve: Reformat sieve-settings.h.


M	src/lib-sieve/sieve-settings.h

2020-03-12 03:37:15 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (3ee39f42)

    lib-sieve: Reformat sieve-settings.c.


M	src/lib-sieve/sieve-settings.c

2020-10-29 01:32:04 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (8463029f)

    lib-sieve: Reformat sieve-limits.h.


M	src/lib-sieve/sieve-limits.h

2020-03-24 17:25:52 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (7047a6d8)

    lib-sieve: Reformat sieve.h.


M	src/lib-sieve/sieve.h

2020-11-27 00:35:58 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (501c5700)

    lib-sieve: Reformat sieve.c.


M	src/lib-sieve/sieve.c

2020-04-08 16:19:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (457e2a4f)

    lib-sieve: sieve-script - Fix leak of script object in
    sieve_script_binary_dump_metadata().


M	src/lib-sieve/sieve-script.c

2021-01-13 18:05:15 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (821a9516)

    plugins: imap-filter-sieve: cmd-filter-sieve - Avoid using
    imap_arg_as_nstring() in cmd_filter_sieve_script_parse_value_arg()

    The argument can only be a quoted string here, so imap_arg_as_string() will
    suffice.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2021-01-13 17:58:16 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (bba3a530)

    plugins: imap-filter-sieve: cmd-filter-sieve - Do not allow NIL as script
    name argument

    This was not supposed to be accepted and led to unexpected behavior:

    - FILTER SIEVE PERSONAL NIL was handled as FILTER SIEVE DELIVERY,
    - FILTER SIEVE GLOBAL NIL caused an internal error.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2021-01-13 18:12:38 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (58d792cd)

    plugins: imap-fitler-sieve: Reformat cmd-filter-sieve.c


M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2020-12-12 19:47:56 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (7a9a3219)

    NEWS: Add news for 0.5.13


M	NEWS

2020-11-10 11:46:47 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (8e405770)

    m4: dovecot.m4 - Sync with core


M	m4/dovecot.m4

2020-06-18 00:28:02 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a1c1ca78)

    lib-sieve: plugins: editheader: Fix infinite loop occurring when header
    setting is invalid.


M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	tests/extensions/editheader/protected.svtest

2020-03-25 20:36:15 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (4187a868)

    lib-sieve: plugins: editheader: Reformat ext-editheader-common.h.


M	src/lib-sieve/plugins/editheader/ext-editheader-common.h

2020-03-25 20:33:38 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (879d2121)

    lib-sieve: plugins: editheader: Reformat ext-editheader-common.c.


M	src/lib-sieve/plugins/editheader/ext-editheader-common.c

2020-06-11 20:53:26 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (fc605f10)

    testsuite: cmd-test-mailbox - Check mailbox name validity.

    Fixes assert failure occurring either at compiletime or at runtime
    (depending on whether the value originates from variable).

M	src/testsuite/cmd-test-mailbox.c

2020-06-11 20:53:24 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5c0c25fd)

    lib-sieve: plugins: special-use: tst-specialuse-exists - Check mailbox name
    validity.

    Fixes assert failure occurring either at compiletime or at runtime
    (depending on whether the value originates from variable).

M	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c
M	tests/extensions/special-use/errors.svtest
A	tests/extensions/special-use/errors/specialuse_exists-bad-utf8.sieve
M	tests/extensions/special-use/errors/syntax.sieve

2020-06-11 20:53:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c65f1c4c)

    lib-sieve: plugins: mailbox: tst-mailboxexists - Check mailbox name validity
    at runtime.

    Fixes assert failure occurring at runtime (when value originates from
    variable).

M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	tests/extensions/mailbox/errors.svtest
A	tests/extensions/mailbox/errors/mailboxexists-bad-utf8.sieve

2020-06-11 20:53:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0659935e)

    lib-sieve: ext-fileinto - Consistently use sieve_mailbox_check_name().


M	src/lib-sieve/ext-fileinto.c

2020-06-11 22:33:36 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (dcb93b58)

    tests: extensions: metadata: Add tests for bad UTF-8 in mailbox names.


M	tests/extensions/metadata/errors.svtest
A	tests/extensions/metadata/errors/metadata-bad-utf8.sieve
A	tests/extensions/metadata/errors/metadataexists-bad-utf8.sieve
M	tests/extensions/metadata/errors/syntax.sieve

2020-06-11 21:56:44 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f87ddf2b)

    tests: extensions: mailbox: Add tests for syntax errors.


M	Makefile.am
A	tests/extensions/mailbox/errors.svtest
A	tests/extensions/mailbox/errors/syntax.sieve

2020-06-11 21:35:47 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b62d83a2)

    tests: execute: Add tests for fileinto command executed with bad UTF-8 in
    folder name.

    Compile error is avoided by putting the mailbox name in a variable, which is
    (currently) only evaluated at runtime.

M	tests/execute/errors.svtest
A	tests/execute/errors/fileinto-bad-utf8.sieve

2020-06-11 21:26:56 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cb916cca)

    tests: compile: Add tests for fileinto command compile errors.


M	tests/compile/errors.svtest
A	tests/compile/errors/fileinto.sieve

2020-06-11 20:53:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (01b3eaa3)

    lib-sieve: sieve-actions - Fix error message in sieve_mailbox_check_name().


M	src/lib-sieve/sieve-actions.c

2020-06-11 20:53:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2085ed3d)

    lib-sieve: plugins: metadata: tst-metadataexists - Fix warning message
    prefix in tst_metadataexists_operation_execute().


M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2020-06-11 20:53:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ac91b1fa)

    testsuite: cmd-test-mailbox - Move runtime execution to separate functions.

    Reduces code indent.

M	src/testsuite/cmd-test-mailbox.c

2020-06-11 20:53:21 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2ada0123)

    lib-sieve: plugins: special-use: tst-specialuse-exists - Restructure
    tst_specialuse_exists_operation_execute().

    Reduces indent.

M	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c

2020-06-11 20:53:21 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ceb4a50b)

    lib-sieve: plugins: special-use: tst-specialuse-exists - Split off
    tst_specialuse_exists_check_flag().

    Reduces code indent.

M	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c

2020-06-11 20:53:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3bf389e2)

    lib-sieve: plugins: metadata: tst-metadataexists - Split off
    tst_metadataexists_check_annotation().

    Reduces code indent.

M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2020-06-11 20:53:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d58ba0b3)

    lib-sieve: plugins: mailbox: tst-mailboxexists - Restructure
    tst_mailboxexists_operation_execute().

    Reduces code indent.

M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2020-06-11 20:53:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d27a2ca2)

    lib-sieve: plugins: mailbox: tst-mailboxexists - Split off
    tst_mailboxexists_test_mailbox().

    Reduces code indent.

M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2020-06-11 20:53:19 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (06034e01)

    lib-sieve: ext-fileinto - Improve error message for invalid folder name.


M	src/lib-sieve/ext-fileinto.c

2020-06-11 20:53:19 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3a8094f0)

    lib-sieve: ext-fileinto - Always check validity of folder name at runtime.


M	src/lib-sieve/ext-fileinto.c

2020-06-11 20:53:19 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d09d71a8)

    testsuite: cmd-test-mailbox - Fix comment in
    cmd_test_mailbox_operation_execute().


M	src/testsuite/cmd-test-mailbox.c

2020-06-11 20:53:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (aed6f90c)

    lib-sieve: plugins: special-use: Reformat tst-specialuse-exists.c.


M	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c

2020-06-11 20:53:18 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (7793c0dc)

    lib-sieve: plugins: metadata: Reformat tst-metadataexists.c.


M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2020-06-11 20:53:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (22e3c512)

    lib-sieve: plugins: metadata: Reformat tst-metadata.c.


M	src/lib-sieve/plugins/metadata/tst-metadata.c

2020-06-11 20:53:15 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (64ec8a73)

    lib-sieve: plugins: mailbox: Reformat tst-mailboxexists.c.


M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2020-06-11 20:53:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c80f315d)

    lib-sieve: Reformat ext-fileinto.c.


M	src/lib-sieve/ext-fileinto.c

2020-08-13 20:25:11 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (529fc691)

    testsuite: cmd-test-fail - Remove unused _get_generator_context().


M	src/testsuite/cmd-test-fail.c

2020-05-19 15:40:04 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (33c8d372)

    lib-sieve: Adjust to message_parser_init() API change


M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/sieve-message.c

2020-06-30 11:53:28 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (cf9062c7)

    NEWS: Add news for 0.5.11


M	NEWS

2020-07-09 02:45:26 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d8bd2c73)

    lib-sieve: plugins: duplicate: Only save duplicate entry when the last
    script executed successfully.

    This prevents prematurely marking duplicates when errors occur during result 
    execution. Before, the pending duplicate database changes were committed
    after each script executed in the sequence. If a later script failed,
    duplicate tests would mark duplicate messages prematurely.

    Disadvantage is that actions in earlier scripts that are shielded by a
    duplicate test can be executed twice erroneously when errors occurred in
    later scripts in the previous delivery. Still, unexpected duplicate action
    execution is better than losing mail due to erroneous duplicate detections.

    Fixing this properly requires extensively restructuring result execution.

M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c

2020-07-27 22:27:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (caca3091)

    lib-sieve: sieve - Explicitly finish the result in
    sieve_multiscript_finish().


M	src/lib-sieve/sieve.c

2020-07-27 22:26:39 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ab3bb29b)

    lib-sieve: sieve-result - Add sieve_result_finish().


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2019-10-01 21:49:33 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b3899bd5)

    lib-sieve: sieve-actions - Add "last" parameter to action finish method.

    This indicates whether the last script in the sequence is being executed.

M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-result.c

2020-07-09 02:42:29 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (58d81c59)

    lib-sieve: plugins: duplicate: ext-duplicate-common - Restructure
    act_duplicate_mark_finish().


M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c

2020-06-08 19:26:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d71045c1)

    testsuite: Reliably terminate tests upon failure.

    Before, it would only terminate the test when it failed explicitly using the 
    test_fail command.

M	Makefile.am
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
A	tests/failures/fuzz1.svtest
A	tests/failures/fuzz2.svtest

2020-06-10 12:27:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6359033b)

    testsuite: testsuite-mailstore - Preserve all allocated mails until result
    is reset.

    The actions contained in the result may keep references to the overriden
    mail struct, so these need to be preserved.

M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-result.c

2020-06-08 19:26:50 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2f20547d)

    testsuite: testsuite-message - Preserve all allocated mails until result is
    reset.

    The actions contained in the result may keep references to the overriden
    mail struct, so these need to be preserved.

M	src/testsuite/cmd-test-result.c
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite.c

2020-06-08 19:26:47 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c3fca0a1)

    testsuite: Drop needless result reference in testsuite_run().

    This holds a reference to the initial result, causing it to linger after 
    test_result_reset, thereby also holding a reference to the message context, 
    preventing it from being cleared. This in turn, can keep references to
    modified message versions that cause the main message object to remain
    referenced. This causes a panic in specific cases upon test_result_reset:

    Panic: Input stream data unexpectedly has references

M	src/testsuite/testsuite.c
M	tests/extensions/editheader/execute.svtest

2020-06-08 19:26:45 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4635acae)

    testsuite: Properly check address value parsed from message.

    Caused a panic when input was not valid. This is only relevant to the test
    suite and doesn't occur anywhere else (apart from the previous similar
    commit for lib-sieve-tool).

    Panic was:

    Panic in file smtp-address.c: line 684 (smtp_address_write): assertion
    failed: (smtp_char_is_qpair(*p))`

M	src/testsuite/testsuite-message.c
M	tests/extensions/vacation/smtp.svtest

2020-06-10 13:02:10 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (39e9b39e)

    lib-sieve-tool: sieve-tool - Properly check address value parsed from
    message.


M	src/lib-sieve-tool/sieve-tool.c

2020-06-08 19:26:42 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (89ddd79d)

    lib-sieve-tool: Add sieve_tool_get_mail_raw_user().


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h

2020-06-08 19:26:40 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (571964e9)

    lib-sieve: sieve-interpreter - Add sieve_interpreter_program_jump_to().


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2020-06-08 19:26:38 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b5ccedae)

    lib-sieve: sieve-interpreter - Split off
    sieve_interpreter_do_program_jump().


M	src/lib-sieve/sieve-interpreter.c

2020-06-08 19:26:35 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (3e0a599e)

    lib-sieve: sieve-interpreter - Split off
    sieve_interpreter_check_program_jump().


M	src/lib-sieve/sieve-interpreter.c

2020-06-08 19:26:33 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ad7bb544)

    lib-sieve: sieve-interpreter - Restructure sieve_interpreter_program_jump().


M	src/lib-sieve/sieve-interpreter.c

2020-06-08 19:26:30 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cba117cc)

    lib-sieve: sieve-interpreter - Drop needless result reference in
    sieve_interpreter_run().

    It is immediately referenced in sieve_interpreter_continue(), called from
    there.

M	src/lib-sieve/sieve-interpreter.c

2020-06-08 19:26:19 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (de09a841)

    lib-sieve: sieve-address - Require error_r parameters to not be NULL.

    The error string is currently always used and it must be, so there is no
    need to allow for the error_r paramerter to be NULL and unused.

M	src/lib-sieve/sieve-address.c

2020-07-30 23:33:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2028ada8)

    testsuite: Add support for test cases with expected failure.


M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2020-06-09 12:43:16 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2f645637)

    testsuite: Reformat cmd-test.c.


M	src/testsuite/cmd-test.c

2020-06-09 12:37:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ecc4a3ac)

    testsuite: Reformat cmd-test-result.c.


M	src/testsuite/cmd-test-result.c

2020-06-09 12:32:42 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6d250020)

    testsuite: Reformat cmd-test-message.c.


M	src/testsuite/cmd-test-message.c

2020-06-09 12:15:54 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2dbd2890)

    testsuite: Reformat cmd-test-mailbox.c.


M	src/testsuite/cmd-test-mailbox.c

2020-06-09 12:08:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (89dd012a)

    testsuite: Reformat cmd-test-fail.c.


M	src/testsuite/cmd-test-fail.c

2020-06-09 12:00:28 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (bc26d8b6)

    testsuite: Reformat testsuite-mailstore.h.


M	src/testsuite/testsuite-mailstore.h

2020-06-09 12:00:13 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ad35af9c)

    testsuite: Reformat testsuite-mailstore.c.


M	src/testsuite/testsuite-mailstore.c

2020-06-09 02:36:54 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0324c6dd)

    testsuite: Reformat testsuite-common.c.


M	src/testsuite/testsuite-common.c

2020-06-09 02:30:42 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f5a7bbb0)

    testsuite: Reformat testsuite-common.h.


M	src/testsuite/testsuite-common.h

2020-06-09 11:51:38 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6dc7b477)

    lib-sieve-tool: Reformat sieve-tool.h.


M	src/lib-sieve-tool/sieve-tool.h

2020-06-09 11:51:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (76d6da31)

    lib-sieve-tool: Reformat sieve-tool.c.


M	src/lib-sieve-tool/sieve-tool.c

2020-03-09 10:50:07 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (fc8940b1)

    lib-sieve: Reformat sieve-address.h.


M	src/lib-sieve/sieve-address.h

2020-03-09 10:49:57 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (f8effd5c)

    lib-sieve: Reformat sieve-address.c.


M	src/lib-sieve/sieve-address.c

2020-06-11 14:49:24 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0cf888a0)

    lib-sieve: plugins: relational: Fix segfault occurring in
    mcht_relational_validate().

    The segfault happens when this match type is the last argument of the test 
    command. This situation is not possible in a valid script; positional
    arguments are normally present after that, which would prevent the segfault.
    A variant of this bug occurs when the match type also has no argument of its
    own. In either case the segfault is caused by referring to absent tag
    arguments, which causes a NULL dereference.

M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	tests/extensions/relational/errors.svtest
A	tests/extensions/relational/errors/syntax.sieve

2020-06-17 23:54:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0b96fb53)

    lib-sieve: plugins: relational: Reformat ext-relational-common.h.


M	src/lib-sieve/plugins/relational/ext-relational-common.h

2020-06-17 23:53:56 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (81083e3e)

    lib-sieve: plugins: relational: Reformat ext-relational-common.c.


M	src/lib-sieve/plugins/relational/ext-relational-common.c

2020-05-20 02:03:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1b9b5ce2)

    tests: plugins: extprograms: pipe/errors.svtest - Fix "Timeout" test.


M	tests/plugins/extprograms/pipe/errors.svtest

2020-05-07 14:44:12 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (1a8be20e)

    managesieve-login: proxy - Forward remote AUTHENTICATE TRYLATER failures


M	src/managesieve-login/managesieve-proxy.c

2020-05-06 20:37:03 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (bb5c14a1)

    managesieve-login: proxy: Reconnect on temporary authentication failures


M	src/managesieve-login/managesieve-proxy.c

2020-05-07 15:01:43 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (613eb103)

    managesieve-login: proxy - Parse AUTHENTICATE reply more correctly

    It's still not fully correct, but we don't have existing code that supports 
    parsing it.

M	src/managesieve-login/managesieve-proxy.c

2020-05-06 20:40:14 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (b817b261)

    managesieve-login: Adjust to proxy_error() -> proxy_failed() API change


M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h

2020-05-06 18:10:30 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (27bb1903)

    managesieve-login: Replace e_error()+client_proxy_failed() calls with
    login_proxy_failed()


M	src/managesieve-login/managesieve-proxy.c

2020-05-06 16:54:15 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (7a6cc989)

    managesieve-login: Remove redundant/early freeing of proxy_password


M	src/managesieve-login/managesieve-proxy.c

2020-02-18 23:27:03 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (038274fe)

    global: Properly parse Message-ID header.

    Use mail_get_message_id() instead of just mail_get_first_header().

M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-message.c

2020-04-21 18:31:13 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (72bed3a5)

    testsuite: testsuite-message - Give all global variables a "testsuite_"
    prefix.


M	src/testsuite/testsuite-message.c

2020-04-21 18:27:33 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (06b29fd6)

    testsuite: Reformat testsuite-message.h.


M	src/testsuite/testsuite-message.h

2020-04-21 18:25:38 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6b2bc756)

    testsuite: Reformat testsuite-message.c.


M	src/testsuite/testsuite-message.c

2020-04-21 23:15:52 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (1bcf28c8)

    managesieve: Fix debug event's printf format type


M	src/managesieve/cmd-havespace.c

2020-04-24 13:05:01 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (6c81309a)

    managesieve-login: Correctly adjust to core login-common API changes.

    Previous commit was accidentally for an earlier version of the API change.

M	src/managesieve-login/client.c

2020-04-10 01:02:50 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (568c72e7)

    managesieve-login: Adjust to core login-common API changes.


M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-proxy.c

2020-04-05 01:25:02 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (464a0f92)

    lib-sieve: Use "sieve" category as parent for "sieve-*" categories


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-execute.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-storage.c

2020-03-11 15:43:47 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (7b97795e)

    managesieve: Change managesieve_max_line_length setting type to "size"


M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h

2020-03-24 17:59:18 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (ff7d9089)

    global: Remove dead assignments

    Found by latest clang scan-build.

M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-message.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2020-03-24 17:56:20 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (da702576)

    plugins: imap-filter-sieve: SIEVE SCRIPT - Reorder if checks to remove
    unnecessary indenting

    Nothing changes in the code logic.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2020-03-24 17:44:18 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (f69f9fe1)

    plugins: imap-filter-sieve: SIEVE SCRIPT - Cleanup istream return value
    checking

    The old code seems to have worked correctly already, but now it's a bit 
    clearer how it was intended to work.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2020-03-24 17:40:28 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (919704e7)

    lib-sieve: plugins: body: Fix compiler warning

    Fixes "warning: cast to smaller integer type" with new clang.

M	src/lib-sieve/plugins/body/tst-body.c

2020-03-17 09:33:24 -0400 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (301a5c44)

    global: use %zu directly instead of PRIuSIZE_T


M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/managesieve-quota.c
M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter.c

2020-03-09 14:54:04 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (5992e367)

    NEWS: Fix news for 0.5.10


M	NEWS

2020-03-03 13:59:43 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (2e6a4515)

    NEWS: Add news for v0.5.10


M	NEWS

2019-11-29 13:38:53 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (9c520dcf)

    NEWS: Add news for v0.5.9


M	NEWS

2019-11-29 13:34:40 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (fec11941)

    NEWS: Sync missing news from v0.5.7-v0.5.8


M	NEWS

2020-02-07 11:21:15 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (3bcdac3a)

    Update m4 from core


M	m4/dovecot.m4

2020-01-24 23:43:57 +0200 Timo Sirainen <timo.sirainen@open-xchange.com> (7b16a827)

    lib-sieve: Replace gettimeofday() calls with i_gettimeofday()


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2020-01-07 22:16:19 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (408aa45c)

    plugins: imap-filter-sieve: Add IMAP UID prefix to result action log
    messages.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2020-01-07 22:15:38 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (d6b55a3d)

    plugins: imapsieve: Add IMAP UID prefix to result action log messages.


M	src/plugins/imapsieve/imap-sieve.c

2020-01-07 22:21:19 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (4610f795)

    plugins: lda-sieve: Also amend debug messages with Message-ID prefix.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2020-01-07 22:10:21 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (818655d4)

    plugins: imapsieve: Make current mail available in struct
    imap_sieve_context.


M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h

2020-01-07 22:07:46 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (fa882b62)

    plugins: imap-filter-sieve: Make current mail available in struct
    imap_filter_sieve_context.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h

2020-01-07 22:13:53 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (895b035a)

    lib-sieve: Add flag that determines whether result actions are logged as
    debug or info.

    Default is now debug logging, which is used for the IMAP plugins. The LDA
    Sieve plugin uses info logging.

M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c

2020-01-05 17:54:20 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (23de7368)

    sieve-tools: Reformat sieve-filter.c.


M	src/sieve-tools/sieve-filter.c

2020-01-05 17:27:02 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (8df0409c)

    sieve-tools: Reformat sieve-test.c.


M	src/sieve-tools/sieve-test.c

2019-10-06 17:13:02 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f5993afe)

    plugins: imapsieve: imap-sieve-storage - Fix bug in composing the sorted
    rule array.

    When no insertion point was found, it would always insert the new rule at
    the beginning, rather than at the end.

M	src/plugins/imapsieve/imap-sieve-storage.c

2019-12-11 10:23:45 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (4efeaa21)

    lib-sieve: plugins: vacation: cmd-vacation - Perform all address comparisons
    case-insensitively.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/reply.svtest

2019-12-10 21:46:53 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (87d7c1ee)

    lib-sieve: plugins: vacation: cmd-vacation - Consolidate message address
    comparison in separate function.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2019-12-08 13:40:28 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (ef3509c3)

    lib-sieve: plugins: vacation: cmd-vacation - Restructure
    _get_full_reply_recipient().


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2019-12-08 13:29:24 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (400566cc)

    lib-sieve: plugins: vacation: cmd-vacation - Restructure
    _contains_my_address().


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2019-11-27 15:45:25 -0500 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (2774971b)

    sieve: Change rename event's script name fields for consistency

    Core is using {old,new}_foo for the RENAME IMAP command event, so let's 
    follow suit.

M	src/lib-sieve/sieve-script.c

2019-11-27 15:27:57 -0500 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (3fcbfe87)

    managesieve: Change rename event's script name fields for consistency

    Core is using {old,new}_foo for the RENAME IMAP command event, so let's 
    follow suit.

M	src/managesieve/cmd-renamescript.c

2019-11-13 15:17:18 -0500 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (e0d24a23)

    global: Remove sieve_ event field prefixes


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-setactive.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-11-13 14:57:30 -0500 Josef 'Jeff' Sipek <jeff.sipek@open-xchange.com> (0828b452)

    global: Remove managesieve_ event field prefixes


M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c

2018-08-28 23:02:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (775c6d60)

    plugins: imap-filter-sieve: Add headers to trace log file.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-10-29 10:16:10 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (71853c63)

    plugins: imap-filter-sieve: Restructure imap_filter_sieve_init_trace_log().


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-08-28 23:01:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4f77ad35)

    plugins: imapsieve: Add headers to trace log file.


M	src/plugins/imapsieve/imap-sieve.c

2019-10-29 10:06:09 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (e8ddc4a0)

    plugins: imapsieve: Restructure imap_sieve_run_init_trace_log().


M	src/plugins/imapsieve/imap-sieve.c

2018-08-28 23:00:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c338c755)

    plugins: lda-sieve: Add header to trace log file.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-10-29 10:01:55 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (e22d9fff)

    plugins: lda-sieve: Initialize trace log in a separate function.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2018-08-28 23:22:30 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (43eb04ee)

    plugins: imap-filter-sieve: Create a single trace file for a single IMAP
    command.

    Before, it created a separate trace file for each individual filtered
    message.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h

2018-08-28 23:08:06 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d285de14)

    plugins: imapsieve: Create a single trace file for a single IMAP command.

    Before, it created a separate trace file for each individual filtered
    message.

M	src/plugins/imapsieve/imap-sieve.c

2018-08-29 00:21:22 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (035f23f0)

    plugins: imap-filter-sieve: Make filter context available in Sieve context.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h

2018-08-28 22:01:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (12178738)

    lib-sieve: Add sieve_trace_log_printf(), which allows writing to the trace
    log directly.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2018-08-28 21:43:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (806ac6d5)

    lib-sieve: Remove optional label from trace log file name.

    It is generally a bad idea to add a potentially unlimited string to a
    filename, especially when it contains a mailbox name.

M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-10-29 21:48:40 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (9c24ea28)

    plugins: imapsieve: Reformat imap-sieve.c.


M	src/plugins/imapsieve/imap-sieve.c

2019-10-28 22:40:17 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (fbfd773f)

    managesieve: cmd-setactive - Add event fields for compile errors and
    warnings.


M	src/managesieve/cmd-setactive.c

2019-10-28 22:33:50 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (d558b050)

    managesieve: cmd-setactive - Add "error" event field for all error events.

    Before, only storage errors had the "error" field set.

M	src/managesieve/cmd-setactive.c

2019-10-28 22:38:08 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (31b09187)

    managesieve: cmd-putscript - Add event fields for compile errors and
    warnings.


M	src/managesieve/cmd-putscript.c

2019-10-28 22:32:33 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (abd18dbc)

    managesieve: cmd-putscript - Add "error" event field for all error events.

    Before, only storage errors had the "error" field set.

M	src/managesieve/cmd-putscript.c

2019-10-28 22:21:59 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (9cfb06c7)

    managesieve: managesieve-quota - Add "error" field for the command event
    when the quota check fails.


M	src/managesieve/managesieve-quota.c

2019-10-28 22:17:49 +0100 Stephan Bosch <stephan.bosch@open-xchange.com> (75da0600)

    managesieve: managesieve-client - Rename "args" command event field to
    "managesieve_command_args".

    This makes more sense with the managesieve_command_name field.

M	src/managesieve/managesieve-client.c

2019-10-22 21:47:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1dc7b2bc)

    managesieve: Emit command events.


M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-quota.c

2019-10-23 22:16:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (286bb6f1)

    managesieve: cmd-putscript - Handle storage error in a common function.


M	src/managesieve/cmd-putscript.c

2019-10-23 22:11:47 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (06793ee3)

    managesieve: managesieve-quota - Use command context rather than client as
    parameter.


M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h

2019-10-16 23:58:23 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (969386f5)

    managesieve: managesieve-client - Use client event for Sieve storage.


M	src/managesieve/managesieve-client.c

2018-08-02 10:01:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6e17ae3d)

    managesieve: Add client_command_context.event and use it as global event
    while running.


M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2018-08-02 09:44:12 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (94c84bed)

    managesieve: Add client.event and use it as mail_*user's parent event.


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-common.h

2019-10-17 23:28:31 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (292a46a9)

    managesieve: Store command args to client command contexts for debugging
    purposes.


M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2019-10-24 01:04:39 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cc73a587)

    lib-sieve: sieve-storage - Emit events for saving Sieve scripts.


M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.c

2019-10-24 00:41:00 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2ae307bd)

    lib-sieve: sieve-storage - Emit event for storage deactivation.


M	src/lib-sieve/sieve-storage.c

2019-10-24 14:37:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (af2b31cc)

    lib-sieve: sieve-storage - Better keep track of whether saving a script has
    failed.


M	src/lib-sieve/sieve-storage.c

2019-10-23 23:41:10 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c0c04bbc)

    lib-sieve: sieve-script - Emit events for various script manipulations.


M	src/lib-sieve/sieve-script.c

2019-10-23 23:45:16 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (69959aad)

    lib-sieve: sieve-script - Split off sieve_script_copy_from_default() from
    sieve_script_rename().


M	src/lib-sieve/sieve-script.c

2019-10-23 22:50:05 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a8f74fee)

    lib-sieve: sieve-script - Add more event fields.


M	src/lib-sieve/sieve-script.c

2019-10-23 22:57:34 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2b0bdd68)

    lib-sieve: sieve-script - Use sieve-storage event as event parent.


M	src/lib-sieve/sieve-script.c

2019-10-24 00:16:43 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (397a184b)

    lib-sieve: sieve-storage - Add more event fields.


M	src/lib-sieve/sieve-storage.c

2019-10-24 00:07:00 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f832fcf5)

    lib-sieve: sieve-storage - Add sieve-storage event category.


M	src/lib-sieve/sieve-storage.c

2019-10-24 15:21:56 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (9326853d)

    lib-sieve: sieve-storage - Restructure alloc/free of script save context.


M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h

2019-10-17 23:26:05 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a69a0c1d)

    lib-managesieve: managesieve-arg - Add functions for converting an argument
    list to a string.


M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h

2019-10-22 22:34:56 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (527e75dc)

    managesieve: cmd-deletescript - Restructure cmd_deletescript().


M	src/managesieve/cmd-deletescript.c

2019-10-22 21:51:29 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (90262f2e)

    managesieve: cmd-setactive - Remove empty line from
    cmd_setactive_activate().


M	src/managesieve/cmd-setactive.c

2019-10-22 22:28:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ed8cfba4)

    lib-sieve: sieve-script - sieve_script_unref(NULL) should be a no-op.


M	src/lib-sieve/sieve-script.c

2019-10-22 20:31:42 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (0e2806aa)

    lib-managesieve: Reformat managesieve-arg.c.


M	src/lib-managesieve/managesieve-arg.c

2019-10-22 20:27:52 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a71cf469)

    lib-managesieve: Reformat managesieve-arg.h.


M	src/lib-managesieve/managesieve-arg.h

2019-10-20 14:49:48 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1f6c2662)

    managesieve: cmd-setactive - Restructure cmd_setactive().


M	src/managesieve/cmd-setactive.c

2019-10-20 14:37:58 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5b0b3317)

    managesieve: cmd-putscript - Restructure cmd_putscript_finish_parsing().


M	src/managesieve/cmd-putscript.c

2019-10-20 14:14:34 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6efa7b09)

    managesieve: cmd-capability - Restructure cmd_capability().


M	src/managesieve/cmd-capability.c

2019-10-20 14:10:59 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (ae9301db)

    managesieve: managesieve-quota - Restructure managesieve_quota_check_all().


M	src/managesieve/managesieve-quota.c

2019-10-20 14:06:38 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5d231d8e)

    managesieve: Reformat managesieve-commands.c.


M	src/managesieve/managesieve-commands.c

2019-10-20 14:05:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (21d3fba3)

    managesieve: Reformat managesieve-settings.c.


M	src/managesieve/managesieve-settings.c

2019-10-20 14:03:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f2f157a3)

    managesieve: Reformat managesieve-capabilities.c.


M	src/managesieve/managesieve-capabilities.c

2019-10-20 14:00:59 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (24bd78e0)

    managesieve: Reformat managesieve-quota.h.


M	src/managesieve/managesieve-quota.h

2019-10-20 14:00:16 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2ae19412)

    managesieve: Reformat managesieve-quota.c.


M	src/managesieve/managesieve-quota.c

2019-10-20 13:57:32 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (6d6603da)

    managesieve: Reformat cmd-setactive.c.


M	src/managesieve/cmd-setactive.c

2019-10-20 13:53:05 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (1ee76ad6)

    managesieve: Reformat cmd-renamescript.c.


M	src/managesieve/cmd-renamescript.c

2019-10-20 13:52:22 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (60d31c4a)

    managesieve: Reformat cmd-putscript.c.


M	src/managesieve/cmd-putscript.c

2019-10-20 13:43:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4b3e8629)

    managesieve: Reformat cmd-noop.c.


M	src/managesieve/cmd-noop.c

2019-10-20 13:43:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (55507ca6)

    managesieve: Reformat cmd-logout.c.


M	src/managesieve/cmd-logout.c

2019-10-20 13:42:39 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (36babb7a)

    managesieve: Reformat cmd-capability.c.


M	src/managesieve/cmd-capability.c

2019-10-20 13:39:24 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c42bf0f9)

    managesieve: Reformat cmd-listscripts.c.


M	src/managesieve/cmd-listscripts.c

2019-10-20 13:38:13 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e214f94e)

    managesieve: Reformat cmd-havespace.c.


M	src/managesieve/cmd-havespace.c

2019-10-20 13:36:41 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (d11a7ee3)

    managesieve: Reformat cmd-getscript.c.


M	src/managesieve/cmd-getscript.c

2019-10-20 13:33:04 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (44a58eee)

    managesieve: Reformat cmd-deletescript.c.


M	src/managesieve/cmd-deletescript.c

2019-10-16 23:04:49 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4e47d097)

    managesieve: Reformat main.c.


M	src/managesieve/main.c

2019-10-16 22:59:17 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e75d0fe3)

    managesieve: Reformat managesieve-client.h.


M	src/managesieve/managesieve-client.h

2019-10-16 22:55:46 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (41778e8d)

    managesieve: Reformat managesieve-client.c.


M	src/managesieve/managesieve-client.c

2019-10-13 13:52:59 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (de1f2da7)

    lib-sieve: plugins: special-use: tag-special-use - Fix handling of variable
    argument.

    The use of a variable substitution erroneously produced a runtime syntax
    error.

M	src/lib-sieve/plugins/special-use/tag-specialuse.c
M	tests/extensions/special-use/execute.svtest

2019-10-13 13:36:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5abbfb0f)

    lib-sieve: plugins: special-use: tag-special-use - Fix error message
    prefixes.


M	src/lib-sieve/plugins/special-use/tag-specialuse.c

2019-10-13 13:34:13 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (024dd76e)

    lib-sieve: plugins: special-use: ext-special-use-common.h - Fix comment.


M	src/lib-sieve/plugins/special-use/ext-special-use-common.h

2019-10-13 13:30:36 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e4d5748f)

    lib-sieve: plugins: special-use: ext-special-use - Fix extension status
    information.


M	src/lib-sieve/plugins/special-use/ext-special-use.c

2019-10-10 15:36:28 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (fa3da3a5)

    lib-sieve: sieve-actions - Fix autocreate and autosubscribe for keep and
    fileinto actions.

    This was broken by recent adjustments to changes in Dovecot lib-storage API.

M	src/lib-sieve/sieve-actions.c

2016-10-03 16:51:46 +0200 Stephan Bosch <stephan@dovecot.fi> (1cda7a5b)

    lib-sieve: Implement support for the "special-use" extension.


M	Makefile.am
M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/special-use/Makefile.am
A	src/lib-sieve/plugins/special-use/ext-special-use-common.c
A	src/lib-sieve/plugins/special-use/ext-special-use-common.h
A	src/lib-sieve/plugins/special-use/ext-special-use.c
A	src/lib-sieve/plugins/special-use/tag-specialuse.c
A	src/lib-sieve/plugins/special-use/tst-specialuse-exists.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/special-use/errors.svtest
A	tests/extensions/special-use/errors/syntax.sieve
A	tests/extensions/special-use/execute.svtest

2017-10-02 00:20:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3acd20dd)

    lib-sieve: store action: Don't open the mailbox until act_store_execute().

    This allows side-effects to open a different mailbox than what is allocated 
    initially in act_store_start().

M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.c

2017-10-02 01:07:59 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2298ecf1)

    lib-sieve: store action: Properly allocate error in act_store_start().


M	src/lib-sieve/sieve-actions.c

2017-10-02 00:59:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5d3b67f3)

    lib-sieve: store action: Allow side-effects to change the mailbox identifier
    used in action logging.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2017-10-02 00:47:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (afa5e258)

    lib-sieve: plugins: mailbox: tag-mailbox-create - Add variable for
    trans->box in seff_mailbox_create_pre_execute().


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c

2017-10-02 00:45:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (763607ed)

    lib-sieve: sieve-actions - Add variable for trans->box in
    act_store_execute().


M	src/lib-sieve/sieve-actions.c

2017-10-02 00:39:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (550f90f5)

    lib-sieve: sieve-actions - Move recording of the last used storage to an
    earlier instance.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.c

2017-10-02 00:13:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b29e683d)

    lib-sieve: store action: Improve sieve_act_store_get_storage_error().

    Use mailbox_get_last_error() shorthand rather than 
    mail_storage_get_last_error().

M	src/lib-sieve/sieve-actions.c

2017-10-02 00:06:54 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b540702e)

    lib-sieve: store action: Move checking of keywords to the result execution.

    This way, the mailbox does not need to be opened until result execution.

M	src/lib-sieve/sieve-actions.c

2017-10-01 23:56:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f578b181)

    lib-sieve: plugins: mailbox: Use the new mailbox_alloc_for_user() for the
    mailboxexists test.

    By setting the MAILBOX_FLAG_POST_SESSION flag, this  makes sure the result
    of this test closely matches what would happen for a real delivery action
    using
    "fileinto".

M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2017-10-01 23:46:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b111fa06)

    lib-sieve: plugins: mailbox: tag-mailbox-create - Improve error handling.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c

2017-10-01 20:57:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (94f8e03a)

    lib-sieve: sieve-result - Sort action side effects based on precedence
    value.

    This way, the execution order can be made explicit.

M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2019-10-10 00:49:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2208be4e)

    lib-sieve: sieve-error - Add sieve_error_from_external() utility function
    and use it.


M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-script.c

2019-10-03 13:46:06 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (f69e172a)

    lib-sieve: Adjust to changes in Dovecot mailbox_alloc*() API.


M	src/lib-sieve/sieve-actions.c

2019-10-03 21:08:54 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (cf851a45)

    lib-sieve: sieve-message - Adjust to changes in Dovecot struct smtp_address.


M	src/lib-sieve/sieve-message.c

2018-09-18 23:54:18 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (72868144)

    plugins: imap-filter-sieve: Fix mixup between tag and problem part of the
    FILTER response for compile error.


M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2018-09-18 23:45:41 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e8b9f4da)

    plugins: imap-filter-sieve: Perform main initialization of Sieve script
    execution environment only once.

    This way, any configuration errors can be reported as a single FILTER ERRORS 
    response, rather than a FILTERED ERRORS response for each filtered message.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h
M	src/plugins/imap-filter-sieve/imap-filter.c

2018-09-18 22:39:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6aecd317)

    plugins: imap-filter-sieve: Make sure user gets to see at least one error
    when script execution fails.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-05-17 10:39:25 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (10c5cbe8)

    lib-managesieve: Make sure str_unescape() won't be writing past allocated
    memory

    The previous commit should already prevent this, but this makes sure it 
    can't become broken in the future either. It makes the performance a tiny 
    bit worse, but that's not practically noticeable.

M	src/lib-managesieve/managesieve-parser.c

2019-05-10 19:43:55 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (16e047c5)

    lib-managesieve: Don't accept strings with NULs

    ManageSieve doesn't allow NULs in strings.

    This fixes a bug with unescaping a string with NULs: str_unescape() could 
    have been called for memory that points outside the allocated string, 
    causing heap corruption. This could cause crashes or theoretically even 
    result in remote code execution exploit.

    Found by Nick Roessler and Rafi Rubin

M	src/lib-managesieve/managesieve-parser.c

2018-08-17 10:00:09 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5cd8cfc1)

    lib-sieve: duplicate extension: Fix caching of duplicate checks to also
    compare the actual hashes.

    Before, it only compared the handles, which would cause duplicate tests with 
    different values to be cached as the same duplicate test.

M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c

2019-08-12 22:35:51 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (36ff477b)

    managesieve-login: Remove duplicate code denying anonymous logins.

    Also explicitly initialize login_binary->anonymous_login_acceptable to FALSE
    to make clear that anonymous logins are intentionally not allowed for
    ManageSieve.

M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client.c

2019-08-09 01:06:59 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (fcb23499)

    managesieve-login: client.c - Use designated initializer for struct
    client_vfuncs.


M	src/managesieve-login/client.c

2019-07-31 22:50:57 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (e7babff7)

    lib-sieve: sieve-result - Assert that an action name is available in
    _sieve_result_add_action().

    Addresses a Coverity report.

M	src/lib-sieve/sieve-result.c

2019-07-31 22:37:47 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (8cfd3ff6)

    global: Rename all sieve action events to a uniform "sieve_action_finished".

    The action name can be determined from the sieve_action_name field that
    existed before.

M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-07-31 22:35:20 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a16a56d8)

    lib-sieve: plugins: enotify: ext-enotify-common - Add
    sieve_enotify_create_finish_event().


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2019-07-31 22:17:46 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (4d033fa2)

    lib-sieve: sieve-action - Add sieve_action_create_finish_event().


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2019-07-31 22:14:45 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (a69c8364)

    lib-sieve: sieve-action - Drop unused definition of
    sieve_action_get_location() from header file.


M	src/lib-sieve/sieve-actions.h

2019-07-07 14:34:41 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f64bd39b)

    plugins: imap-filter-sieve: imap-filter-sieve - Use imap client event as
    parent for sieve event.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-07-07 14:33:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ae080252)

    plugins: imapsieve: imap-sieve - Use imap client event as parent for sieve
    event.


M	src/plugins/imapsieve/imap-sieve.c

2019-07-07 14:33:01 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2e459125)

    plugins: lda-sieve: lda-sieve-plugin - Use deliver event as parent for sieve
    event.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-06-28 21:20:45 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ed58d960)

    lib-sieve: Emit named event for successfully executed actions.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-07-06 23:03:02 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f459db4c)

    lib-sieve: sieve-interpreter - Emit events for start and finish of script
    runtime.


M	src/lib-sieve/sieve-interpreter.c

2019-07-03 13:44:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (0e68299a)

    lib-sieve: sieve-error - Drop error handler hierarchy.

    It is no longer used.

M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c

2019-07-03 13:34:35 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (04f40d52)

    lib-sieve: sieve-error - Drop prefix error handler.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-07-07 13:19:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (77a7010c)

    lib-sieve: plugins: enotify: Add sieve_enotify_event_log().


M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2019-07-19 21:18:49 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (b3fb5d5d)

    lib-sieve: plugins: enotify: mailto: Use event API to handle the "mailto
    URI" log prefix.


M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c

2019-07-19 21:18:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (399c1c53)

    lib-sieve: plugins: enotify: Use event API to handle the notify
    command/action log prefix.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2019-07-19 20:27:08 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c562b1ff)

    lib-sieve: plugins: enotify: mailto: uri-mailto - Restructure error
    handling.

    Avoid using a Sieve error handler directly.

M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h

2019-07-03 21:58:39 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6f744723)

    lib-sieve: sieve-result - Handle action log prefix at a central location
    using the event.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-result.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-07-03 21:57:32 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9a048328)

    lib-sieve: sieve-error - Compose both the event and the error handler log
    message once using the event API.


M	src/lib-sieve/sieve-error.c

2019-07-03 17:06:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8f6ccd14)

    lib-sieve: sieve-error - Change error handler log function to accept direct
    message string.

    Before, it used format string and arguments.

M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/testsuite/testsuite-log.c

2019-07-03 13:32:01 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9178d40f)

    plugins: lda-sieve: Drop custom action error handler.


M	src/plugins/lda-sieve/Makefile.am
D	src/plugins/lda-sieve/lda-sieve-log.c
D	src/plugins/lda-sieve/lda-sieve-log.h

2019-07-03 13:29:11 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b0354cc1)

    sieve-tools: sieve-test - Use the new result message amendment callback
    rather than the prefix error handler.


M	src/sieve-tools/sieve-test.c

2019-07-03 13:26:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9712e4dd)

    sieve-tools: sieve-filter - Use the new result message amendment callback
    rather than the prefix error handler.


M	src/sieve-tools/sieve-filter.c

2019-07-03 13:24:01 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c209f9ab)

    plugins: lda-sieve: Use the new result message amendment callback rather
    than a special error handler.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-07-03 13:20:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (359188af)

    lib-sieve: sieve-result - Add support for amending result log messages.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-types.h

2019-06-27 13:35:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (bff3aee2)

    lib-sieve: sieve-result - Allow specifying an explicit name for actions
    added to the result.

    Before it always used the name of the action definition, which is confusing
    e.g. for the keep and fileinto actions, which both map to the same "store"
    action definition.

M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-06-28 21:15:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1d85af11)

    lib-sieve: sieve-result - Add sieve_result_event_log*().

    This allows logging action messages through a different (child) event.

M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2019-07-03 13:37:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4cd9b2c2)

    lib-sieve: sieve-error - Add sieve_event_log().


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-07-03 13:08:54 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (14fcdf1f)

    lib-sieve: sieve-error - Make enum sieve_error_flags public.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.h

2019-06-22 22:12:37 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8dd08fcd)

    lib-sieve: sieve-result - Define "sieve-action" event category.

    Applies to Sieve actions being executed.

M	src/lib-sieve/sieve-result.c

2019-06-22 09:38:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c52d25ad)

    lib-sieve: sieve-interpreter - Define "sieve-runtime" event category.

    Applies to Sieve scripts being evaluated before the actual action execution.

M	src/lib-sieve/sieve-interpreter.c

2019-06-22 09:27:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b538ebba)

    lib-sieve: sieve-execute - Define "sieve-execute" event category.

    Applies to Sieve scripts being executed in general.

M	src/lib-sieve/sieve-execute.c

2019-06-22 09:25:06 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (054c2e85)

    lib-sieve: Define "sieve" event category.


M	src/lib-sieve/sieve.c

2019-06-22 18:05:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (cddd93d2)

    lib-sieve: sieve-result - Use action event for all action execution log
    messages.


M	src/lib-sieve/sieve-result.c

2019-06-22 18:03:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8e4bf3f6)

    lib-sieve: sieve-result - Add event support for individual actions.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2019-06-22 10:44:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e937ff93)

    lib-sieve: sieve-interpreter - Use runtime event for all runtime log
    messages.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/tst-size.c

2019-06-22 10:43:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d6e84096)

    lib-sieve: sieve-error - Add support for logging through events other than
    the main instance event.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-06-22 09:43:10 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (692f6ca4)

    lib-sieve: sieve-result - Add event support to action execute environment.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2019-06-22 09:30:39 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (39b6eb9c)

    lib-sieve: sieve-runtime - Add event support to runtime environment.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-runtime.h

2019-06-22 09:16:16 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b539a50f)

    lib-sieve: sieve-execute - Add event support to execute environment.


M	src/lib-sieve/sieve-execute.c
M	src/lib-sieve/sieve-execute.h

2019-07-07 13:36:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2f398324)

    lib-sieve: Add username field to main instance event.


M	src/lib-sieve/sieve.c

2019-06-22 11:40:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (318c6a61)

    lib-sieve: sieve-actions - Remove action argument from action and
    side-effect definition functions.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-06-22 11:15:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (62913ca7)

    lib-sieve: sieve-actions - Add current action to action execution
    environment.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2019-06-21 00:23:43 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (90ba06f3)

    lib-sieve: Handle init/deinit of execute context in separate functions.

    Always associate a pool with the execute context.

M	src/lib-sieve/Makefile.am
A	src/lib-sieve/sieve-execute.c
M	src/lib-sieve/sieve-execute.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c

2019-06-22 18:01:20 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ada6ab95)

    lib-sieve: sieve-action - Add sieve_action_name() macro.


M	src/lib-sieve/sieve-actions.h

2019-07-06 23:04:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f77fb4c7)

    lib-sieve: sieve-interpreter - Turn bools in struct sieve_interpreter into
    bit fields.


M	src/lib-sieve/sieve-interpreter.c

2019-06-22 09:46:32 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1db9c46a)

    lib-sieve: sieve-result - Make direct result pointer avalable as local
    variable in sieve_result_unref().


M	src/lib-sieve/sieve-result.c

2019-07-16 23:59:09 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (5a00d2ff)

    lib-sieve: sieve-erorr - Add sieve_internal_error_params() and use it.

    This allows passing error parameters struct from sieve_critical*().

M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-06-29 09:59:18 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7a677e81)

    lib-sieve: sieve-error - Compose message prefixes in a single place for all
    error handler variants.


M	src/lib-sieve/sieve-error.c

2019-06-28 21:07:05 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e1d909c5)

    lib-sieve: sieve-error - Remove varexpand error handler.

    It is no longer used.

M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-07-03 21:23:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (688f8a2e)

    testsuite: testsuite-log - Change error message structure to match rest of
    Pigeonhole.


M	src/testsuite/testsuite-log.c

2019-06-22 16:41:16 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6b5cb2e5)

    testsuite: testsuite-log - Uninstall testsuite error handler upon deinit.

    This prevents segfaults e.g. when dovecot/lib wants to log errors at 
    lib_deinit().

M	src/testsuite/testsuite-log.c

2019-07-17 12:33:09 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (382b1eac)

    doveadm-sieve: Shared attribute iteration shouldn't list Sieve scripts

    Trying to get them as shared instead of as private resulted in failure.

M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2019-07-09 22:39:35 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (c7c3e55a)

    lib-sieve: plugins: vnd.dovecot: report: cmd-report - Fix resource leak
    occurring when the SMTP submission fails.

    Properly abort the SMTP transaction upon failure.

M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c

2019-07-09 22:38:14 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (65491e1b)

    lib-sieve: plugins: vacation: cmd-vacation - Fix resource leak occurring
    when the SMTP submission fails.

    Properly abort the SMTP transaction upon failure.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2019-07-09 22:36:15 +0200 Stephan Bosch <stephan.bosch@open-xchange.com> (2fda1f95)

    lib-sieve: cmd-redirect - Fix resource leak occurring when the SMTP
    submission fails.

    Properly abort the SMTP transaction upon failure.

M	src/lib-sieve/cmd-redirect.c

2019-06-17 23:26:25 +0300 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (b1198f7b)

    lib-sieve: storage: file: sieve-file-storage-save - Fix error message to
    include the intended path value rather than NULL.


M	src/lib-sieve/storage/file/sieve-file-storage-save.c

2019-06-18 10:59:24 +0300 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (cf66d379)

    lib-sieve: Expand SMTP_ADDRESS_LITERAL() macro

    This makes the use of compound literal explicit.

M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-message.c

2019-06-18 10:56:11 +0300 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (68472b3c)

    testsuite: Fix invalid compound literal use

    The lifetime of compound literals changes in gcc 9, and the old one 
    segfaults there.

M	src/testsuite/testsuite-message.c

2019-06-18 10:40:52 +0300 Martti Rannanjärvi <martti.rannanjarvi@open-xchange.com> (70834d27)

    testsuite: Expand SMTP_ADDRESS_LITERAL() macro

    This makes the use of compound literal explicit.

M	src/testsuite/testsuite-message.c

2019-05-27 20:48:43 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d30a8dee)

    lib-sieve: Use common context for both script evaluation and action
    execution.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-common.h
A	src/lib-sieve/sieve-execute.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-size.c
M	src/plugins/imapsieve/ext-imapsieve-environment.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2019-05-27 22:45:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3ca5c4ed)

    testsuite: Reformat cmd-test-config.c.


M	src/testsuite/cmd-test-config.c

2019-05-27 20:50:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (159e8e9e)

    testsuite: Reformat testsuite-result.h.


M	src/testsuite/testsuite-result.h

2019-05-27 20:45:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2a3b0472)

    testsuite: Reformat testsuite-result.c.


M	src/testsuite/testsuite-result.c

2019-05-27 21:01:23 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (75a5b17f)

    testsuite: Reformat testsuite-script.h.


M	src/testsuite/testsuite-script.h

2019-05-27 20:33:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b46bd650)

    testsuite: Reformat testsuite-script.c.


M	src/testsuite/testsuite-script.c

2019-05-27 20:23:36 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e2700a46)

    testsuite: Reformat testsuite.c.


M	src/testsuite/testsuite.c

2019-05-28 21:49:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (02b7ad0c)

    plugins: sieve-extprograms: Reformat cmd-pipe.c.


M	src/plugins/sieve-extprograms/cmd-pipe.c

2019-05-28 21:33:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (49e2334c)

    plugins: sieve-extprograms: Reformat cmd-filter.c.


M	src/plugins/sieve-extprograms/cmd-filter.c

2019-05-28 21:14:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a8bf5d38)

    plugins: sieve-extprograms: Reformat cmd-execute.c.


M	src/plugins/sieve-extprograms/cmd-execute.c

2019-05-28 20:43:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (647e7c67)

    plugins: imapsieve: Reformat ext-imapsieve-environment.c.


M	src/plugins/imapsieve/ext-imapsieve-environment.c

2019-05-30 01:03:01 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9f696496)

    lib-sieve: plugins: vnd.dovecot: report: Reformat cmd-report.c.


M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c

2019-05-30 00:31:18 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (588d8322)

    lib-sieve: plugins: vnd.dovecot: environment: Reformat
    ext-vnd-environment-items.c.


M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c

2019-05-30 00:27:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9692ec74)

    lib-sieve: plugins: variables: Reformat ext-variables-common.h.


M	src/lib-sieve/plugins/variables/ext-variables-common.h

2019-05-30 00:23:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (efc85b7c)

    lib-sieve: plugins: variables: Reformat ext-variables-common.c.


M	src/lib-sieve/plugins/variables/ext-variables-common.c

2019-05-30 00:00:07 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (22212e16)

    lib-sieve: plugins: vacation: Reformat cmd-vacation.c.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2019-05-29 23:13:41 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f339c68d)

    lib-sieve: plugins: vacation: Reformat ext-vacation.c.


M	src/lib-sieve/plugins/vacation/ext-vacation.c

2019-05-29 02:04:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (afebb6bb)

    lib-sieve: plugins: notify: Reformat cmd-notify.c.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2019-05-29 02:08:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7fb079f3)

    lib-sieve: plugins: notify: Reformat ext-notify-common.h.


M	src/lib-sieve/plugins/notify/ext-notify-common.h

2019-05-29 01:40:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e1f0de5c)

    lib-sieve: plugins: notify: Reformat ext-notify-common.c.


M	src/lib-sieve/plugins/notify/ext-notify-common.c

2019-05-29 01:29:24 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4bb6061e)

    lib-sieve: plugins: metadata: Reformat tst-metadataexists.c.


M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2019-05-29 01:14:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4135e8f4)

    lib-sieve: plugins: metadata: Reformat tst-metadata.c.


M	src/lib-sieve/plugins/metadata/tst-metadata.c

2019-05-29 00:54:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ca727928)

    lib-sieve: plugins: mailbox: Reformat tst-mailboxexists.c.


M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2019-05-29 00:37:52 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (42ade3f1)

    lib-sieve: plugins: mailbox: Reformat tag-mailbox-create.c.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c

2019-05-29 23:03:23 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6f2ea423)

    lib-sieve: plugins: include: Reformat ext-include-common.h.


M	src/lib-sieve/plugins/include/ext-include-common.h

2019-05-29 00:24:20 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7f516a65)

    lib-sieve: plugins: include: Reformat ext-include-common.c.


M	src/lib-sieve/plugins/include/ext-include-common.c

2019-05-28 23:55:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ee7fef8e)

    lib-sieve: plugins: ihave: Reformat tst-ihave.c.


M	src/lib-sieve/plugins/ihave/tst-ihave.c

2019-05-29 22:57:26 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (dc00dd6a)

    lib-sieve: plugins: environment: Reformat ext-environment-common.h.


M	src/lib-sieve/plugins/environment/ext-environment-common.h

2019-05-28 23:44:48 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8f68dd73)

    lib-sieve: plugins: environment: Reformat ext-environment-common.c.


M	src/lib-sieve/plugins/environment/ext-environment-common.c

2019-05-28 23:33:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (633ba5fc)

    lib-sieve: plugins: enotify: Reformat cmd-notify.c.


M	src/lib-sieve/plugins/enotify/cmd-notify.c

2019-05-29 22:54:29 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e86147eb)

    lib-sieve: plugins: enotify: Reformat ext-enotify-common.h.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.h

2019-05-28 23:13:24 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (15f41903)

    lib-sieve: plugins: enotify: Reformat ext-enotify-common.c.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c

2019-05-28 22:26:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (71604b93)

    lib-sieve: plugins: duplicate: Reformat tst-duplicate.c.


M	src/lib-sieve/plugins/duplicate/tst-duplicate.c

2019-05-29 02:10:24 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (441a41fb)

    lib-sieve: plugins: duplicate: Reformat ext-duplicate-common.h.


M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h

2019-05-28 22:06:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b895fd46)

    lib-sieve: plugins: duplicate: Reformat ext-duplicate-common.c.


M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c

2019-05-27 22:28:11 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1884824f)

    lib-sieve: Reformat tst-size.c.


M	src/lib-sieve/tst-size.c

2019-05-27 22:16:48 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (dcb7aafa)

    lib-sieve: Reformat ext-reject.c.


M	src/lib-sieve/ext-reject.c

2019-05-27 21:58:48 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3ff73e55)

    lib-sieve: Reformat ext-envelope.c.


M	src/lib-sieve/ext-envelope.c

2019-05-27 21:34:59 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7ae7d35e)

    lib-sieve: Reformat cmd-redirect.c.


M	src/lib-sieve/cmd-redirect.c

2019-05-27 21:19:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (caf973d4)

    lib-sieve: Reformat cmd-discard.c.


M	src/lib-sieve/cmd-discard.c

2019-05-22 23:35:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (cd091d47)

    lib-sieve: Reformat sieve-actions.c.


M	src/lib-sieve/sieve-actions.c

2019-05-22 22:55:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (eff1beea)

    lib-sieve: Reformat sieve-actions.h.


M	src/lib-sieve/sieve-actions.h

2019-05-27 09:43:25 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (0e91911d)

    doveadm-sieve: Fix script synchronization

    When dsyncing, this codepath is always called with prefix "". There is no
    point checking the prefix at all.

    Broken in 479c5e57046dec76078597df844daccbfc0eb75f

M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2019-05-16 10:44:12 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (cf4e2004)

    doc: example-config: Remove recipient_delimiter

    It defaults to the global recipient_delimiter, which should always be used 
    anyway. Don't add confusion by documenting the legacy setting that only 
    exists for backwards compatibility.

M	doc/example-config/conf.d/90-sieve.conf

2019-05-09 13:38:15 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (83ff4c7f)

    doc: draft-bosch-imap-filter-sieve-00.txt - update FILTERED replies and
    editheader+keep


M	doc/rfc/draft-bosch-imap-filter-sieve-00.txt

2019-05-15 13:25:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a77eb7f0)

    lib-sieve: sieve-error - Simplify if-statement for global logging
    sieve_direct_logv().

    Use local variables to pre-declare conditions that are used more than once.

M	src/lib-sieve/sieve-error.c

2019-05-14 23:22:09 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (260d7bb5)

    lib-sieve: sieve-error - Fix NULL value dereference in sieve_direct_logv().

    Caused by recent event API changes.

M	src/lib-sieve/sieve-error.c

2019-05-15 13:13:37 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d26d5726)

    lib-sieve: sieve-error - Restore condition that got erroneously removed in
    sieve_direct_logv().


M	src/lib-sieve/sieve-error.c

2019-05-15 13:10:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6488fd4e)

    lib-sieve: sieve-error - Merge nested if-statements in sieve_direct_logv().


M	src/lib-sieve/sieve-error.c

2019-05-14 13:00:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (71a49a1f)

    Fix compilation for GCC 4.

    Caused by recent event API changes.

M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c

2019-05-09 20:39:31 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (436599b7)

    lib-sieve: sieve_message_parts_add_missing() - Fix NULL checks to make
    scan-build happy


M	src/lib-sieve/sieve-message.c

2019-05-09 13:20:29 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (6aae4545)

    plugins: imap-filter-sieve: Fix accessing uninitialized variable

    It happened only when returning error, so the caller wouldn't have cared 
    about it anyway. This makes static analyzers happier though.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-04-29 15:02:12 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (23f7375d)

    plugins: imap-filter-sieve: Send FILTERED reply only if the filter did
    changes


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.h
M	src/plugins/imap-filter-sieve/imap-filter.c

2019-05-02 16:01:42 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (ef6614a0)

    plugins: imap-filter-sieve: Cleanup - write FILTERED reply to string first

    Simplifies the next commit.

M	src/plugins/imap-filter-sieve/imap-filter.c

2019-04-29 15:00:39 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (50dfe260)

    plugins: imap-filter-sieve: Handle each mail in a separate data stack frame

    Avoids growing memory usage excessively when filtering a lot of mails.

M	src/plugins/imap-filter-sieve/imap-filter.c

2019-04-29 14:59:10 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (f3d98102)

    plugins: imap-filter-sieve: Don't delete mails if script gets aborted


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-04-29 14:57:56 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (176c337e)

    lib-sieve: Add sieve_exec_status.significant_action_executed


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h

2019-04-29 14:57:25 +0300 Timo Sirainen <timo.sirainen@open-xchange.com> (b7a7e767)

    lib-sieve: Fix minor logic bug in handling duplicate keep actions

    This didn't seem to result in any visible bugs though.

M	src/lib-sieve/sieve-result.c

2019-03-11 00:07:20 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (37d93ef3)

    lib-sieve: sieve-error - Change master logging to use event API.


M	src/lib-sieve/sieve-error.c

2019-04-07 12:51:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5e320859)

    lib-sieve: Drop system error handler.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-log.c

2019-04-24 17:58:50 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2da440e8)

    lib-sieve: sieve-error - Always use master log for system/global log
    messages.


M	src/lib-sieve/sieve-error.c

2019-04-24 19:06:58 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5f508971)

    lib-sieve: sieve-error - Move logging to master log to a separate function.


M	src/lib-sieve/sieve-error.c

2019-04-07 11:02:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a21fe6e2)

    lib-sieve: sieve-error - Add flag that marks whether error handler logs to
    master log.

    This is needed to avoid duplicating log lines there when the system log
    handler is removed from the Sieve context.

M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c

2019-04-07 10:51:32 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c37c6e9c)

    lib-sieve: sieve-error - Reorder struct definitions.


M	src/lib-sieve/sieve-error-private.h

2019-03-11 00:19:09 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (2bb479d4)

    lib-sieve: sieve-error - Remove prefix support from master error handler.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-04-23 20:32:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a2744819)

    lib-sieve: sieve-error - Make c-source filename and line number available to
    error handlers.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2019-04-24 18:31:09 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (052097be)

    lib-sieve: sieve-error - Rename sieve_vcritical() to sieve_criticalv().

    This way, it matches the new sieve_logv().

M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c

2019-04-23 19:47:48 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (516333d3)

    lib-sieve: sieve-error - Add log_type to struct sieve_error_params.

    This reduces the number of log functions for the error handler from four to
    just one.

M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/testsuite/testsuite-log.c

2019-04-24 14:38:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f055883a)

    lib-sieve: sieve-error - Move location log parameter to a generic parameters
    struct.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/testsuite/testsuite-log.c

2019-03-10 23:58:10 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (f73ce51d)

    lib-sieve: Drop sieve_sys_* log functions.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2019-04-09 19:48:39 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (162ce2cb)

    lib-sieve: sieve-script - Drop sieve_script_sys_*() log functions.


M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c

2019-04-09 19:27:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (fa020da2)

    lib-sieve: sieve-storage - Drop sieve_storage_sys_*() log functions.


M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.c

2019-03-10 21:53:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (7507ddc6)

    plugins: imap-filter-sieve: imap-filter-sieve - Replace sieve_sys_*() with
    e_*().


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-03-10 21:38:25 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (d1b6776e)

    plugins: imapsieve: imap-sieve - Replace sieve_sys_*() with e_*().


M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/sieve-imapsieve-plugin.c

2019-03-10 21:18:57 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (94d131e4)

    plugins: lda-sieve: lda-sieve-plugin - Replace sieve_sys_*() with e_*().


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-04-09 19:47:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (61a9770a)

    lib-sieve: Replace sieve_script_sys_debug() with e_debug().


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c

2019-04-09 19:46:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f114f313)

    lib-sieve: Replace sieve_script_sys_error() with e_error().


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c

2019-04-09 19:26:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (dbdfb777)

    lib-sieve: Replace sieve_storage_sys_debug() with e_debug().


M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c

2019-04-09 19:25:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (168eca74)

    lib-sieve: Replace sieve_storage_sys_info() with e_info().


M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2019-04-09 19:24:02 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (586d4629)

    lib-sieve: Replace sieve_storage_sys_warning() with e_warning().


M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2019-04-09 19:21:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (17b4a1f5)

    lib-sieve: Replace sieve_storage_sys_error() with e_error().


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c

2019-04-09 18:37:07 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ae6a3742)

    lib-sieve: Replace sieve_sys_debug() with e_debug().


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c

2019-04-09 18:36:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (62998517)

    lib-sieve: Replace sieve_sys_info() with e_info().


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c

2019-04-09 18:34:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6a024d83)

    lib-sieve: Replace sieve_sys_warning() with e_warning().


M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-storage.c

2019-04-09 18:31:50 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (fcaffaff)

    lib-sieve: Replace sieve_sys_error() with e_error().


M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-size.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-message.c

2019-05-01 00:16:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8ba34ff6)

    lib-sieve: sieve-binary - Replace sieve_sys_error() with e_error().


M	src/lib-sieve/sieve-binary-file.c

2019-04-30 23:43:12 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (0a812d89)

    lib-sieve: sieve-binary - Replace sieve_sys_debug() with e_debug().


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.c

2019-04-30 23:22:56 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (01329495)

    lib-sieve: sieve-binary - Add support for event API.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c

2019-04-09 19:44:21 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6f26baaa)

    lib-sieve: sieve-script - Add support for event API.


M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c

2019-04-09 19:13:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a4376980)

    lib-sieve: sieve-storage - Add support for event API.


M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/data/sieve-data-script.c
M	src/lib-sieve/storage/file/sieve-file-storage.c

2019-03-10 15:57:26 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (2b5aa172)

    lib-sieve: sieve - Add sieve_get_event().


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2019-02-17 15:56:18 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c09e6095)

    lib-sieve: Add support for event API.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c

2019-03-10 23:05:59 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (d5b8eee6)

    testsuite: testsuite-log - Handle log messages generated outside a sieve
    error handler.


M	src/testsuite/testsuite-log.c

2019-05-03 02:11:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9f86c469)

    lib-sieve: sieve-binary-file - Use binary rather than Sieve instance in
    struct sieve_binary_file.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2019-05-03 02:30:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1513486b)

    lib-sieve: sieve-binary-file - Refactor sieve_binary_file_close().


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2019-05-03 01:51:36 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5dcb88e8)

    lib-sieve: sieve-binary-file - Make sieve_binary_file_open() static.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h

2019-05-01 09:40:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6d4720e7)

    lib-sieve: Reformat sieve-binary-dumper.c.


M	src/lib-sieve/sieve-binary-dumper.c

2019-05-01 09:31:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2a006148)

    lib-sieve: Reformat sieve-binary-debug.c.


M	src/lib-sieve/sieve-binary-debug.c

2019-05-01 09:23:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (887eb103)

    lib-sieve: Reformat sieve-binary-code.c.


M	src/lib-sieve/sieve-binary-code.c

2019-05-01 01:25:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8efd7cb7)

    lib-sieve: Reformat sieve-binary-file.c.


M	src/lib-sieve/sieve-binary-file.c

2019-05-01 00:53:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c816308f)

    lib-sieve: Reformat sieve-binary-private.h.


M	src/lib-sieve/sieve-binary-private.h

2019-05-01 00:44:05 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (717a7ea5)

    lib-sieve: Reformat sieve-binary.h.


M	src/lib-sieve/sieve-binary.h

2019-05-01 00:34:45 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7448d1dc)

    lib-sieve: Reformat sieve-binary.c.


M	src/lib-sieve/sieve-binary.c

2019-04-30 14:26:16 +0300 Aki Tuomi <aki.tuomi@open-xchange.com> (9dab95d8)

    NEWS: Add news for v0.5.6


M	NEWS

2019-04-24 08:57:05 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9c6b1051)

    lib-sieve: sieve-parser - Remove unnecessary forward declaration of error
    handling functions.


M	src/lib-sieve/sieve-parser.c

2019-04-24 08:55:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (069d5af9)

    lib-sieve: sieve-lexer - Remove unnecessary forward declaration of error
    handling functions.


M	src/lib-sieve/sieve-lexer.c

2019-04-24 09:12:16 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (aaca4777)

    lib-sieve: sieve-validator - Remove spurious declaration of
    sieve_validator_critical().


M	src/lib-sieve/sieve-validator.h

2019-04-24 09:08:02 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4019a724)

    lib-sieve: sieve-validator - Reorder error handling functions.


M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2019-04-24 08:48:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7fc3b2cb)

    lib-sieve: sieve-generator - Reorder error handling functions.


M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2019-04-19 00:02:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c69def7c)

    lib-sieve: sieve-error - Move sieve_internal_error().


M	src/lib-sieve/sieve-error.c

2019-04-18 23:26:31 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (eb6aac65)

    lib-sieve: sieve-validator - Move error handling to the end of the file.


M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2019-04-18 22:21:18 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (16fb21b1)

    lib-sieve: sieve-generator - Move error handling to the end of the file.


M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2019-04-18 21:45:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a894b255)

    lib-sieve: sieve-interpreter - Move error handling to the end of the file.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2019-03-10 15:41:34 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (6a82c9b4)

    lib-sieve: sieve-binary-file - Remove unused code.


M	src/lib-sieve/sieve-binary-file.c

2019-04-19 01:08:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (79090306)

    lib-sieve: sieve-result - Move error handling to the end of the file.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2019-04-24 23:32:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b1cd6b68)

    plugins: imap-filter-sieve: Reformat imap-filter-sieve.c.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-04-24 23:18:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9bf576f4)

    plugins: imapsieve: Reformat imap-sieve.h.


M	src/plugins/imapsieve/imap-sieve.h

2019-04-24 23:15:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (696d562e)

    plugins: imapsieve: Reformat imap-sieve.c.


M	src/plugins/imapsieve/imap-sieve.c

2019-04-24 21:33:22 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8e528bc2)

    plugins: lda-sieve: Reformat lda-sieve-plugin.c.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-04-24 18:38:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d3a0bda4)

    plugins: lda-sieve: Reformat lda-sieve-log.h.


M	src/plugins/lda-sieve/lda-sieve-log.h

2019-04-24 18:37:48 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3fcf493e)

    plugins: lda-sieve: Reformat lda-sieve-log.c.


M	src/plugins/lda-sieve/lda-sieve-log.c

2019-04-24 18:19:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f32d00e2)

    testsuite: Reformat testsuite-log.h.


M	src/testsuite/testsuite-log.h

2019-04-24 18:18:14 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (eb521641)

    testsuite: Reformat testsuite-log.c.


M	src/testsuite/testsuite-log.c

2019-04-24 16:50:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b79f8fb4)

    lib-sieve: Reformat sieve-parser.h.


M	src/lib-sieve/sieve-parser.h

2019-04-24 16:47:20 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (25ed1cdc)

    lib-sieve: Reformat sieve-parser.c.


M	src/lib-sieve/sieve-parser.c

2019-04-24 16:22:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7f643de2)

    lib-sieve: Reformat sieve-lexer.h.


M	src/lib-sieve/sieve-lexer.h

2019-04-24 16:17:16 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (924bb302)

    lib-sieve: Reformat sieve-lexer.c.


M	src/lib-sieve/sieve-lexer.c

2019-04-19 01:03:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (36c6424a)

    lib-sieve: Reformat sieve-result.h.


M	src/lib-sieve/sieve-result.h

2019-04-19 00:57:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (00aac7d7)

    lib-sieve: Reformat sieve-result.c.


M	src/lib-sieve/sieve-result.c

2019-04-18 23:23:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (160d8f6d)

    lib-sieve: Reformat sieve-validator.h.


M	src/lib-sieve/sieve-validator.h

2019-04-18 23:14:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2c40f4df)

    lib-sieve: Reformat sieve-validator.c.


M	src/lib-sieve/sieve-validator.c

2019-04-18 22:18:02 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e24fa365)

    lib-sieve: Reformat sieve-generator.h.


M	src/lib-sieve/sieve-generator.h

2019-04-18 22:11:08 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (0014106f)

    lib-sieve: Reformat sieve-generator.c.


M	src/lib-sieve/sieve-generator.c

2019-04-18 21:42:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (088814fe)

    lib-sieve: Reformat sieve-interpreter.h.


M	src/lib-sieve/sieve-interpreter.h

2019-04-18 21:32:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (37c40ce1)

    lib-sieve: Reformat sieve-interpreter.c.


M	src/lib-sieve/sieve-interpreter.c

2019-04-18 23:49:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (fa530f84)

    lib-sieve: Reformat sieve-error-private.h.


M	src/lib-sieve/sieve-error-private.h

2019-04-10 21:12:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (89a0b67f)

    lib-sieve: Reformat sieve-error.h.


M	src/lib-sieve/sieve-error.h

2019-04-10 21:55:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b95ae584)

    lib-sieve: Reformat sieve-error.c.


M	src/lib-sieve/sieve-error.c

2019-04-10 20:40:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (12514b42)

    lib-sieve: Reformat sieve-script-private.h.


M	src/lib-sieve/sieve-script-private.h

2019-04-10 20:37:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6ab4da37)

    lib-sieve: Reformat sieve-script.c.


M	src/lib-sieve/sieve-script.c

2019-04-10 20:16:59 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (fa418a65)

    lib-sieve: Reformat sieve-script.h.


M	src/lib-sieve/sieve-script.h

2019-04-10 10:06:37 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8a011cbb)

    lib-sieve: Reformat sieve-storage-private.h.


M	src/lib-sieve/sieve-storage-private.h

2019-04-10 09:42:24 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4c7d8a4e)

    lib-sieve: Reformat sieve-storage.c.


M	src/lib-sieve/sieve-storage.c

2019-04-10 08:57:59 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (34ee26e0)

    lib-sieve: Reformat sieve-storage.h.


M	src/lib-sieve/sieve-storage.h

2019-03-10 16:40:03 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (8dc19b49)

    lib-sieve: Reformat sieve.c.


M	src/lib-sieve/sieve.c

2019-03-10 16:39:17 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (7ee00844)

    lib-sieve: Reformat sieve.h.


M	src/lib-sieve/sieve.h

2019-04-26 09:37:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (19969c5f)

    lib-sieve: sieve-storage: Fix memory leak occurring in
    sieve_storage_check_script_direct().


M	src/lib-sieve/sieve-storage.c

2019-04-25 23:04:23 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ab0fcec5)

    plugins: imap-filter-sieve: imap-filter-sieve - Fix memory leak of global
    script storage.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2019-04-07 19:38:07 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (73ce81a2)

    plugins: doveadm-sieve: doveadm-sieve-cmd-put - Fix script memory leak
    occurring when saved script is also activated.


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c

2019-04-26 11:33:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (078ff7fb)

    lib-sieve: sieve-script - Fix script memory leak occurring when renamed
    script is also activated.


M	src/lib-sieve/sieve-script.c

2019-04-07 18:52:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2fbd34a5)

    lib-sieve: sieve-storage - Fix script memory leak occurring when saved
    script is implicitly activated.


M	src/lib-sieve/sieve-storage.c

2019-03-04 19:59:08 +0200 Aki Tuomi <aki.tuomi@open-xchange.com> (64f480ae)

    NEWS: Update master news file

    Add NEWS from releases to master branch too

M	NEWS

2019-01-24 22:46:09 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (77cc9328)

    lib-sieve: Prevent execution of implicit keep upon temporary failure
    occurring at runtime.


M	src/lib-sieve/sieve.c

2019-02-13 23:26:09 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (54febd73)

    Adjust to changes in Dovecot SMTP submit API.


M	src/plugins/imap-filter-sieve/imap-filter-sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2019-01-16 08:51:09 -0500 Josef 'Jeff' Sipek <jeffpc@josefsipek.net> (65a6af4b)

    global: hash_table_destroy(NULL) is a no-op

    @@ expression E;
    @@

    - if (hash_table_is_created(E)) {
    -       hash_table_destroy(&E);
    - }
    + hash_table_destroy(&E);

M	src/lib-sieve/sieve-result.c
M	src/plugins/imapsieve/imap-sieve-storage.c

2018-12-12 18:46:50 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (43f5835b)

    lib-sieve: redirect action: Assert that dupeid is not NULL when
    act_redirect_get_duplicate_id() is successful.

    Addresses scan-build report.

M	src/lib-sieve/cmd-redirect.c

2018-12-12 18:45:00 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (114fe5f6)

    lib-sieve: redirect action: Fix lack of NULL checking in new
    X-Sieve-Redirected-From header comparisons.

    Problem found by scan-build.

M	src/lib-sieve/cmd-redirect.c

2018-12-11 10:43:37 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (5b813421)

    plugins: imapsieve: Remove useless NULL check for exec_status.

    In this context, it can never be NULL and the check confuses Coverity.

M	src/plugins/imapsieve/imap-sieve.c

2018-12-11 10:41:51 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (993bb23b)

    plugins: imap-filter-sieve: Remove useless NULL check for exec_status.

    In this context, it can never be NULL and the check confuses Coverity.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-12-11 17:29:18 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (78f5952c)

    lib-sieve: redirect action: Implement additional protection against mail
    loops.

    Also check the X-Sieve-Redirected-From header for our own e-mail addresses.
    This header is added by the redirect action itself and in a mail loop it
    would see that same header with that same content. This is less reliable
    than the other mail loop detection (sender may set such a header), so,
    unlike the existing loop detection based on the duplicate db, the implicit
    keep is not canceled when the new loop detection is triggered.

M	src/lib-sieve/cmd-redirect.c
M	tests/execute/smtp.svtest

2018-12-11 17:27:20 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c42bbea8)

    lib-sieve: redirect action: Put msgdata->mail in local variable in
    act_redirect_get_duplicate_id().

    Serves as an abbreviation.

M	src/lib-sieve/cmd-redirect.c

2018-12-11 17:26:56 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (f0639f18)

    lib-sieve: redirect action: Move composition of duplicate database ID to
    separate function.


M	src/lib-sieve/cmd-redirect.c

2018-12-11 20:28:51 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (4cf91044)

    lib-sieve: redirect action: Give log messages emitted during execution a
    uniform prefix.


M	src/lib-sieve/cmd-redirect.c

2018-12-11 17:25:12 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (51d87ff8)

    lib-sieve: redirect action: Report errors on original message in
    act_redirect_commit().

    It was errorneously using the (potentially) modified mail struct for error 
    reporting.

M	src/lib-sieve/cmd-redirect.c

2018-12-11 17:24:38 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (8a8f9c1e)

    lib-sieve: redirect action: Update coding style of act_redirect_commit().


M	src/lib-sieve/cmd-redirect.c

2018-12-11 20:25:12 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b8f5acd7)

    lib-sieve: redirect action: Update coding style of act_redirect_send().


M	src/lib-sieve/cmd-redirect.c

2018-12-11 17:23:06 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (607a95e8)

    lib-sieve: editheader extension: Protect the X-Sieve-Redirected-From header
    against modification.

    This prevents users from messing with redirect loop detection.

M	src/lib-sieve/plugins/editheader/ext-editheader-common.c

2018-12-11 12:53:13 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (7b862820)

    plugins: sieve-extprograms: Use sieve_ prefix consistently for sieve
    elements visible as exported symbols.

    This fixes a symbol clash with the imap-filter-sieve plugin. Both modules
    had the symbol "cmd_filter".

M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c

2018-12-05 10:57:37 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (fa6bec03)

    plugins: imapsieve: Expunge discarded messages when
    imapsieve_expunge_discarded=yes.


M	doc/plugins/imapsieve.txt
M	src/plugins/imapsieve/imap-sieve-storage.c

2018-12-05 10:08:18 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (9ac4e5b7)

    plugins: imap-filter-sieve: Properly discard the originally stored message
    when a modified version is stored by Sieve.

    The Sieve interpreter can return a flag that indicates whether the original 
    message should be kept, but that was not actually being used.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-12-04 23:45:01 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (5513cea1)

    plugins: imapsieve: Properly discard the originally stored message when a
    modified version is stored by Sieve.

    The Sieve interpreter can return a flag that indicates whether the original 
    message should be kept, but that was not actually being used.

M	src/plugins/imapsieve/imap-sieve.c

2018-12-04 15:45:01 +0200 sergey <sergey@dom.org> (1d23ca49)

    lib-sieve: Create empty mail_keywords structure for keywords updating when
    there are no keywords


M	src/lib-sieve/sieve-actions.c

2018-11-26 09:44:49 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (8f7d3958)

    configure: Stop using DOVECOT_CFLAGS and LDFLAGS

    Instead use the detected ones.

M	configure.ac

2018-11-26 09:44:40 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (a0a8f36a)

    m4: Update dovecot.m4 from upstream


M	m4/dovecot.m4

2018-09-26 02:40:36 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (65909cfa)

    Don't try to send stats from Sieve command line tools (which includes
    testsuite).


M	src/lib-sieve-tool/sieve-tool.c

2018-09-26 02:27:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4c24c5bb)

    global: Don't try to send stats from unit tests.


M	src/lib-sieve/util/test-edit-mail.c

2018-09-05 21:27:58 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8b9cf579)

    lib-sieve: Adjust to changes in Dovecot regarding the postmaster_address
    setting.


M	src/lib-sieve/sieve.c

2018-09-06 19:53:33 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (a931fc35)

    managesieve: Don't enable stats when dumping capability

    Otherwise stats process startup can get into a loop.

M	src/managesieve/main.c

2018-08-30 02:44:26 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (97cfb22e)

    plugins: imap-filter-sieve: Add assertion on attempting to execute at least
    one script.

    Coverity complains about last_script possibly being empty in 
    imap_sieve_filter_run_scripts(), which is actually not possible, since the 
    function would not be called if there is no script to execute. Added
    assertion to make that clear.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-08-30 02:39:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3dce3817)

    plugins: imap-filter-sieve: Fix segfault occurring in recently added debug
    message.

    The debug message pertains to skipping secondary scripts that failed to 
    compile. This debug message will not actually be triggered in the current 
    implementation, but this will become problematic in the future.

    Problem found by Coverity.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-08-26 17:26:05 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (41b9adcb)

    plugins: imap-filter-sieve: Fix assertion panic occurring after script
    compile error.

    Compile errors occurring for Sieve scripts uploaded in multiple TCP frames
    were not handled correctly.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2018-08-26 16:51:29 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c7a83a3d)

    plugins: imap-filter-sieve: Ignore secondary scripts that failed to compile.

    The IMAP FILTER=SIEVE capability does not execute more than a single script
    yet, but once it does, it should not assert fail on secondary scripts that
    failed to compile.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-08-15 16:09:41 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7877454e)

    lib-sieve: util: Add tests for rfc2822_header_write().


M	src/lib-sieve/util/Makefile.am
A	src/lib-sieve/util/test-rfc2822.c

2018-08-15 15:41:36 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5c8583f8)

    lib-sieve: util: rfc2822: Prevent writing header lines with trailing
    whitespace in rfc2822_header_append().


M	src/lib-sieve/util/rfc2822.c

2018-08-15 15:35:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (41107911)

    lib-sieve: util: rfc2822: Fix assert panic occurring in
    rfc2822_header_append().

    Panic was: "Buffer write out of range"

    With some rather weird (sender-provided!) input, the header folding
    algorithm got confused, causing a pointer to the start of the current line
    to exceed the parsing pointer. This caused str_append_data() to be called
    with a negative size. Added an assertion to make any future similar problems
    more obvious.

M	src/lib-sieve/util/rfc2822.c

2018-08-10 11:46:00 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c7bd7456)

    plugins: imap-filter-sieve: Fix FILTER SIEVE SCRIPT command parsing.

    After finishing reading the Sieve script, the command parsing sometimes
    didn't continue with the search arguments. This is a time-critical bug that
    likely only occurs when the Sieve script is sent in the next TCP frame.

M	src/plugins/imap-filter-sieve/cmd-filter-sieve.c

2018-08-09 13:04:27 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (99af69d5)

    lib-sieve: Return test suite result in test-edit-mail


M	src/lib-sieve/util/test-edit-mail.c

2018-08-05 13:54:06 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e51a625a)

    plugins: imapsieve: Fix assert panic occurring when a COPY event is
    triggered on a virtual mailbox.

    Occurs when several mails from different backend mailboxes are involved in
    the COPY event. Fixed by using mail_save_context->>copy_src_mail in
    mailbox_copy() instead of the mail argument. The latter can point to the
    backend mailbox for virtual mailboxes, which makes no sense to the imapsieve
    plugin as it expects only one source mailbox.

    Panic was:

    Panic: file imap-sieve-storage.c: line 337
    (imap_sieve_add_mailbox_copy_event): assertion failed: (ismt->src_box ==
    NULL || ismt->src_box == src_mail->box)

M	src/plugins/imapsieve/imap-sieve-storage.c

2018-07-07 17:51:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (5c77bc11)

    lib-sieve: vacation extension: Make construction of default message subject
    configurable.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	tests/extensions/vacation/message.svtest

2018-07-07 17:01:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (081eac2b)

    lib-sieve: vacation extension: Move construction of default subject to
    separate function.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2018-07-18 17:54:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (98e9ee54)

    Adjust to changes in Dovecot message_address_parse() API.

    Change was:

    lib-mail: message_address_parse() - Change fill_missing parameter to flags

M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-address.c
M	src/testsuite/testsuite-message.c

2018-07-01 20:52:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (870855ed)

    doc: Add documentation and specification for the IMAP FILTER=SIEVE plugin to
    distribution.


M	doc/plugins/Makefile.am
M	doc/rfc/Makefile.am

2018-06-28 20:03:11 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (97b8287e)

    test suite: enotify extension: Add tests for interaction between
    ":encodeurl" and variable size limits.


M	tests/extensions/enotify/encodeurl.svtest

2018-06-28 00:29:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ffa42e6e)

    test suite: variables extension: Add tests for variable size limits.


A	tests/extensions/variables/limits.svtest

2018-06-27 09:39:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (16ac8900)

    lib-sieve: enotify extension: Improve handling of variable size limit for
    ":encodeurl" variable modifier.


M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c

2018-06-27 09:38:45 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (734292d4)

    lib-sieve: variables extension: Improve handling of variable size limit for
    ":quotewildcard" modifier.


M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c

2018-06-27 09:37:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (61baadef)

    lib-sieve: variables extension: Add pointer to variables extension to
    modifier instance.


M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2018-06-27 09:33:52 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3ffb5a4d)

    lib-sieve: variables extension: Pass modifier to modifier's modify method.


M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2018-06-27 09:26:31 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2998ab7e)

    lib-sieve: variables extension: Add sieve_variables_get_max_variable_size()
    to public API.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2018-06-01 00:30:06 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (daf4a721)

    lib-sieve: variables extension: Respect UTF-8 character sequence boundaries
    when truncating variables.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c

2018-06-27 09:44:08 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (92caa9e2)

    lib-sieve: enotify extension: Make modify method of ":encodeurl" variable
    modifier static.


M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c

2018-06-28 20:02:04 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b54bd368)

    lib-sieve: variables extension: Make modify methods of pre-defined modifiers
    static.


M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c

2018-06-13 00:49:54 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (97dc5366)

    managesieve: Free sieve instance when performing dump-capability

    Makes it easier to run with valgrind.

M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c

2018-06-12 18:52:03 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (5d2c3130)

    doveadm sieve plugin: Fix memory leak for "sieve get" command


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c

2018-06-01 10:08:36 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (eceb19e7)

    plugins: imap_filter_sieve: Put more effort in reconstructing a valid rcpt
    address for the envelope.

    The sieve_user_email setting provides a fallback for when there is no
    Delivered-To header.

M	src/plugins/imap-filter-sieve/imap-filter-sieve.c

2018-05-28 14:12:49 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (678a14d7)

    lib-sieve: script storage: Fix leaking mailbox if opening INBOX fails


M	src/lib-sieve/sieve-storage-sync.c

2018-05-27 10:40:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (69cfb80b)

    plugins: imap_filter_sieve: Implement the UID FILTER command.

    Although it was documented and implemented in essence, it was not actually 
    available.

M	src/plugins/imap-filter-sieve/imap-filter-sieve-plugin.c

2018-05-26 18:11:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6535eab7)

    doc: imap_filter_sieve plugin specification: Updated Dovecot Oy office
    address.


M	doc/rfc/draft-bosch-imap-filter-sieve-00.txt

2018-05-26 16:39:00 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (30c40f7e)

    imap-filter-sieve: Fix FILTER to work correctly with pipelining

    Fixes e.g. FILTER+LOGOUT pipelining crash: Panic: file imap-sync.c: line 832
    (cmd_sync_delayed_real): assertion failed: (client->mailbox != NULL)

M	src/plugins/imap-filter-sieve/imap-filter-sieve-plugin.c

2018-05-12 00:56:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ddab597c)

    tests: address test: Add tests for invalid addresses with UTF-8 in the
    localpart.


M	tests/test-address.svtest

2018-05-11 23:44:37 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (cdb1a656)

    lib-sieve: Add more trace debugging output for address list iteration.


M	src/lib-sieve/sieve-address.c

2018-05-11 23:57:26 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b58515a7)

    lib-sieve: Check iterated addresses in address list for validity as an SMTP
    address.


M	src/lib-sieve/sieve-address.c

2018-05-12 00:08:19 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9755beaf)

    lib-sieve: Try to skip individual invalid addresses while iterating an
    address list.

    Before, the whole address list (header value) was returned as an invalid 
    address, ignoring any valid addresses it may still have contained.

M	src/lib-sieve/sieve-address.c

2018-05-02 23:48:30 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6fe1b102)

    plugins: Implement the vendor-defined IMAP FILTER=SIEVE capability.

    It adds the ability to manually invoke Sieve filtering in IMAP.

M	INSTALL
M	TODO
M	configure.ac
A	doc/plugins/imap_filter_sieve.txt
A	doc/rfc/draft-bosch-imap-filter-sieve-00.txt
M	src/plugins/Makefile.am
A	src/plugins/imap-filter-sieve/Makefile.am
A	src/plugins/imap-filter-sieve/cmd-filter-sieve.c
A	src/plugins/imap-filter-sieve/cmd-filter.c
A	src/plugins/imap-filter-sieve/imap-filter-sieve-plugin.c
A	src/plugins/imap-filter-sieve/imap-filter-sieve-plugin.h
A	src/plugins/imap-filter-sieve/imap-filter-sieve.c
A	src/plugins/imap-filter-sieve/imap-filter-sieve.h
A	src/plugins/imap-filter-sieve/imap-filter.c
A	src/plugins/imap-filter-sieve/imap-filter.h

2018-05-07 11:04:09 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a15235f0)

    plugins: imapsieve: Make sure responses are never sent.

    Use the new SIEVE_EXECUTE_FLAG_SKIP_RESPONSES flag to prevent any unforseen 
    mishaps.

M	src/plugins/imapsieve/imap-sieve.c

2018-05-07 11:03:01 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2a39311d)

    lib-sieve: Add SIEVE_EXECUTE_FLAG_SKIP_RESPONSES execute flag.

    This causes the reject and vacation response actions to be skipped without 
    error.

M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-types.h

2018-05-02 23:46:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (fa816c6b)

    lib-sieve: Add support for compiling Sieve scripts from an input stream.


M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/storage/Makefile.am
A	src/lib-sieve/storage/data/Makefile.am
A	src/lib-sieve/storage/data/sieve-data-script.c
A	src/lib-sieve/storage/data/sieve-data-storage.c
A	src/lib-sieve/storage/data/sieve-data-storage.h

2018-05-02 23:40:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (52085ae9)

    lib-sieve: Allow sieve_script_binary_save() error_r parameter to be NULL.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2018-04-17 20:48:56 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (483d8a74)

    lib-sieve: Always check the result returned from
    smtp_address_init_from_msg().


M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2018-05-02 13:46:15 +0300 Phil Carmody <phil@dovecot.fi> (518dc8b6)

    ldap - fix stupid typo

    Signed-off-by: Phil Carmody <phil@dovecot.fi>

M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2018-04-28 23:29:55 +0300 Phil Carmody <phil@dovecot.fi> (b86696e2)

    global: expand default temporary pool sizes

    The tests blow through these limits all of the time, which makes the logs
    very noisy. These three cases are about 4/5ths of the test logs. Presumably
    they're the ones that are also most often needing expansion in real world
    use too.

    Signed-off-by: Phil Carmody <phil@dovecot.fi>

M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage.c

2018-04-28 23:11:40 +0300 Phil Carmody <phil@dovecot.fi> (45bc4fb6)

    global: replace verbose strncmp()s with simpler str_begin()s

    Signed-off-by: Phil Carmody <phil@dovecot.fi>

M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2018-04-27 17:28:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (51b7c26e)

    lib-sieve: util: test-edit-mail: Determine test directory at the beginning
    of all tests.

    It is the initial working directory and that may change during testing, so
    it is not a good idea to determine this per test.

M	src/lib-sieve/util/test-edit-mail.c

2018-04-25 21:23:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d51e6851)

    lib-sieve: util: test-edit-mail: Fix unused variable warning reported by
    GCC.


M	src/lib-sieve/util/test-edit-mail.c

2018-04-18 10:16:29 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (890c6e26)

    lib-sieve: util: edit-mail: Fix assert panic occurring when streaming large
    headers.

    The problem mainly arose because the stream buffer position was used to 
    determine how much was written, while the stream buffer position is
    potentially decreased by i_stream_try_alloc().

    Panic was:

    Panic: file istream.c: line 197 (i_stream_read): assertion failed:
    ((size_t)ret+old_size == _stream->pos - _stream->skip)

M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/test-edit-mail.c

2018-04-25 14:22:37 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f0963ac9)

    global: Replace str_append_n() with str_append_data().

    The str_append_n() function is now deprecated. At no occasion, the occurence
    of NUL in the data is possible or relevant, so each instance is replaced
    with str_append_data() rather than str_append_max().

M	src/lib-managesieve/managesieve-quote.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/test-edit-mail.c
M	src/managesieve-login/client-authenticate.c
M	src/testsuite/testsuite-arguments.c

2018-04-24 00:24:52 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a82f2c3a)

    lib-sieve: Never return SIEVE_EXEC_FAILURE from
    sieve_multiscript_run_discard().

    Always return SIEVE_EXEC_KEEP_FAILED instead.

M	src/lib-sieve/sieve.c

2018-04-24 00:24:38 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (86827c4a)

    lib-sieve: Never return SIEVE_EXEC_FAILURE from keep action.

    Always return SIEVE_EXEC_KEEP_FAILED instead.

M	src/lib-sieve/sieve-result.c

2018-04-16 21:49:08 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f27aa69b)

    tests: vacation extension: Add tests for configuring the subject codepoint
    limit.


M	tests/extensions/vacation/message.svtest

2018-04-16 20:42:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ffbcd3bf)

    lib-sieve: vacation extension: Make codepoint limit for subject header
    configurable.


M	doc/extensions/vacation.txt
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h

2018-04-16 20:41:59 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e4b03a69)

    tests: vacation extension: Add tests for the truncation of long subject
    lines.


M	tests/extensions/vacation/message.svtest

2018-04-16 19:49:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f99afb6d)

    lib-sieve: vacation extension: Enforce subject header limit in Unicode
    codepoints rather than bytes.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2018-04-13 02:50:46 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (0712e678)

    tests: envelope extension: Adjust to changes in Dovecot SMTP address parser.


M	tests/extensions/envelope.svtest

2018-03-06 23:17:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (e15c66c9)

    lib-sieve: Adjusted to changes in Dovecot message address to SMTP address
    conversion.

    This conversion now includes a check that may fail. Pigeonhole currently
    only uses this functionality to obtain an SMTP version of the postmaster
    address. This code is now consolidated in the sieve_get_postmaster_smtp()
    function, which provides postmaster address as an SMTP address.

M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve.c

2018-03-29 00:07:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (9f09b81e)

    lda-sieve plugin: Do not execute the sieve_discard script when an error
    occurs.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2018-03-29 00:13:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b06b775c)

    lib-sieve: Never return TRUE from sieve_multiscript_will_discard() when
    status is not successful.

    Errors will trigger an implicit keep, not discard.

M	src/lib-sieve/sieve.c

2018-02-15 09:06:26 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (3846eb3e)

    lib-sieve: variables extension: Fix duplicate const in definition of
    sieve_variables_modifier array.

    This is wrong and leads to Clang compiler warnings.

M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2018-03-06 23:52:40 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (5a71e7be)

    lib-sieve: Do not allow UTF-8 in localpart in addresses parsed from Sieve
    script.


M	src/lib-sieve/sieve-address.c
M	tests/compile/errors.svtest
M	tests/compile/errors/out-address.sieve

2018-03-07 21:52:46 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (2c1c4220)

    plugins: imapsieve: Don't log messages that disappear concurrently as an
    error.

    This is now logged as a debug message instead.

M	src/plugins/imapsieve/imap-sieve-storage.c

2018-03-05 22:57:22 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (00190f91)

    lib-sieve: util: edit-mail: Remove useless assignment.

    This is a remnant of an older implementation and now triggered a scan-build
    report.

M	src/lib-sieve/util/edit-mail.c

2018-03-05 23:13:06 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (ab1f9582)

    Update Dovecot version from v2.2 to v2.4.


M	README
M	configure.ac
M	doc/man/doveadm-sieve.1.in
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2018-03-03 10:12:28 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (91920140)

    lib-sieve: Fix assert panic occurring when used command has external tag,
    but is not registered.

    This occurred for example when the "fileinto" command is used with only the
    "copy" extension in the require line.

    Panic message was:

    Panic: file hash.c: line 263 (hash_table_insert_node): assertion failed:
    (opcode == HASH_TABLE_OP_UPDATE)

M	src/lib-sieve/sieve-validator.c

2018-03-03 10:28:07 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (095b2e12)

    testsuite: Make SMTP actions also work inside executed sieve scripts.


M	src/testsuite/testsuite-script.c

2018-03-03 12:50:28 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (17ae453d)

    lib-sieve: util: Created basic test suite for edit-mail.

    Previously, this was only tested implicitly in the Sieve test suite. Now, it
    is tested explicitly, which allows for more flexibility in the testing
    scenario.

    It now extensively tests one scenario that used to fail.

M	src/lib-sieve/util/Makefile.am
A	src/lib-sieve/util/test-edit-mail.c

2018-03-03 17:50:59 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b1cd8048)

    lib-sieve: util: edit-mail: istream: Fix bug in calculation of stream
    position.

    This caused an assert panic when the application or child stream did not
    skip all buffered data immediately. This was reproducible only when the
    message input stream consisted of a concatenation of smaller streams, which
    is used in LMTP to prepend a few headers.

    The panic was:

    Panic: file istream.c: line 329 (i_stream_read_memarea): assertion failed:
    ((size_t)ret+old_size == _stream->pos - _stream->skip)

M	src/lib-sieve/util/edit-mail.c

2018-03-03 17:54:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (0b4ed1a3)

    lib-sieve: util: edit-mail: istream: Remove useless check.

    This is tested already in the assertion that precedes it.

M	src/lib-sieve/util/edit-mail.c

2018-03-03 11:42:29 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b9cfdb83)

    lib-sieve: util: mail-raw: Implemented mail_raw_open_stream().

    This allows using a seekable stream as mail directly.

M	src/lib-sieve/util/mail-raw.c
M	src/lib-sieve/util/mail-raw.h

2018-03-03 10:59:23 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (cd4507f0)

    Move mail-raw from lib-sieve-tool to lib-sieve/util.

    Needed for use in test suite.

M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve/util/Makefile.am
R100	src/lib-sieve-tool/mail-raw.c	src/lib-sieve/util/mail-raw.c
R100	src/lib-sieve-tool/mail-raw.h	src/lib-sieve/util/mail-raw.h
M	src/testsuite/Makefile.am

2018-03-02 20:21:27 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (71d7283d)

    testsuite: Don't initialize mail storage with
    mail_full_filesystem_access=yes.

    Recent changes in Dovecot make slashes allowed in mailbox names when this
    flag is set. This flag is not useful for the test suite and it breaks one of
    the tests because slashes are no longer invalid when this flag is set.

M	src/testsuite/testsuite-mailstore.c

2018-03-02 00:14:55 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (dadedf97)

    lib-sieve: store action: Sanitize both specified and virtual mailbox names
    in log strings.

    Before, the virtual mailbox name was not sanitized, which caused control 
    characters to be displayed in log messages. Also, the mailbox name would be 
    mentioned twice in the log message, once santized and once unsanitized.

M	src/lib-sieve/sieve-actions.c

2018-03-02 01:25:43 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (19e012ee)

    lib-sieve: variables extension: Move top comment in sieve-ext-variables.h.

    The header guard defines should be on top.

M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2018-03-02 01:22:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b7580860)

    Changed .h ifdef/defines to use <NAME>_H format.


M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.h
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/rfc2822.h
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
M	src/plugins/imapsieve/ext-imapsieve-common.h
M	src/plugins/imapsieve/imap-sieve-storage.h
M	src/plugins/imapsieve/imap-sieve.h
M	src/plugins/imapsieve/sieve-imapsieve-plugin.h
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.h

2018-03-02 00:53:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (9f6db6f4)

    Remove copyright notices from header files.

    Dovecot core doesn't have copyright notices in header files.

M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.h
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/rfc2822.h
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
M	src/plugins/imapsieve/ext-imapsieve-common.h
M	src/plugins/imapsieve/imap-sieve-plugin.h
M	src/plugins/imapsieve/imap-sieve-storage.h
M	src/plugins/imapsieve/imap-sieve.h
M	src/plugins/imapsieve/sieve-imapsieve-plugin.h
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.h

2018-02-15 09:47:09 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (907d3b00)

    imapsieve: Check more imapsieve contexts

    Satisfies static analyzer, these were forgotten from 
    b2de2aee75963a1ac5b229a3578f08bca0d23a0e

M	src/plugins/imapsieve/imap-sieve-storage.c

2018-02-08 12:19:52 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (b2de2aee)

    imapsieve: Check imapsieve contexts

    Satisfies static analyzer

M	src/plugins/imapsieve/imap-sieve-storage.c

2018-02-08 12:12:31 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (973963e5)

    doveadm-sieve-sync: Require sieve context


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2018-02-13 09:51:48 +0200 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (36418e04)

    managesieve: Drop MAIL_STORAGE_SERVICE_FLAG_DISALLOW_ROOT flag

    The flag has been removed, and the setting is now the default.

M	src/managesieve/main.c

2018-02-01 21:24:05 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (169dae70)

    plugins: imapsieve: Deal with messages being expunged concurrently by the
    time Sieve filter is to be applied.

    Before, this was an assertion that got triggered transiently during
    imaptest.

M	src/plugins/imapsieve/imap-sieve-storage.c

2018-01-05 21:40:33 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (3a9ea428)

    tests: extprograms plugin: execute extension: Add test for large output from
    program.


A	tests/plugins/extprograms/bin/big
M	tests/plugins/extprograms/execute/execute.svtest

2018-01-05 21:44:29 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (d8d8cb8c)

    sieve-extprograms plugin: execute extension: Fix handling big output from
    external program.

    The output buffer was on the data stack, which leads to big trouble when the 
    buffer needs to grow in a deeper stack level.

M	src/plugins/sieve-extprograms/cmd-execute.c

2018-01-04 00:52:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (d4ee6c85)

    tests: imap4flags extension: Added more tests involving variables.


M	tests/extensions/imap4flags/basic.svtest

2018-01-04 00:39:38 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (8b9f5e2e)

    lib-sieve: imap4flags extension: Fix binary corruption occurring when
    setflag/addflag/removeflag flag-list is a variable.

    The original implementation checked the first operand for being a variable. 
    Obviously, when the assigned flag string is just a variable, this doesn't
    work. This causes the flag list to be recognized erroneously as a variable
    flags string. Fixed the problem by explicitly emitting an omitted operand
    when there is no second argument for a setflag/addflag/removeflag.

    Because the new byte code format is incompatible, the extension version is 
    bumped to 1.

M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c

2018-01-01 20:09:40 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (00d2c5b7)

    Updated copyright notices to include the year 2018.


M	doc/man/doveadm-sieve.1.in
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/index/ext-index-common.c
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/index/ext-index.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/ext-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-extracttext.c
M	src/lib-sieve/plugins/mime/ext-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-mime-common.c
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/mime/ext-mime.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-list.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c
M	src/plugins/imapsieve/ext-imapsieve-common.h
M	src/plugins/imapsieve/ext-imapsieve-environment.c
M	src/plugins/imapsieve/ext-imapsieve.c
M	src/plugins/imapsieve/imap-sieve-plugin.c
M	src/plugins/imapsieve/imap-sieve-plugin.h
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve-storage.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h
M	src/plugins/imapsieve/sieve-imapsieve-plugin.c
M	src/plugins/imapsieve/sieve-imapsieve-plugin.h
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/settings/pigeonhole-settings.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2017-12-25 18:20:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (321a39be)

    plugins: sieve-extprograms: Fix segfault occurring when used in IMAPSieve
    context.

    This was caused by recent lib-smtp changes. There is no envelope in
    IMAPSieve context, so the rcpt parameters are NULL, causing the segfault.

M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2017-12-23 16:37:27 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (480eb777)

    plugins: lda-sieve: Remove session ID prefix from log messages.

    The session ID is now already added by Dovecot.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-12-18 21:11:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (15f05db9)

    lib-sieve: vacation extension: Use the correct address for "From:" outgoing
    header when original envelope recipient is found.

    Caused by earlier adjustments for Dovecot lib-smtp. Copy-paste problem
    detected by Coverity.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2017-12-18 19:55:03 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c8b4ade0)

    test suite: enotify extension: Remove stray test_message_print call.

    It is a remnant from debugging.

M	tests/extensions/enotify/mailto.svtest

2017-12-16 02:04:09 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (6670190d)

    global: Change calls to array_idx_modifiable to array_idx_get_space.

    Only calls that require space allocation are to be changed.

M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-validator.c

2017-12-16 01:31:38 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (82a16434)

    configure: Switched version number to 0.6.devel.


M	configure.ac

2017-12-03 13:17:24 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (1b2454cf)

    lib-sieve: Fixed writing address headers to outgoing messages.

    It erroneously applied another layer of MIME header encoding. The problem is
    that existing Sieve scripts may rely on this behaviour; i.e. scripts may
    contain addresesses with literal UTF8 in the phrase part. Therefore, this
    change allows both behaviors.

M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/enotify/mailto.svtest
M	tests/extensions/vacation/utf-8.svtest

2017-12-03 12:52:03 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (811f84f8)

    lib-sieve: util: rfc2822: Added rfc2822_header_write_address() which allows
    adding a header with one or more addresses.

    It applies UTF8 encoding only when the address string somehow contains 8-bit
    characters. Sieve addresses are supposed to have any UTF8 characters in the
    phase MIME-encoded, not literal 8-bit characters. However, this has been
    allowed from the beginning, so disabling the old behavior may break existing
    installations. This function allows supporting both options.

M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h

2017-12-11 17:39:04 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (fe3b7c4b)

    managesieve: Include mail user variables in logout format

    Also dropped the single-letter identifier for most fields to prevent
    conflicts with mail user variables; these were undocumented anyway.

M	src/managesieve/managesieve-client.c

2017-12-11 17:35:07 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (95a0c04a)

    doc: example-config: Document remaining supported managesieve_logout_format
    substitution variables.

    A few were still omitted.

M	doc/example-config/conf.d/20-managesieve.conf

2017-12-11 17:14:27 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (dbc3f2f8)

    global: start relying on [io]_stream_unref(NULL) being a no-op

    Cleanup performed with the following semantic patch:

    	@@
    expression E;
    @@

    	- if (E != NULL) {
    - 	i_stream_unref(&E);
    - }
    + i_stream_unref(&E);

    	@@
    expression E;
    @@

    	- if (E != NULL) {
    - 	o_stream_unref(&E);
    - }
    + o_stream_unref(&E);

M	src/lib-managesieve/managesieve-parser.c
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/util/edit-mail.c

2017-12-11 17:08:21 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (45cfd196)

    global: start relying on timeout_remove(NULL) being a no-op

    Cleanup performed with the following semantic patch:

    	@@
    expression E;
    @@

    	- if (E != NULL) {
    - 	timeout_remove(&E);
    - }
    + timeout_remove(&E);

M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/managesieve-login/client.c
M	src/managesieve/managesieve-client.c

2017-12-11 17:04:28 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (ca1773cd)

    global: start relying on io_remove{,_closed}(NULL) being a no-op

    Cleanup performed with the following semantic patch:

    	@@
    expression E;
    @@

    	- if (E != NULL) {
    - 	io_remove(&E);
    - }
    + io_remove(&E);

    	@@
    expression E;
    @@

    	- if (E != NULL) {
    - 	io_remove_closed(&E);
    - }
    + io_remove_closed(&E);

M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/managesieve/managesieve-client.c

2017-12-15 13:21:30 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b5a9750a)

    lib-sieve: Adjusted to changes in handling of postmaster_address setting in
    Dovecot.

    Error handling is delayed, so that we need to explicitly handle the error in
    Sieve. This is now implemented by handling the error before executing the
    scritpt and placing the parsed address in struct sieve_script_env.

M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c

2017-12-15 12:46:54 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (15ddc4a0)

    lib-sieve: Added sieve_script_env_init() to initialize struct
    sieve_script_env from struct mail_user.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2017-12-15 12:31:34 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (68395161)

    plugins: lda-sieve: Restructured lda_sieve_execute() to reduce indent.

    Most code was put in an unnecessary else block.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-12-13 19:57:39 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (32bdac72)

    lib-sieve: file storage: When autodetecting storage path, use home even if
    it doesn't exist

    If a home directory is given, it's assumed that it will be autocreated even 
    if it doesn't initially exist. Earlier the autocreation may have been done 
    by lib-storage as it created the mail root directory, but this no longer 
    happens.

M	src/lib-sieve/storage/file/sieve-file-storage.c

2017-12-12 16:35:55 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (cedc5e4b)

    global: Adjust to mail_user_alloc() API change

    The parent event doesn't really matter here, so NULL is used.

M	src/lib-sieve-tool/sieve-tool.c
M	src/testsuite/testsuite-mailstore.c

2017-12-11 16:45:58 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (624e1769)

    managesieve: Adjusted to lib-storage changes in Dovecot.

    This follows the following commits in Dovecot: lib-storage: Moved connection
    information in struct mail_user into separate struct
    mail_user_connection_data. lib-storage: mail-user: Added more information
    about the client connection.

M	src/managesieve/main.c

2017-12-03 13:01:53 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (37853002)

    lib-sieve: vnd.dovecot.report extension: Fixed creation of
    "Original-Mail-From" and original "Original-Rcpt-To" headers.

    Recent changes relating to lib-smtp caused the paths to have duplicate '<'
    '>'.

M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c

2017-12-03 12:50:26 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (4a9bc3d2)

    lib-sieve: enotify extension: mailto method: Fixed parsing of mailto URI
    with only a header part.


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2017-01-20 19:16:06 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (fbedb2db)

    Adjusted to the lib-smtp changes in Dovecot.

    Now using struct smtp_address rather than sieve_address. In some cases,
    struct message_address may prove to be more suitable, but this is the best
    fit for now. Adjusted to the renamed fields in struct mail_deliver_context.

M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/plugins/imapsieve/ext-imapsieve-environment.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/Makefile.am
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c
M	tests/execute/smtp.svtest
M	tests/extensions/envelope.svtest
M	tests/extensions/reject/smtp.svtest

2017-11-16 00:07:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (89f1d4ab)

    lib-sieve: enotify extension: uri-mailto: Removed unused field.

    It doesn't serve a purpose either, since parsing "from" address from URI is
    not allowed for notify mailto.

M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h

2017-11-25 11:51:02 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (81505779)

    lib-sieve: store action: Avoid NULL pointer dereference during rollback when
    transaction context is somehow unassigned.

    This change matches the other transaction stages. This will not currently
    happen though. Reported by Coverity.

M	src/lib-sieve/sieve-actions.c

2017-11-25 11:45:52 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (972bafc4)

    lib-managesieve: managesieve-parser: Return error status in quoted string
    stream immediately.

    Otherwise the error status is overwritten. Problem found by Coverity.

M	src/lib-managesieve/managesieve-parser.c

2017-11-25 11:28:57 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c9cf5650)

    lib-sieve: util: edit-mail: Fixed potential NULL dereference in
    edit_mail_istream_seek().

    Used the stream's cur_header field, rather than the local variable. Problem
    found by Coverity.

M	src/lib-sieve/util/edit-mail.c

2017-11-25 11:22:56 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (1e20fa6c)

    lib-sieve: util: edit-header: Fixed potential NULL dereference in
    edit_mail_istream_read().

    The merge_from_parent() function may not actually read anything, potentially
    leaving the stream buffer unassigned. Problem found by Coverity.

M	src/lib-sieve/util/edit-mail.c

2017-03-31 01:48:41 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6f31aa72)

    lib-sieve: variables extension: Made the maximum scope and variable size
    configurable.


M	INSTALL
A	doc/extensions/variables.txt
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/plugins/sieve-extprograms/cmd-execute.c

2017-11-03 21:31:36 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (56b46cd0)

    lib-sieve: util: edit-mail: Changed buffer implementation to use normal
    stream buffer management.

    This makes the implementation easier to understand and amend once Dovecot
    APIs changes. This implicitly makes the implementation suitable for the new
    istream snapshot handling.

M	src/lib-sieve/util/edit-mail.c

2017-11-04 00:42:47 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c8a70d56)

    lib-sieve: util: edit-mail: Restructured merge_modified_headers() to remove
    useless indent.


M	src/lib-sieve/util/edit-mail.c

2017-11-03 21:26:52 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (ce92b90b)

    lib-sieve: util: edit-mail: Properly remember the detection of EOF in the
    edit mail stream.


M	src/lib-sieve/util/edit-mail.c

2017-11-02 11:43:08 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (87402574)

    lib-sieve: util: edit-mail: Fixed runtime integer arithmetic warnings
    (CLang).

    Added assertions on subtractions. Restructured the code for clarity. Added
    comments.

M	src/lib-sieve/util/edit-mail.c

2017-11-03 21:33:06 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (48a29a0b)

    testsuite: editheader extension: Added a few more tests.


M	tests/extensions/editheader/addheader.svtest

2017-11-01 22:55:34 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (daeff904)

    lib-managesieve: managesieve-parser: Adjusted quoted string stream to
    istream changes in Dovecot.

    Ported Dovecot's istream-jsonstr for ManageSieve syntax.

M	src/lib-managesieve/managesieve-parser.c

2017-11-01 22:54:05 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c582d151)

    managesieve: putscript command: Fixed parse error handling for save parser.


M	src/managesieve/cmd-putscript.c

2017-11-07 00:42:24 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (96fe42e7)

    managesieve-login: Removed ssl-proxy.h include forgotten in the previous
    commit.


M	src/managesieve-login/client.c

2017-11-02 15:28:32 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (001d9f1f)

    managesieve-login: Core API change - rename ssl_initialized to
    login_ssl_initialized


M	src/managesieve-login/client.c

2017-11-02 23:45:17 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (a5b04e7a)

    managesieve: Don't access login_set.*_socket_path after they're freed from
    data stack

    Call master_login_init() before master_service_init_finish(), which frees 
    all the data stack done in initialization.

    This didn't normally cause any visible problems, because data stack wasn't 
    currently being used in a way that the strings were invalidated. However, it
    was causing failures if --enable-devel-checks was used.

M	src/managesieve/main.c

2017-11-02 09:54:39 +0200 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (4fd3b53a)

    lib-managesieve,lib-sieve: Add istream_create_flag parameter to
    i_stream_create


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-sieve/util/edit-mail.c

2017-11-01 11:57:58 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (6558a20e)

    lib-sieve: Fix undefined define


M	src/lib-sieve/storage/ldap/sieve-ldap-db.h

2017-10-30 16:14:26 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (f4659224)

    global: Rename i_stream_is_eof() to i_stream_read_eof()


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2017-10-28 03:16:35 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (40c54675)

    global: Replace o_stream_nfinish() with o_stream_finish


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-smtp.c

2017-10-29 21:27:05 +0200 Aki Tuomi <aki.tuomi@dovecot.fi> (0f46b1d8)

    configure: Support EXTRA_CFLAGS/LDFLAGS


M	configure.ac

2017-10-23 15:11:18 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (97a87ac7)

    lib-sieve: Use uni_is_valid_ucs4 to check ucs4 validity


M	src/lib-sieve/ext-encoded-character.c

2017-10-23 01:34:09 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (454bbd47)

    managesieve: Fixed spelling mistake in source code.

    Patch by Andreas Schulze.

M	src/managesieve/managesieve-common.h

2017-10-23 01:32:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d0dab022)

    lib-sieve: Fixed spelling mistakes in source code.

    Patch by Andreas Schulze.

M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-storage.c

2017-10-23 01:31:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f85c4e8c)

    doc/man/sieve-test.1: Fixed spelling mistake.

    Patch by Andreas Schulze.

M	doc/man/sieve-test.1.in

2017-10-21 12:45:29 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1210d338)

    lib-sieve: enotify plugin: mailto method: Make sure from header is set to a
    usable address and not (null).


M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c

2017-10-06 18:51:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8b5be61d)

    managesieve: Remove fd-set-nonblock.h includes.

    It's replaced with fd-util.h which is automatically included now.

M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/main.c

2017-10-06 13:57:31 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (620b7808)

    lib-sieve-tool: Remove fd-set-nonblock.h

    It's replaced with fd-util.h which is automatically included now

M	src/lib-sieve-tool/mail-raw.c

2017-10-05 23:29:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (37e8f71c)

    managesieve: Fix missing-command check

    Mirrors imap fix in Dovecot: 42149f48624b82fdf9631c256497580154c2e412

    It's impossible for the command's pointer to be NULL at this point. 
    Previously, the command_find() would have returned NULL, but this check 
    presumably short-circuits that search in the trivial case, so has some real
    use.

    Problem now found by GCC 7.

M	src/managesieve/managesieve-client.c

2017-10-05 23:19:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (15f9fd11)

    imapsieve: Fixed check for the presence of causes in a mailbox rule.

    Problem found by GCC 7.

M	src/plugins/imapsieve/imap-sieve-storage.c

2017-10-05 23:15:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (370b9739)

    lib-sieve: sieve-result: Added /* fall through */ comment to mark
    intentional switch case fall through.

    Addresses GCC 7 warning.

M	src/lib-sieve/sieve-result.c

2017-09-22 15:59:15 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a0997e4f)

    Obtain postmaster_address and hostname from mail_storage_settings.


M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2017-09-14 04:11:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (1b42755f)

    plugins: Migrated from lib-lda/smtp-client.h to using lib-smtp/smtp-submit.h
    for message submission.


M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-09-16 14:48:52 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8b7bf6b6)

    plugins/imapsieve: Initialize struct imap_sieve with full struct client,
    rather than individual fields.


M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h

2017-10-04 23:32:23 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4d0db1ce)

    Adjusted to changes in Dovecot mail_duplicate API.


M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-09-14 03:31:55 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3ac2b15c)

    lib-sieve: Dropped lib-lda dependencies.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c

2017-09-30 21:19:11 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (418816cd)

    lib-sieve: redirect action: Always set X-Sieve-Redirected-From header to
    sieve_user_email if configured.

    Set it to the final recipient only when there is an envelope and
    sieve_user_email is unconfigured.

M	src/lib-sieve/cmd-redirect.c
M	tests/execute/smtp.svtest

2017-09-30 21:23:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (b38df93b)

    testsuite: Fixed redirect action tests to use the correct test message.


M	tests/execute/smtp.svtest

2017-09-22 16:30:26 +0300 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (c978393b)

    global: Add reasons to mailbox_transaction_begins


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/util/edit-mail.c
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/sieve-tools/sieve-filter.c
M	src/testsuite/testsuite-mailstore.c

2017-08-24 02:03:21 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (8643cbde)

    lib-sieve: vacation extension: Allow ignoring the envelope sender while
    composing the "To:" header for the reply.

    This adds a new setting "sieve_vacation_to_header_ignore_envelope". With
    this setting enabled, the "To:" header is always composed from the first
    "Sender", "Resent-From" or "From" header found in the message (in that
    order). Normally, the "To:" header is composed from the address found in the
    "Sender", "Resent-From" or "From" headers that is equal to the envelope
    sender. If none is then found, the bare envelope sender is used. The new
    setting allows ignoring the envelope, which is useful e.g. when SRS is used.

M	doc/extensions/vacation.txt
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	tests/extensions/vacation/message.svtest

2017-09-05 21:29:06 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2b3aca5a)

    LDA Sieve plugin: Fixed sequential exection of LDAP-based scripts.

    The sequence was broken when the LDAP script attribute does not exist; i.e.,
    when the script is not found. The NOT_FOUND error is returned at a later
    instance than normal fs-based scripts, explaining why this problem does not
    normally occur.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-09-05 20:26:21 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (15bd3533)

    LDA Sieve plugin: Restructured execution of scripts by putting execution of
    individual scripts in separate function.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-08-29 22:43:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e5ea21fb)

    lib-sieve: imap4flags extension: Added API for runtime initialization of
    derived extensions.

    This is needed to register the implicit side effect for the internal flag
    variable.

M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h

2017-08-30 21:27:42 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (736f94ea)

    imapsieve plugin: Fixed copyright messages.


M	src/plugins/imapsieve/imap-sieve-plugin.c
M	src/plugins/imapsieve/imap-sieve-storage.c

2017-08-28 13:04:40 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e37583a9)

    sieve-filter: Removed (now) duplicate utf8 to mutf7 mailbox name conversion.

    The Dovecot API was changed years ago, but apparently sieve-filter was never
    updated.

M	src/sieve-tools/sieve-filter.c

2017-08-22 13:15:34 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (dc20a45f)

    imapsieve plugin: Provide proper error details upon failure to access the
    mailbox/server script METADATA attribute.

    This addresses an old FIXME.

M	src/plugins/imapsieve/imap-sieve-storage.c

2017-08-18 16:20:22 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (e0e179b3)

    lib-sieve: vacation extension: Fixed invalid return value in function added
    by previous change.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2017-08-17 18:59:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d55d8773)

    lib-sieve: vacation extension: Compose the "To:" header from full sender
    address found in the first "Sender:", "From:" or "Resent-From:" header.

    Before, it would create a "To:" header without a phrase part. The new
    behavior is nicer, since the reply will be addressed to the sender by name
    if possible. This addresses an old FIXME.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/message.svtest

2017-08-17 00:17:13 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c7882e61)

    lib-sieve: vacation extension: Use mail_get_first_header*() rather than
    mail_get_headers(*).

    Only the first header is ever of interest.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2017-08-17 00:15:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3a1ce369)

    testsuite: vacation extension: Test creation of subject header better.


M	tests/extensions/vacation/message.svtest

2017-07-08 10:51:27 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d188419f)

    sieve-tools: sieve-filter: Forgot to clean up script binary at end of
    execution.

    Normally, this would merely be an inconsequential memory leak. However, when
    the script comes from an LDAP storage, the storage is not closed before
    master_service_deinit() -> io_loop_destroy(). The LDAP connection's stale io
    can cause problems while closing the main ioloop.

M	src/sieve-tools/sieve-filter.c

2017-07-08 10:27:52 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (7aabfac4)

    sieve-tools: Terminate with a fatal error when script cannot be
    compiled/opened.

    Rather than continuing with binary == NULL, causing a segfault.

M	src/lib-sieve-tool/sieve-tool.c

2017-07-06 12:34:08 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c80aa7c2)

    managesieve-login: managesieve_client_input_next_cmd(): Fix handling of
    command continuation.

    Commands that continued after waiting for more input always failed. This
    mainly applies to the AUTHENTICATE command, which mostly handles its own
    arguments. This caused problems when a string literal was used as the
    initial response for the AUTHENTICATE command.

    Caused by recent change:

    Author: Timo Sirainen <timo.sirainen@dovecot.fi> Date:   Wed Jun 14 12:39:02
    2017 +0300

    managesieve-login: managesieve_client_input_next_cmd() - minor code cleanup

M	src/managesieve-login/client.c

2017-07-06 12:28:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f7b63d94)

    managesieve-login: authenticate command: Make sure
    client->auth_mech_name_parsed is reset properly upon command error.

    This could cause problems for any subsequent AUTHENTICATE commmend.

M	src/managesieve-login/client-authenticate.c

2017-06-28 18:41:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (dd34509a)

    LDA Sieve plugin: Fixed memory leak caused by not cleaning up the
    sieve_discard script.

    Moved script cleanup to separate function as well.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2017-06-22 21:12:21 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c024dc7c)

    lib-sieve: include extension: Fixed segfault that (sometimes) occurred when
    the global script location was left unconfigured.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c

2017-06-20 23:36:10 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (f68f5637)

    sieve-tools: Make sure sieve command line tools properly show debug messages
    if requested.


M	src/lib-sieve-tool/sieve-tool.c
M	src/sieve-tools/sieve-filter.c

2017-06-13 19:36:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (de4248b9)

    lib-sieve: Made the retention period for redirect duplicate identifiers
    configurable.

    For accounts that perform many redirects, the lda-dupes database could grow
    to impractical sizes. Changed the default retention period from 24 to 12
    hours.

M	INSTALL
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-settings.c

2017-06-20 20:46:28 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (82563e97)

    lib-sieve: Clear extension context upon unload.


M	src/lib-sieve/sieve-extensions.c

2017-06-16 14:42:39 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (072b0b49)

    managesieve-login: Adjust to new client_vfuncs.free() API change


M	src/managesieve-login/client.c

2017-06-14 12:39:46 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (303e561c)

    managesieve-login: managesieve_client_input_next_cmd() - Add assert to help
    static analyzer


M	src/managesieve-login/client.c

2017-06-14 12:39:02 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (ea7e1789)

    managesieve-login: managesieve_client_input_next_cmd() - minor code cleanup


M	src/managesieve-login/client.c

2017-06-12 23:00:26 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (9d66c3e5)

    managesieve-login: Adjust to login-common API change


M	src/managesieve-login/client.c

2017-04-28 00:02:39 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (3e1a17a2)

    lib-sieve: Fixed bug in handling of deferred implicit keep with implicit
    side-effects.

    Upon continuing the deferred implicit keep, the implicit side-effects (such
    as imap flags) were not applied.

M	src/lib-sieve/sieve-result.c

2017-04-24 18:58:07 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (11d5f197)

    imapsieve: Use client_add_capability() for adding the dynamic capability


M	src/plugins/imapsieve/imap-sieve-plugin.c

2017-04-21 13:37:40 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (649c7785)

    managesieve-login: Fill the new client_vfuncs.send_raw_data


M	src/managesieve-login/client.c

2017-04-12 13:17:53 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (6891f70d)

    imapsieve: Fixed flag assignment for the source message.

    Implicit keep was deferred for the source message, which discards all flags.

M	src/plugins/imapsieve/imap-sieve.c

2017-04-05 16:02:51 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (b8af3b97)

    managesieve-login: Fill the new banner_sent field.


M	src/managesieve-login/client.c

2017-03-10 21:48:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (e69a6dec)

    imapsieve plugin: Implemented the copy_source_after rule action.

    When this is enabled for a mailbox rule, the specified Sieve script is
    executed for the message in the source mailbox during a "COPY" event. This
    happens only after the Sieve script that is executed for the corresponding
    message in the destination mailbox finishes running successfully.

M	doc/plugins/imapsieve.txt
M	src/plugins/imapsieve/imap-sieve-storage.c

2017-03-10 21:53:19 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (71e773ca)

    imapsieve plugin: Prevent recording events for the COPY/MOVE source mailbox
    transaction.

    This already has the imapsieve transaction context associated with it before
    the sieve scripts are executed. This currently cannot occur, but it will
    become relevant in subsequent commits.

M	src/plugins/imapsieve/imap-sieve-storage.c

2017-03-10 21:44:36 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (b7ade8c3)

    imapsieve plugin: Added non-standard Sieve environment items for source and
    destination mailbox.


M	doc/plugins/imapsieve.txt
M	src/plugins/imapsieve/ext-imapsieve-common.h
M	src/plugins/imapsieve/ext-imapsieve-environment.c
M	src/plugins/imapsieve/ext-imapsieve.c
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h
M	src/plugins/imapsieve/sieve-imapsieve-plugin.c

2017-03-10 21:36:13 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (1748e01b)

    imapsieve plugin: Don't open the user's personal script storage if no
    personal script is configured.


M	src/plugins/imapsieve/imap-sieve.c

2017-03-10 21:31:40 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (148ba040)

    imapsieve plugin: Forgot to cleanup imap_sieve_run object when
    mailbox_sync() fails.


M	src/plugins/imapsieve/imap-sieve-storage.c

2017-03-16 20:56:46 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (e0283189)

    lib-sieve: multiscript: The execution of the discard script had an implicit
    "keep", rather than an implicit "discard".


M	src/lib-sieve/sieve.c

2017-03-09 12:13:04 -0500 Timo Sirainen <timo.sirainen@dovecot.fi> (8053c068)

    managesieve-login: Log proxy state as human-readable string


M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h

2017-03-09 12:10:30 -0500 Timo Sirainen <timo.sirainen@dovecot.fi> (9f9bc901)

    managesieve-login: Use enum managesieve_proxy_state for proxy_state


M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c

2017-02-26 19:23:34 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (bf2bd0ff)

    lib-sieve: store action: Made static analyzer happier about tr_context
    argument for sieve_act_store_add_flags().

    Added an assert ensuring it is not NULL.

M	src/lib-sieve/sieve-actions.c

2017-02-26 18:25:53 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (7d06cde9)

    managesieve: Fix creation of critical error message timestamp.

    This used strftime() directly and allocated memory from the heap before
    i_fatal(). It also used printf() to send the BYE message, which will only
    work right when the service is running stand-alone.

M	src/managesieve/managesieve-client.c

2017-02-22 13:36:26 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (92f3d323)

    global: Replace mail_storage_service_user_free() with _unref()


M	src/lib-sieve-tool/sieve-tool.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c

2017-02-16 17:00:53 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c4df3317)

    lib-sieve: Made public function for adding a redirect action to the result.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2017-02-07 18:10:48 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (25a5a493)

    lib-sieve: Implemented means to abort SMTP message submission after it is
    started.

    This adds a new callback to the Sieve script execution environment.

M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c

2017-02-19 00:55:12 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (051cf477)

    doveadm-sieve: Fix crash when setting Sieve script via attribute's string
    value.


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2017-02-09 18:48:20 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (a1dbf7a9)

    lib-sieve: Remove unnecessary mailbox_save_set_dest_mail() call


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2017-02-09 17:26:29 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (85c9de00)

    imapsieve: Remove unnecessary mail_save_context.dest_mail==NULL checks

    It can never be NULL after the "lib-storage: Always create 
    mail_save_context.dest_mail" core change.

M	src/plugins/imapsieve/imap-sieve-storage.c

2017-02-12 15:29:14 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (298b3410)

    lib-sieve: file storage: Amended the up-to-date timestamp comparison for
    on-disk binaries to include nanoseconds.

    This will fix problems occurring when both binary and script are saved
    within the same second. On older systems that have no support for
    nanoseconds in the stat() time stamps, this has no effect.

M	src/lib-sieve/storage/file/sieve-file-script.c

2017-02-12 15:28:44 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (602326ee)

    lib-sieve: binary: Added means to obtain stat() information from loaded
    binary.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2017-02-12 14:01:41 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (014df56e)

    imapsieve plugin: Make sure "INBOX" is upper case in static mailbox rules.

    Otherwise, the mailbox name would never match, since matching is performed
    case-sensitively and Dovecot only returns the upper-cased "INBOX". This
    change prevents confusing administrators that for some reason choose to use
    a different capitalization of that mailbox name.

M	src/plugins/imapsieve/imap-sieve-storage.c

2017-02-12 11:46:31 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (34d44f7a)

    lib-sieve: file storage: Improve save permission error.

    Use eacces_error_get(), rather than just printing "Permission denied".

M	src/lib-sieve/storage/file/sieve-file-storage-save.c

2017-02-08 02:08:17 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (51e4ff29)

    lib-sieve: file storage: Improve listing permission error.

    Use eacces_error_get(), rather than just printing "Permission denied".

M	src/lib-sieve/storage/file/sieve-file-storage-list.c

2016-11-28 18:55:10 +0200 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (03434fa4)

    global: Replace realpath with path-util from core.

    path-util is a merge of realpath from Pigeonhole and abspath from core.

M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/util/Makefile.am
D	src/lib-sieve/util/realpath.c
D	src/lib-sieve/util/realpath.h
M	src/managesieve/main.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite.c

2017-01-14 02:52:42 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (462a5352)

    lib-sieve: Fixed transaction context passed to finish() method of action
    object in two cases.

    This is not currently used anywhere, so nothing actually broke. This bug was
    exposed by the previous commit, causing a compiler error/warning on some
    compilers.

M	src/lib-sieve/sieve-result.c

2017-01-13 23:24:10 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (77248553)

    lib-sieve: Fixed handling of an early explicit keep during multiscript
    execution.

    Applies to LDA/LMTP context in general, not only when
    sieve_before/sieve_after are used. Action side-effects and the message
    snapshot would be lost at the final stage where the implicit keep is
    evaluated. This happened because the keep action itself is not actually
    executed, but rather its presence is noted to determine whether more scripts
    need to be executed. So, when finally execution of the actual keep action is
    due, i.e. when there are no more scripts in the sequence, it overrides the
    explicit keep from the last script. This didn't take the side-effects and
    message snapshot into account.

M	src/lib-sieve/sieve-result.c

2017-01-11 21:01:45 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (2583936f)

    Updated dovecot.m4.


M	m4/dovecot.m4

2017-01-10 23:22:28 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (f9b37da1)

    lib-sieve: Fixed handling of mail_get_headers()/mail_get_headers_utf8()
    result.

    The situation where no headers are found was not always handled correctly.

M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-message.c

2017-01-11 01:13:45 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (22cbd7e7)

    lib-sieve: util: edit-mail: Fixed success return value for
    mail_get_headers() to be 1.


M	src/lib-sieve/util/edit-mail.c

2017-01-01 13:32:21 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (57c05f4d)

    Updated copyright notices to include the year 2017.


M	doc/man/doveadm-sieve.1.in
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/index/ext-index-common.c
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/index/ext-index.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/ext-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-extracttext.c
M	src/lib-sieve/plugins/mime/ext-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-mime-common.c
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/mime/ext-mime.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-list.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c
M	src/plugins/imapsieve/ext-imapsieve-common.h
M	src/plugins/imapsieve/ext-imapsieve-environment.c
M	src/plugins/imapsieve/ext-imapsieve.c
M	src/plugins/imapsieve/imap-sieve-plugin.h
M	src/plugins/imapsieve/imap-sieve-storage.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/imapsieve/imap-sieve.h
M	src/plugins/imapsieve/sieve-imapsieve-plugin.c
M	src/plugins/imapsieve/sieve-imapsieve-plugin.h
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/settings/pigeonhole-settings.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2016-12-24 02:56:01 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (131ea974)

    global: Replaced all instances of memset(p, 0, sizeof(*p)) with the new
    i_zero() macro.

    Used the following script:

    C_FILES=`git ls-files *.c` H_FILES=`git ls-files *.h` for F in "$C_FILES
    $H_FILES"; do
           echo "$F"
     perl -p -i -e
    's/safe_memset\(&\(?([^,]*)\)?,\s*0,\s*sizeof\(\g1\)\)/i_zero_safe(&$1)/g'
    $F
     perl -p -i -e
    's/safe_memset\(([^,]*),\s*0,\s*sizeof\(\*\g1\)\)/i_zero_safe($1)/g' $F
     perl -p -i -e
    's/memset\(&\(?([^,]*)\)?,\s*0,\s*sizeof\(\g1\)\)/i_zero(&$1)/g' $F
     perl -p -i -e 's/memset\(([^,]*),\s*0,\s*sizeof\(\*\g1\)\)/i_zero($1)/g' $F 
    done

M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-commands.c
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2016-11-19 01:14:18 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (13fbc935)

    lib-sieve: sieve-message: Fixed trimming of empty header.


M	src/lib-sieve/sieve-message.c

2016-11-19 00:27:59 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (6709993b)

    lib-sieve: matches match type: Improved string pointer manipulation.


M	src/lib-sieve/mcht-matches.c

2016-12-26 19:56:47 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (5fe323d1)

    managesieve-login: proxy: Adjusted to changes in Dovecot lib-sasl API.


M	src/managesieve-login/managesieve-proxy.c

2016-11-13 15:13:48 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c90b7fdc)

    managesieve: Fixed indent in client_output().

    Apparently, this causes GCC warnings.

M	src/managesieve/managesieve-client.c

2016-11-13 15:11:59 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (d5afd719)

    lib-sieve: file storage: Fixed indent in
    sieve_storage_get_relative_link_path().

    Apparently, this causes GCC warnings.

M	src/lib-sieve/storage/file/sieve-file-storage.c

2016-11-08 01:45:16 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (c8b91de8)

    imapsieve plugin: Removed spurious debug message.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-11-08 01:03:00 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (00651e60)

    imapsieve plugin: Fixed assert failure occurring when used with virtual
    mailboxes.

    In that case a transaction (delayed sync) is perfromed outside of the
    context of an IMAP command.

M	src/plugins/imapsieve/imap-sieve-storage.c

2016-11-07 09:55:28 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (be11698e)

    doc: Forgot to add several files to the distribution.


M	doc/example-config/Makefile.am
M	doc/extensions/Makefile.am
M	doc/plugins/Makefile.am
M	doc/rfc/Makefile.am

2016-11-03 20:52:07 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (3deda06e)

    managesieve: Try to initialize var_expand_tab[] directly.

    This avoids accidents with the array numbering being wrong.

M	src/managesieve/managesieve-client.c

2016-11-03 20:26:49 +0100 Stephan Bosch <stephan.bosch@dovecot.fi> (849790c5)

    lib-sieve: ldap storage: Adjust to var_expand*() API changes.


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2016-11-01 01:09:42 +0200 Timo Sirainen <timo.sirainen@dovecot.fi> (1e5d2c6a)

    Adjust to var_expand*() API changes.


M	src/lib-sieve/sieve-error.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-log.c

2016-10-29 14:28:07 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (10e70749)

    lib-sieve: edit-mail: Adjusted to changes in Dovecot lib-storage/index.


M	src/lib-sieve/util/edit-mail.c

2016-10-21 18:02:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c5ed66bc)

    testsuite: Cleanup spurious test output.


M	src/testsuite/Makefile.am

2016-10-21 15:35:51 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (74ab3713)

    managesieve: Added rawlog_dir setting to store ManageSieve traffic logs.

    This at least partially replaces the "rawlog" post-login binary. For now the
    "rawlog" binary supports some parameters, which aren't configurable for
    rawlog_dir.

M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h

2016-10-21 17:29:17 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (036d5191)

    lib-sieve: vacation extension: Use Microsoft X-Auto-Response-Suppress header
    to prevent unwanted responses.

    We've seen a few situations where Pigeonhole and Microsoft products start a
    useless machine conversation. At least older versions of Outlook ignore the
    standards on multiple points to make this happen. We prevent this now by
    recognizing and generating the X-Auto-Response-Suppress header.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/reply.svtest

2016-10-21 17:36:44 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (32e7781d)

    lib-sieve: util: Removed Pigeonhole's own version of t_str_trim(), since it
    is now available in Dovecot.


M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/util/Makefile.am
D	src/lib-sieve/util/strtrim.c
D	src/lib-sieve/util/strtrim.h
M	src/plugins/imapsieve/imap-sieve-storage.c

2016-10-21 01:01:16 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (663f8cc5)

    lib-sieve: code dumper: Fixed T_BEGIN { ... } T_END block violation.


M	src/lib-sieve/sieve-code-dumper.c

2016-10-20 02:38:07 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (ca0cd69e)

    lib-sieve: vnd.dovecot.report extension: Added Dovecot-Reporting-User field,
    which contains the e-mail address of the user sending the report.


M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	tests/extensions/vnd.dovecot/report/execute.svtest

2016-10-19 18:38:00 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (4d5a9448)

    Updated dovecot.m4.


M	m4/dovecot.m4

2016-10-19 16:04:49 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (905db120)

    Sieve extprograms plugin: Adjusted to more changes in Dovecot program-client
    API.


M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2016-10-17 23:59:58 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (85680b40)

    lib-sieve: result object: Fixed bug in detection of the execution of
    delivery action.

    Sequential exections would override a previously flagged delivery, which is
    wrong. This caused the sieve_discard feature to trigger for messages that
    were actually delivered somewhere by an earlier script in the sequence.

M	src/lib-sieve/sieve-result.c

2016-10-15 12:24:33 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (bcad6334)

    LDA Sieve plugin: Fixed assert failure caused by earlier sieve_discard
    changes.

    The simplest case in which all normal scripts maintain the (implicit) keep
    action triggered an assert failure. Fixed by restructuring the script
    execution loop to make it easy to understand. Now handles each case
    explicitly.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-10-13 15:30:25 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (d18e9b53)

    Sieve exprograms plugin: Adjusted to changes in Dovecot program-client API.


M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2016-10-11 16:40:47 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (a195bd82)

    lib-sieve: vnd.dovecot.report extension: Added support for configuring the
    "From:" address used in the report.


A	doc/extensions/vnd.dovecot.report.txt
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.c
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.h
M	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report.c
M	tests/extensions/vnd.dovecot/report/execute.svtest

2016-10-10 19:20:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (2a6ff60b)

    Sieve extprograms plugin: Adjusted to program-client API change in Dovecot.

    program_client_remote_create() is now called program_client_unix_create().

M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2016-10-07 12:42:09 +0300 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (a8fb5314)

    lib-sieve: restore realpath.h in Makefile.am


M	src/lib-sieve/util/Makefile.am

2016-10-06 12:11:57 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (055537a3)

    doveadm sieve plugin: sync: Fixed saving synchronized Sieve script.

    Assert failure could occur if the input buffer was full. Also, a small
    chance existed that not all data would be saved.

M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2016-10-05 22:28:03 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (22f05f11)

    lib-sieve: program-client was moved to dovecot core


M	src/lib-sieve/util/Makefile.am
D	src/lib-sieve/util/program-client-local.c
D	src/lib-sieve/util/program-client-private.h
D	src/lib-sieve/util/program-client-remote.c
D	src/lib-sieve/util/program-client.c
D	src/lib-sieve/util/program-client.h

2016-09-30 23:57:05 +0200 Stephan Bosch <stephan@dovecot.fi> (2ae18e51)

    LDA Sieve plugin: Implemented support for a "discard script" that is run
    when the message is going to be discarded.

    This adds a new "sieve_discard" setting that points to the location of the
    "discard script". Once the normal scripts finish executing and the result is
    that the message will be discarded without being delivered anywhere, the
    "discard script" is executed. The discard script can prevent dropping the
    message, by executing alternative actions. If the discard script does
    nothing, the message is still discarded.

M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-09-30 23:55:25 +0200 Stephan Bosch <stephan@dovecot.fi> (bc99d792)

    lib-sieve: Implemented support for running a "discard script" in the
    multiscript execution API.

    The "discard script" is run when the normal script sequence ends and the
    message is going to be discarded.

M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2016-09-30 21:44:33 +0200 Stephan Bosch <stephan@dovecot.fi> (df19597c)

    lib-sieve: Added means to evaluate whether the result object executed a
    delivery action.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2016-09-30 19:37:25 +0200 Stephan Bosch <stephan@dovecot.fi> (8f959e8f)

    LDA Sieve plugin: Always use multiscript API for script execution.

    Removed special code path for single script. This is a remnant from times
    when the multiscript feature was still experimental.

M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-09-29 21:23:51 +0200 Stephan Bosch <stephan@dovecot.fi> (67c93ffd)

    lib-sieve: vnd.dovecot.environment extension: Added vnd.dovecot.config.*
    environment items.

    A "vnd.dovecot.config.<identifier>" environment item maps to the content of
    the matching sieve_env_<identifier> plugin setting.

M	INSTALL
A	doc/extensions/vnd.dovecot.environment.txt
M	doc/rfc/spec-bosch-sieve-dovecot-environment.txt
M	doc/rfc/xml/spec-bosch-sieve-dovecot-environment.xml
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	tests/extensions/vnd.dovecot/environment/basic.svtest

2016-10-04 19:59:03 +0200 Stephan Bosch <stephan.bosch@dovecot.fi> (c9324ac9)

    lib-sieve: environment extension: Improved runtime trace for a nonexistent
    environment item.


M	src/lib-sieve/plugins/environment/tst-environment.c

2016-09-29 21:21:50 +0200 Stephan Bosch <stephan@dovecot.fi> (2865e415)

    lib-sieve: environment extension: Added support for wildcard environment
    items that are identified by a name prefix.


M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	src/plugins/imapsieve/ext-imapsieve-environment.c

2016-09-29 23:39:42 +0200 Stephan Bosch <stephan@dovecot.fi> (1bca1af3)

    lib-sieve: variables extension: Substitution of an invalid namespace
    canceled the substitution, rather than substituting the empty string.


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c

2016-09-29 23:37:50 +0200 Stephan Bosch <stephan@dovecot.fi> (da1ed8d9)

    lib-sieve: variables extension: Increased the maximum number of namespace
    elements in a variable name.


M	src/lib-sieve/plugins/variables/ext-variables-limits.h

2016-09-21 21:41:25 +0200 Stephan Bosch <stephan@dovecot.fi> (47635d88)

    lib-sieve: file storage: Fixed handling of non-blocking input in
    save_continue().

    Bug was exposed by previous change. Normally, this would not surface.

M	src/lib-sieve/storage/file/sieve-file-storage-save.c

2016-09-21 21:33:58 +0200 Stephan Bosch <stephan@dovecot.fi> (2ce32c4c)

    managesieve: The PUTSCRIPT command now allows uploading empty Sieve scripts.

    There is no reason to forbid an empty Sieve script.

M	src/managesieve/cmd-putscript.c

2016-09-20 09:35:38 -0400 Josef 'Jeff' Sipek <jeff.sipek@dovecot.fi> (a4348748)

    doveadm-sieve: Update attribute API usage


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2016-08-28 23:40:30 +0200 Stephan Bosch <stephan@dovecot.fi> (4a5c2ce4)

    Adjusted client_read_string_args() prototype to handle CLang warning.

    Clang -Wvargargs complained about passing a bool argument to va_start().

M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2016-08-26 01:44:23 +0200 Stephan Bosch <stephan@dovecot.fi> (8a2ef99d)

    lib-sieve: ldap storage: Fixed bool vs. int mixup in function call.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c

2016-08-21 12:07:34 +0200 Stephan Bosch <stephan@rename-it.nl> (930ec524)

    lib-sieve: Fixed various bool vs. int/pointer mixups.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-exists.c

2016-08-21 12:05:55 +0200 Stephan Bosch <stephan@rename-it.nl> (cab5eff7)

    doveadm sieve plugin: Removed unused 'subscriptions' field from command
    context.

    Addresses a FIXME. Caused a warning with clang -Wstrict-bool.

M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h

2016-08-21 12:05:05 +0200 Stephan Bosch <stephan@rename-it.nl> (0929a400)

    extprograms plugin: Fixed various bool vs. int mixups.

    Found with clang -Wstrict-bool.

M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2016-08-21 12:02:20 +0200 Stephan Bosch <stephan@rename-it.nl> (ec02e3b5)

    managesieve: Fixed various bool vs. int mixups.

    Found with clang -Wstrict-bool.

M	src/managesieve/managesieve-client.c

2016-08-21 12:01:29 +0200 Stephan Bosch <stephan@rename-it.nl> (ee3a6554)

    lib-sieve: util: program-client: Fixed a bool vs. int/pointer mixup.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/util/program-client.c

2016-08-21 11:58:41 +0200 Stephan Bosch <stephan@rename-it.nl> (8e0367b0)

    lib-sieve: file storage: The try_hardlink parameter of file_copy() is of
    type bool, rather than int.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2016-08-21 11:57:16 +0200 Stephan Bosch <stephan@rename-it.nl> (a010c390)

    lib-sieve: The return type of duplicate_check() is supposed to be bool
    rather than int.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c

2016-08-21 11:52:55 +0200 Stephan Bosch <stephan@rename-it.nl> (b0b9e0a5)

    lib-sieve: script: The return type of binary_dump_metadata() is supposed to
    be bool rather than int.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c

2016-08-21 11:46:15 +0200 Stephan Bosch <stephan@rename-it.nl> (6a6f7309)

    sieve-filter: Fixed a bool vs. int mixup.

    Found with clang -Wstrict-bool.

M	src/sieve-tools/sieve-filter.c

2016-08-21 11:44:50 +0200 Stephan Bosch <stephan@rename-it.nl> (86eb7c95)

    testsuite: Fixed various bool vs. int mixups.

    Found with clang -Wstrict-bool.

M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-script.c

2016-08-21 11:37:12 +0200 Stephan Bosch <stephan@rename-it.nl> (ae255494)

    lib-sieve: reject extension: Fixed varius bool vs. int mixups.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2016-08-21 11:28:32 +0200 Stephan Bosch <stephan@rename-it.nl> (d8331c81)

    lib-sieve: vacation extension: Fixed invalid evaluation of the
    mail_get_headers() return value.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2016-08-21 11:27:37 +0200 Stephan Bosch <stephan@rename-it.nl> (d2fa7208)

    lib-sieve: regex extension: Fixed invalid use of sieve_ast_stringlist_map().

    Mixed up bool and int return types. Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/regex/mcht-regex.c

2016-08-21 11:25:57 +0200 Stephan Bosch <stephan@rename-it.nl> (dabacd9a)

    lib-sieve: deprecated notify extension: Fixed various bool vs. int/pointer
    mixups.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/notify/cmd-notify.c

2016-08-21 11:24:35 +0200 Stephan Bosch <stephan@rename-it.nl> (f95c6c0c)

    lib-sieve: metadata extension: Fixed invalid use of
    sieve_ast_stringlist_map().

    Mixed up bool and int return types. Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2016-08-21 11:23:03 +0200 Stephan Bosch <stephan@rename-it.nl> (01f7d9f3)

    lib-sieve: mailbox extension: Fixed invalid use of
    sieve_ast_stringlist_map().

    Mixed up bool and int return types. Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2016-08-21 11:21:39 +0200 Stephan Bosch <stephan@rename-it.nl> (e180373f)

    lib-sieve: index extension: Fixed a bool vs. int mixup.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/index/tag-index.c

2016-08-21 11:20:54 +0200 Stephan Bosch <stephan@rename-it.nl> (13485c33)

    lib-sieve: include extension: Fixed various bool vs. int mixups.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c

2016-08-21 11:19:30 +0200 Stephan Bosch <stephan@rename-it.nl> (dc60b279)

    lib-sieve: enotify extension: Fixed various bool vs. int/pointer mixups.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c

2016-08-21 11:16:27 +0200 Stephan Bosch <stephan@rename-it.nl> (5ef69ddc)

    lib-sieve: match types: Fixed match function return values to be int rather
    than bool.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c

2016-08-21 11:13:43 +0200 Stephan Bosch <stephan@rename-it.nl> (02d0b7ff)

    lib-sieve: encoded-character extension: Fixed function return types to be
    bool rather than int.

    Found with clang -Wstrict-bool.

M	src/lib-sieve/ext-encoded-character.c

2016-08-21 11:11:45 +0200 Stephan Bosch <stephan@rename-it.nl> (b800fc1c)

    lib-managesieve: managesieve-parser: Fixed function return types to be bool
    rather than int.

    Found with clang -Wstrict-bool.

M	src/lib-managesieve/managesieve-parser.c

2016-08-24 02:47:37 +0200 Stephan Bosch <stephan@dovecot.fi> (af91dd3f)

    doveadm sieve plugin: sync: Fixed handling of unknown attribute timestamps.


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2016-08-24 01:22:12 +0200 Stephan Bosch <stephan@dovecot.fi> (ef268fec)

    lib-sieve: util: program-client-remote: Fixed assert failure caused by
    previous change.

    Erroneously assumed the number of reserved bytes (for the return code) could
    not decrease.

M	src/lib-sieve/util/program-client-remote.c

2016-08-23 17:07:34 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (0dcee109)

    tests/deprecated: Fix typo


M	tests/deprecated/imapflags/errors.svtest
M	tests/deprecated/notify/errors.svtest

2016-08-16 14:29:53 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (d582f0db)

    Adjust to unlink_directory() API changes.


M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-smtp.c

2016-08-20 03:32:58 +0200 Stephan Bosch <stephan@rename-it.nl> (6b02395c)

    global: unsigned int:1 -> bool:1

    perl -i -pe 's/unsigned int ([^,:;]+):1;/bool $1:1;/' **/*.[ch]

M	src/lib-managesieve/managesieve-parser.c
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.h
M	src/managesieve-login/client.h
M	src/managesieve/cmd-getscript.c
M	src/managesieve/managesieve-client.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/imapsieve/imap-sieve-storage.c
M	src/plugins/imapsieve/imap-sieve.c
M	src/sieve-tools/sieve-filter.c

2016-08-19 23:05:27 +0200 Stephan Bosch <stephan@dovecot.fi> (0adb7400)

    lib-sieve: util: program-client-remote: Made the program_client_istream
    implementation cleaner and more logical.

    It was too hard to understand.

M	src/lib-sieve/util/program-client-remote.c

2016-08-19 23:02:32 +0200 Stephan Bosch <stephan@dovecot.fi> (351bb053)

    lib-sieve: util: program-client: Fixed position of the seekable stream for
    the output of remote programs.

    It would now make the output of the script service seekable, rather than the
    output of the program. This adds a '+' at the end of the data. This showed
    up for the extprograms filter command.

M	src/lib-sieve/util/program-client.c

2016-08-19 01:24:21 +0200 Stephan Bosch <stephan@dovecot.fi> (36614104)

    sieve-test: Forgot to disable error handling for dummy SMTP output stream.


M	src/sieve-tools/sieve-test.c

2016-08-14 19:13:13 +0300 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (a920da2a)

    lib-sieve: remove set_cache_corrupted_reason from mail_vfuncs

    set_cache_corrupted_reason was removed in core.

M	src/lib-sieve/util/edit-mail.c

2016-08-13 18:43:04 +0200 Stephan Bosch <stephan@dovecot.fi> (97dcfb2f)

    lib-sieve: relational extension: Replaced return statement with
    i_unreached() in mcht_value_match_key().

    Coverity still complained.

M	src/lib-sieve/plugins/relational/mcht-value.c

2016-08-13 18:10:08 +0200 Stephan Bosch <stephan@dovecot.fi> (0edfe0c1)

    lib-sieve: ldap storage: Removed useless NULL checks.

    Caused minor complaints by Coverity.

M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2016-08-13 17:42:03 +0200 Stephan Bosch <stephan@dovecot.fi> (a6aa9d44)

    lib-sieve: relational extension: Removed dead default in switch statement.

    Minor complaint by Coverity.

M	src/lib-sieve/plugins/relational/mcht-value.c

2016-08-13 17:26:56 +0200 Stephan Bosch <stephan@dovecot.fi> (53eee4d9)

    imapsieve plugin: Fixed potential segfault bug caused by shadowing a
    parameter with a local variable.

    Renamed the local variable. Found by Coverity.

M	src/plugins/imapsieve/imap-sieve-storage.c

2016-08-13 14:42:31 +0300 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (54eb6fb7)

    lib-sieve: MAIL_FETCH_UIDL_FILE_NAME to MAIL_FETCH_STORAGE_ID:

    MAIL_FETCH_UIDL_FILE_NAME was removed from core.

M	src/lib-sieve/util/edit-mail.c

2016-08-11 03:17:36 +0200 Stephan Bosch <stephan@dovecot.fi> (886199dd)

    Fixed copyright notices.


M	src/lib-sieve/plugins/mime/cmd-extracttext.c
M	src/lib-sieve/plugins/mime/ext-extracttext.c

2016-08-10 20:38:05 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (e246fe9d)

    imapsieve: Update mailbox_attribute API usage


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-08-10 20:20:57 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (0b8386aa)

    doveadm-sieve: Update attribute API


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2016-08-10 11:32:04 +0200 Stephan Bosch <stephan@dovecot.fi> (2987a3c2)

    imapsieve plugin: Fixed crash occurring when a mailbox is opened for a user
    before the imap client object is created.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-08-10 11:27:40 +0200 Stephan Bosch <stephan@dovecot.fi> (0e8abe2c)

    imapsieve plugin: Removed spurious pool field from imap_sieve_user struct.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-08-02 23:41:11 +0200 Stephan Bosch <stephan@dovecot.fi> (670e029a)

    lib-sieve: program client: Changed I/O to use o_stream_send_istream() where
    possible.

    This simplifies the code significantly. This also removes calls to
    i_stream_get_data(), which caused problems after its semantics were changed
    in Dovecot.

M	src/lib-sieve/util/program-client.c

2016-08-02 19:39:15 +0200 Stephan Bosch <stephan@dovecot.fi> (18338b4b)

    lib-sieve: lexer: Adjusted to Dovecot change: i_stream_get_data() no longer
    returns NULL when returned size = 0.


M	src/lib-sieve/sieve-lexer.c

2016-05-20 15:38:31 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (d6cacfef)

    Use i_unlink() to improve unexpected unlink() error messages.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/util/program-client.c
M	src/sieve-tools/sieve-test.c

2016-07-15 01:32:01 +0200 Stephan Bosch <stephan@rename-it.nl> (1521447e)

    Removed the test suite's valgrind handling in favor of the generic
    implementation Dovecot provides.


M	.gitignore
M	Makefile.am
M	configure.ac
M	dovecot-pigeonhole.m4

2016-07-14 21:50:34 +0200 Stephan Bosch <stephan@rename-it.nl> (814ef928)

    Add flags in DOVECOT_BINARY_CFLAGS and DOVECOT_BINARY_LDFLAGS to all
    binaries.

    In effect, this adds PIE and RELRO to binaries.

M	configure.ac
M	src/managesieve-login/Makefile.am
M	src/managesieve/Makefile.am
M	src/sieve-tools/Makefile.am

2016-07-14 23:09:34 +0200 Stephan Bosch <stephan@rename-it.nl> (1f157d0f)

    lib-managesieve: Use libtool.


M	src/lib-managesieve/Makefile.am
M	src/managesieve-login/Makefile.am
M	src/managesieve/Makefile.am

2016-07-14 21:50:20 +0200 Stephan Bosch <stephan@rename-it.nl> (91368343)

    Updated dovecot.m4.


M	m4/dovecot.m4

2016-07-07 21:52:05 +0200 Stephan Bosch <stephan@rename-it.nl> (66b7c14c)

    extprograms plugin: Clarified the language specification regarding handling
    of filter and execute errors.


M	doc/rfc/spec-bosch-sieve-extprograms.txt
M	doc/rfc/xml/spec-bosch-sieve-extprograms.xml

2016-07-07 18:25:29 +0200 Stephan Bosch <stephan@dovecot.fi> (3fa08e71)

    extprograms plugin: Added tests for invocation of unknown programs.


M	tests/plugins/extprograms/execute/errors.svtest
A	tests/plugins/extprograms/execute/errors/unknown-program.sieve
M	tests/plugins/extprograms/filter/errors.svtest
A	tests/plugins/extprograms/filter/errors/unknown-program.sieve
M	tests/plugins/extprograms/pipe/errors.svtest
A	tests/plugins/extprograms/pipe/errors/unknown-program.sieve

2016-07-07 18:24:16 +0200 Stephan Bosch <stephan@dovecot.fi> (60f4960a)

    extprograms plugin: For directly forked programs, the "program not found"
    was reported twice.


M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2016-07-07 18:18:35 +0200 Stephan Bosch <stephan@dovecot.fi> (efef641a)

    extprograms plugin: Execution errors in filter and execute commands did not
    lead to script termination.


M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c

2016-07-07 10:15:15 +0200 Stephan Bosch <stephan@dovecot.fi> (70c27283)

    lib-sieve: program client: Fixed bug in handling of result code from remote
    program (script service).

    It was sometimes passed through as data, meaning that the result code was
    missed. This transiently resulted in programs seemingly returning invalid
    result codes, causing an error.

M	src/lib-sieve/util/program-client-remote.c

2016-07-07 01:23:27 +0200 Stephan Bosch <stephan@dovecot.fi> (aabde88b)

    lib-sieve: program client: Connection to remote program service was not
    retried.


M	src/lib-sieve/util/program-client-remote.c

2016-07-06 21:15:19 +0200 Stephan Bosch <stephan@dovecot.fi> (807c61c2)

    lib-sieve: vacation extension: The sieve_user_email setting is now used in
    check for implicit delivery.

    This means that vacation responses are now also sent for messages that
    include the sieve_user_email address in one of the relevant headers.

M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/reply.svtest

2016-07-06 20:31:35 +0200 Stephan Bosch <stephan@dovecot.fi> (cefa449a)

    testsuite: Removed spurious test_message_print statements.


M	tests/execute/address-normalize.svtest

2016-07-06 20:26:50 +0200 Stephan Bosch <stephan@dovecot.fi> (467080db)

    lib-sieve: Fixed handling of quoted string localparts in email addresses.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-message.c
M	tests/extensions/envelope.svtest

2016-06-28 23:44:12 +0200 Stephan Bosch <stephan@rename-it.nl> (f9eda178)

    lib-sieve: if command: Made static analyzer happier.

    Added assertion to validation function.

M	src/lib-sieve/cmd-if.c

2016-06-28 23:17:50 +0200 Stephan Bosch <stephan@rename-it.nl> (5673ee51)

    lib-sieve: Make static analyzer happier about argument validation.

    Added assertions.

M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/sieve-validator.c

2016-06-28 22:35:34 +0200 Stephan Bosch <stephan@rename-it.nl> (82592618)

    lib-sieve: Make static analyzer happier about use of
    sieve_ast_stringlist_map().

    Added assertions.

M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/tst-address.c

2016-06-27 21:39:18 +0200 Stephan Bosch <stephan@rename-it.nl> (e2aa3166)

    dovecot-pigeonhole.m4: Make testsuite available when linked against
    Pigeonhole source tree, even when it is not yet compiled.


M	dovecot-pigeonhole.m4

2016-06-23 13:30:49 +0200 Stephan Bosch <stephan@dovecot.fi> (9e6e5ee0)

    imapsieve plugin: During transaction run the synchronized version of the
    target mailbox was opened too early.

    This meant opening a mailbox a second time even if it did not match any
    mailbox rules.

M	src/plugins/imapsieve/imap-sieve-storage.c

2016-06-21 02:54:36 +0200 Stephan Bosch <stephan@rename-it.nl> (f3944c69)

    lib-sieve: edit-mail: Passed FALSE for normalizer argument of
    message_header_decode_utf8() rather than NULL.


M	src/lib-sieve/util/edit-mail.c

2016-06-21 02:54:00 +0200 Stephan Bosch <stephan@rename-it.nl> (7860911b)

    lib-sieve: variables extesnion: Fixed instances where FALSE was returned
    rather than NULL.


M	src/lib-sieve/plugins/variables/ext-variables-common.c

2016-06-21 02:50:29 +0200 Stephan Bosch <stephan@rename-it.nl> (f6b6815a)

    lib-sieve: enotify extension: Fixed instances where FALSE was returned
    rather than NULL.


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2016-06-20 23:39:09 +0200 Stephan Bosch <stephan@rename-it.nl> (69296a11)

    imapsieve plugin: Restructured imap_sieve_run_scripts() function such that
    the compile error code is never used uninitialized.


M	src/plugins/imapsieve/imap-sieve.c

2016-06-20 23:08:09 +0200 Stephan Bosch <stephan@rename-it.nl> (561d0adc)

    lib-sieve: address test: Mixed up bool and int for
    sieve_ast_stringlist_map() return type.


M	src/lib-sieve/tst-address.c

2016-06-20 22:48:06 +0200 Stephan Bosch <stephan@rename-it.nl> (358e40db)

    imapsieve plugin: Prevent possible NULL pointer dereference at transaction
    commit.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-06-20 22:40:50 +0200 Stephan Bosch <stephan@rename-it.nl> (44316d49)

    lib-sieve: envelope extension: Mixed up bool and int for
    sieve_ast_stringlist_map() return type.


M	src/lib-sieve/ext-envelope.c

2016-06-20 22:32:32 +0200 Stephan Bosch <stephan@rename-it.nl> (f3e53764)

    imapsieve plugin: Removed dead assignment reported by scan-build.


M	src/plugins/imapsieve/imap-sieve.c

2016-06-20 22:20:32 +0200 Stephan Bosch <stephan@rename-it.nl> (a16a9b8b)

    lib-sieve: variables extension: Changed declaration of new variables to
    avoid useless memory allocation.

    Also prevents assert failures with new hash_table_insert() assertion against
    existing entries. This changes the API for the variables extension.

M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2016-06-20 21:52:17 +0200 Stephan Bosch <stephan@rename-it.nl> (45d4fa9d)

    lib-sieve: Require blocking message stream for sieve_message_substitute().

    This prevents trouble with o_stream_nsend_istream() later.

M	src/lib-sieve/sieve-message.c
M	src/plugins/sieve-extprograms/cmd-filter.c

2016-06-20 21:14:11 +0200 Stephan Bosch <stephan@rename-it.nl> (8091baf4)

    lib-sieve: Changed sieve_extension_override() to use hash_table_update()
    rather than hash_table_insert().

    Due to a Dovecot change this would now cause an assertion failure.

M	src/lib-sieve/sieve-extensions.c

2016-06-20 20:53:47 +0200 Stephan Bosch <stephan@rename-it.nl> (5931b69e)

    managesieve-login: proxy: Did not handle zero return value from
    managesieve_parser_read_args() correctly.


M	src/managesieve-login/managesieve-proxy.c

2016-06-13 22:06:55 +0200 Stephan Bosch <stephan@dovecot.fi> (167ca91b)

    lib-sieve: Handle duplicate registrations of capabilities better.

    This would uselessly allocate a new entry with the same content.

M	src/lib-sieve/sieve-extensions.c

2016-06-13 21:59:45 +0200 Stephan Bosch <stephan@dovecot.fi> (9cdc454e)

    lib-sieve: variables extensions: Fixed handling of importing a variable into
    a scope that is already imported earlier.

    This allocated a new variable entry every time.

M	src/lib-sieve/plugins/variables/ext-variables-common.c

2016-06-13 21:41:49 +0200 Stephan Bosch <stephan@dovecot.fi> (74f60b97)

    sieve-tools: Disable automatic data stack frame initialization.


M	src/lib-sieve-tool/sieve-tool.c

2016-05-20 15:32:51 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (1ddbb32e)

    Adjusted to changes in o_stream_send_istream() API


M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/managesieve/cmd-getscript.c

2016-06-09 19:21:53 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (5e492476)

    pigeonhole: Remove autoclose parameter


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/util/program-client.c
M	src/managesieve/managesieve-client.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c

2016-05-31 02:56:26 +0200 Stephan Bosch <stephan@rename-it.nl> (67dfb5a2)

    Previous change omitted one occurrence of t_malloc().


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2016-05-11 10:19:00 +0300 Martti Rannanjärvi <martti.rannanjarvi@dovecot.fi> (3d1226b5)

    Replace t_malloc with t_malloc0 or t_malloc_no0

    Plain t_malloc was deprecated in dovecot.

M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/util/program-client-local.c
M	src/managesieve/managesieve-client.c

2016-05-16 21:02:09 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (e2d6a03d)

    Use o_stream_nsend*() to make sure write errors are caught.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.c
M	src/managesieve-login/managesieve-proxy.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-smtp.c

2016-05-16 16:08:41 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (69cce444)

    managesieve: Adjust to new o_stream_send_istream() API


M	src/managesieve/cmd-getscript.c

2016-05-18 15:23:18 +0200 Stephan Bosch <stephan@dovecot.fi> (b3f5d771)

    Adjusted to changes in Dovecot buffer API.


M	src/lib-sieve/sieve-binary.c

2016-05-18 00:31:27 +0200 Stephan Bosch <stephan@rename-it.nl> (634b16b3)

    lib-sieve: ldap storage: Fixed compiler warning occurring under specific
    configuration conditions.


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2016-05-18 00:25:24 +0200 Stephan Bosch <stephan@rename-it.nl> (5f4db18f)

    doveadm-sieve: Fixed copy-paste stupidity in previous change.


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c

2016-05-18 00:09:28 +0300 Aki Tuomi <aki.tuomi@dovecot.fi> (b47c3a06)

    doveadm-sieve: Update to ver2 structures


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-list.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h

2016-05-16 22:04:13 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (2c0aa0f0)

    Replaced i_stream_read_data() calls with _read_bytes and _read_more()


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/managesieve-login/client-authenticate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c
M	src/testsuite/cmd-test-message.c

2016-05-15 14:42:49 +0200 Stephan Bosch <stephan@dovecot.fi> (8ab4f24c)

    managesieve: Avoid crashing at deinit if mail_user_unref() triggers
    mail_storage_callbacks

    This could have happened with Maildir/mbox and autoexpunging. Mimics
    Dovecot/IMAP change ddffbb277e212adb9d594b3d7d1e1d39fa78f7c6.

M	src/managesieve/managesieve-client.c

2016-05-15 14:38:05 +0200 Stephan Bosch <stephan@dovecot.fi> (cafb21eb)

    managesieve: Free mail_user only after client is disconnected.

    Mimics Dovecot/IMAP change 1001bda65e9f592d852a26ddd6a993f7973050bf.

M	src/managesieve/managesieve-client.c

2016-03-22 10:13:19 -0400 Aaron Lindsay <aaron@aclindsay.com> (dd0f8d1a)

    subaddress: Support multiple recipient_delimiters

    The recipient_delimiter is treated as multiple one-character delimiters 
    rather than one multi-character delimiter if more than one character is 
    supplied.

    Based on a patch by: Lennart Weller <lhw@ring0.de>

M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	tests/extensions/subaddress/config.svtest

2016-05-09 23:12:43 +0200 Stephan Bosch <stephan@rename-it.nl> (daf1c25c)

    lib-sieve: program client: Significantly improved error handling.

    Stream errors were never logged properly. Streams now have a name that makes
    sense. Timeout errors were handled in a rather stupid fashion.

M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c

2016-05-09 22:27:45 +0200 Stephan Bosch <stephan@rename-it.nl> (64ac8433)

    lib-sieve: Fixed error handling for mail streams.

    The previous change prompted some futher code review and similar
    improvements/fixes were applied at various places in the code.

M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
M	src/lib-sieve/sieve-message.c

2016-05-09 16:05:37 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (a66812ae)

    lib-sieve: edit mail wasn't didn't handle truncated header correctly.

    If header was truncated, it was treated as an istream error. Also the 
    istream read errors weren't logged.

M	src/lib-sieve/util/edit-mail.c

2016-05-06 17:40:25 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (495393c5)

    Adjusted to changes in Dovecot lib-dict API.


M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c

2016-05-04 02:20:17 +0200 Stephan Bosch <stephan@rename-it.nl> (f7f206d5)

    configure: Changed version number to v0.5.devel.


M	configure.ac

2016-05-02 17:09:12 +0300 Timo Sirainen <timo.sirainen@dovecot.fi> (641fa414)

    testsuite: Adjusted to changes in Dovecot lib-storage API.


M	src/testsuite/testsuite-mailstore.c

2016-05-02 18:08:59 +0200 Stephan Bosch <stephan@rename-it.nl> (6b436b4f)

    Changed Makefile.am to make sure test suite is executed at `make check'.


M	Makefile.am

2016-05-02 17:49:05 +0200 Stephan Bosch <stephan@rename-it.nl> (2dc13c59)

    Merged concurrent changes.


2016-04-28 23:02:38 +0200 Stephan Bosch <stephan@dovecot.fi> (b9e567b5)

    lib-sieve: Handle extension overriding itself properly.


M	src/lib-sieve/sieve-extensions.c

2016-04-26 22:36:43 +0200 Stephan Bosch <stephan@rename-it.nl> (850d80b2)

    Updated README with availability of vnd.dovecot.report extension.


M	README

2016-04-26 21:51:46 +0200 Stephan Bosch <stephan@rename-it.nl> (7c79cdc8)

    Added v0.4.13 to NEWS.


M	NEWS

2016-04-26 21:34:15 +0200 Stephan Bosch <stephan@rename-it.nl> (c984322f)

    lib-sieve: edit-mail: Removed useless NULL check in
    edit_mail_istream_seek().

    This caused a Coverity defect report.

M	src/lib-sieve/util/edit-mail.c

2016-04-26 21:27:08 +0200 Stephan Bosch <stephan@rename-it.nl> (0b04d67d)

    lib-sieve: vnd.dovecot.report extension: Removed logically dead code.

    This caused Coverity defect reports.

M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c

2016-04-26 21:19:06 +0200 Stephan Bosch <stephan@rename-it.nl> (dfe0d52c)

    lib-sieve: validator: Fixed potential NULL dereference in
    sieve_validator_extensions_check_conficts().

    Would only happen with dummy/internal `extensions' that have no valid ID. 
    This caused a Coverity defect report.

M	src/lib-sieve/sieve-validator.c

2016-04-26 21:13:04 +0200 Stephan Bosch <stephan@rename-it.nl> (e25f31a3)

    lib-sieve: validator: Fixed potential NULL dereference in
    sieve_validator_extension_load().

    Would only happen with dummy/internal `extensions' that have no valid ID. 
    This caused a Coverity defect report.

M	src/lib-sieve/sieve-validator.c

2016-04-26 21:09:12 +0200 Stephan Bosch <stephan@rename-it.nl> (504a08ae)

    lib-sieve: redirect command: Removed useless NULL check in loop detection.

    This caused a coverity defect report.

M	src/lib-sieve/cmd-redirect.c

2016-04-19 00:27:09 +0200 Stephan Bosch <stephan@rename-it.nl> (ef25ce69)

    imapsieve plugin: Do not initialize mailbox rules until they are needed.

    Otherwise, these would be re-parsed every time a new mail_user is created
    (e.g. when opening a mail as raw).

M	src/plugins/imapsieve/imap-sieve-storage.c

2016-04-18 22:46:03 +0200 Stephan Bosch <stephan@rename-it.nl> (6af702e3)

    lib-sieve: redirect action: Sender address was not always correctly
    assigned.

    This should have provoked a compiler warning.

M	src/lib-sieve/cmd-redirect.c

2016-04-18 22:40:47 +0200 Stephan Bosch <stephan@rename-it.nl> (c8d1f17a)

    lib-sieve: Messed up indentation in earlier change.


M	src/lib-sieve/sieve.c

2016-04-18 21:27:31 +0200 Stephan Bosch <stephan@rename-it.nl> (931adc13)

    lib-sieve: The redirect action still partly depended on having an envelope
    available.


M	src/lib-sieve/cmd-redirect.c

2016-04-18 19:54:55 +0200 Stephan Bosch <stephan@rename-it.nl> (7949cc28)

    lib-sieve: Implemented utility function that determines the primary email
    address of the user.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve.c
M	src/plugins/imapsieve/ext-imapsieve-environment.c

2016-04-14 20:52:04 +0200 Stephan Bosch <stephan@dovecot.fi> (1b6fb01a)

    lib-sieve: Don't add overridden built-in extensions to the capability list.

    These are not available under that name anymore and when the replacing
    extension has the same bare name, this would have led to duplicate
    capabilities.

M	src/lib-sieve/sieve-extensions.c

2016-04-14 20:51:04 +0200 Stephan Bosch <stephan@dovecot.fi> (cfb5ee27)

    lib-sieve: When overriding a built-in extension, the wrong extension was
    marked as overridden.


M	src/lib-sieve/sieve-extensions.c

2016-04-10 03:41:48 +0200 Stephan Bosch <stephan@dovecot.fi> (215349a4)

    lib-sieve: deprecated notify: Removed dependencies on availability of
    message envelope.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2016-04-09 23:16:06 +0200 Stephan Bosch <stephan@dovecot.fi> (04d86b2f)

    lib-sieve: vnd.dovecot.report extension: Made the report action behave
    correctly when there is no envelope.


M	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c

2016-04-09 22:32:00 +0200 Stephan Bosch <stephan@dovecot.fi> (6015613a)

    lib-sieve: enotify: mailto: Sending a notification still partly depended on
    having an envelope available.


M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c

2016-04-09 22:11:35 +0200 Stephan Bosch <stephan@dovecot.fi> (0bcd59d7)

    lib-sieve: Added a "sieve_user_email" setting that configures the user's
    primary email address.

    This is used mainly when no other means of obtaining the user's email is
    available, such as when there is no envelope (in IMAP). Before, the
    postmaster address or the null "<>" address was used as a fallback for
    sending messages. The redirect and enotify commands can be explicitly
    configured to use what is configured with sieve_user_email.

M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c
M	tests/execute/smtp.svtest
M	tests/extensions/enotify/mailto.svtest

2016-04-09 21:35:05 +0200 Stephan Bosch <stephan@dovecot.fi> (2e67f041)

    lib-sieve: sieve-address-source: Fixed result initialization.

    Used wrong type in sizeof().

M	src/lib-sieve/sieve-address-source.c

2016-04-09 20:45:33 +0200 Stephan Bosch <stephan@dovecot.fi> (39713774)

    lib-sieve: Made redirect and enotify/mailto handle the absence of an
    envelope properly.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h

2016-04-09 18:48:47 +0200 Stephan Bosch <stephan@dovecot.fi> (a3e2ad32)

    lib-sieve: Moved resolution of sender address source to common location.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/sieve-address-source.c
M	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-common.h

2016-04-09 18:09:32 +0200 Stephan Bosch <stephan@dovecot.fi> (674376cd)

    lib-sieve: Created sieve_address_source for common handling of address
    configuration.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/sieve-actions.c
A	src/lib-sieve/sieve-address-source.c
A	src/lib-sieve/sieve-address-source.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h

2016-04-09 16:19:09 +0200 Stephan Bosch <stephan@dovecot.fi> (35f31bfc)

    Updated README file regarding implementation status of IMAPSIEVE.


M	README

2016-04-09 16:03:35 +0200 Stephan Bosch <stephan@dovecot.fi> (2e3f99c4)

    lib-sieve: Made sure local part of a mail address is encoded properly using
    quoted string when it is not a dot-atom.


M	Makefile.am
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
A	tests/execute/address-normalize.svtest

2016-04-09 13:53:10 +0200 Stephan Bosch <stephan@dovecot.fi> (dba245c0)

    lib-sieve: Made parsing of explicit address for mail sender setting check
    the address syntax.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c

2016-04-07 21:31:55 +0200 Stephan Bosch <stephan@rename-it.nl> (7627b9f2)

    Merge pull request #1 from sebix/x-original-to

    lib-sieve: Allow X-Original-To header for the address test.
2016-04-07 16:54:13 +0200 Stephan Bosch <stephan@rename-it.nl> (4e27a127)

    Fix segfault bug caused by earlier trace log changes.

    Trace_log variable was not initialized.

M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-04-07 04:31:30 +0200 Stephan Bosch <stephan@rename-it.nl> (cd05a404)

    Documented new trace debugging features.


M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf

2016-04-07 04:02:26 +0200 Stephan Bosch <stephan@rename-it.nl> (bb4b299e)

    imapsieve plugin: Added trace logging support.


M	src/plugins/imapsieve/imap-sieve.c

2016-04-07 04:01:07 +0200 Stephan Bosch <stephan@rename-it.nl> (c934cc42)

    lda-sieve plugin: Added trace logging support.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-04-07 03:57:14 +0200 Stephan Bosch <stephan@rename-it.nl> (8b51e7c1)

    lib-sieve: trace logging: Added optional file name label.

    This way, imapsieve can show to which user.mailbox.uid the trace applies.

M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2016-04-07 03:55:07 +0200 Stephan Bosch <stephan@rename-it.nl> (6a8f7bdf)

    lib-sieve: Implemented utility functions for configuring runtime trace
    logging.


M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2016-04-06 23:23:42 +0200 Stephan Bosch <stephan@dovecot.fi> (905f66a3)

    lib-sieve: Fixed crashes in extension conflict checking.

    Registering conflicting commands before conflicts are checked is a bad idea. 
    Make sure conflicting extensions are not part of remaining validation
    process.

M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/sieve-validator.c
M	tests/deprecated/notify/errors.svtest
M	tests/deprecated/notify/errors/conflict-ihave.sieve

2016-04-06 23:18:23 +0200 Stephan Bosch <stephan@dovecot.fi> (228855fc)

    lib-sieve: Made command and argument error macros accept NULL for commands
    and arguments.


M	src/lib-sieve/sieve-commands.h

2016-04-06 00:56:07 +0200 Stephan Bosch <stephan@rename-it.nl> (ee860f97)

    lib-sieve: Moved the algorithm for determining the user log file path to
    lib-sieve.

    This was duplicated between the lda-sieve and imapsieve plugins.

M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/imapsieve/imap-sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-04-06 00:28:29 +0200 Stephan Bosch <stephan@rename-it.nl> (f95bab5c)

    lib-sieve: Implemented support for writing runtime trace output to a
    directory if it exists, much like Dovecot rawlog.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2016-04-05 21:35:22 +0200 Stephan Bosch <stephan@rename-it.nl> (684aa242)

    doc/example-config: Added description for a few generic settings that were
    only mentioned in the INSTALL file.


M	doc/example-config/conf.d/90-sieve.conf

2016-04-05 21:21:12 +0200 Stephan Bosch <stephan@rename-it.nl> (2591cd15)

    doc/man: The -u and -o options were undocumented for the sieve* tools.


M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2016-04-05 11:43:36 +0200 Stephan Bosch <stephan@rename-it.nl> (0a191d4b)

    lib-sieve: Make sure that an absent envelope does not cause segfaults.

    Futher changes are needed to prevent accessing the envelope in the first
    place.

M	src/lib-sieve/sieve-message.c

2016-04-05 11:17:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ebc95b51)

    imapsieve plugin: storage: Forgot to free mailbox when there are no Sieve
    scripts.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-03-28 19:31:39 +0200 Stephan Bosch <stephan@rename-it.nl> (136c5b18)

    test suite: Added some more ihave-related extension conflict tests.


M	tests/deprecated/imapflags/errors.svtest
A	tests/deprecated/imapflags/errors/conflict-ihave.sieve
R100	tests/deprecated/imapflags/errors/imapflags.sieve	tests/deprecated/imapflags/errors/conflict.sieve
M	tests/deprecated/notify/errors.svtest
A	tests/deprecated/notify/errors/conflict-ihave.sieve
A	tests/deprecated/notify/errors/conflict.sieve

2016-03-27 23:48:44 +0200 Stephan Bosch <stephan@rename-it.nl> (cb2f60e3)

    lib-sieve: Implemented the dovecot-specific "vnd.dovecot.report".

    It allows sending feedback report (RFC 5965) messages.

M	Makefile.am
M	configure.ac
A	doc/rfc/spec-bosch-sieve-report.txt
A	doc/rfc/xml/reference.IMAPSIEVE.xml
A	doc/rfc/xml/reference.MARF.xml
A	doc/rfc/xml/reference.RFC.2045.xml
A	doc/rfc/xml/reference.RFC.3834.xml
A	doc/rfc/xml/spec-bosch-sieve-report.xml
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/vnd.dovecot/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/report/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/report/cmd-report.c
A	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.c
A	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report-common.h
A	src/lib-sieve/plugins/vnd.dovecot/report/ext-vnd-report.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/vnd.dovecot/report/errors.svtest
A	tests/extensions/vnd.dovecot/report/errors/syntax.sieve
A	tests/extensions/vnd.dovecot/report/execute.svtest

2016-03-27 23:47:44 +0200 Stephan Bosch <stephan@rename-it.nl> (b1e2bbd7)

    imapsieve plugins: Fixed compiler warning.


M	src/plugins/imapsieve/imap-sieve-storage.c

2016-03-27 23:41:10 +0200 Stephan Bosch <stephan@rename-it.nl> (08c6a402)

    Documented the new IMAPSIEVE plugins.


M	INSTALL
A	doc/plugins/imapsieve.txt
A	doc/rfc/imapsieve.rfc6785.txt
M	src/plugins/imapsieve/ext-imapsieve.c

2016-03-27 16:44:20 +0200 Stephan Bosch <stephan@rename-it.nl> (dbe03ae2)

    Implemented the imapsieve extension for Sieve and IMAP as a plugin.


M	TODO
M	configure.ac
M	src/plugins/Makefile.am
A	src/plugins/imapsieve/Makefile.am
A	src/plugins/imapsieve/ext-imapsieve-common.h
A	src/plugins/imapsieve/ext-imapsieve-environment.c
A	src/plugins/imapsieve/ext-imapsieve.c
A	src/plugins/imapsieve/imap-sieve-plugin.c
A	src/plugins/imapsieve/imap-sieve-plugin.h
A	src/plugins/imapsieve/imap-sieve-storage.c
A	src/plugins/imapsieve/imap-sieve-storage.h
A	src/plugins/imapsieve/imap-sieve.c
A	src/plugins/imapsieve/imap-sieve.h
A	src/plugins/imapsieve/sieve-imapsieve-plugin.c
A	src/plugins/imapsieve/sieve-imapsieve-plugin.h

2016-03-27 16:41:20 +0200 Stephan Bosch <stephan@rename-it.nl> (b190d77b)

    lib-sieve: Added support for running the Sieve interpreter without an
    envelope.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-types.h

2016-03-27 16:40:20 +0200 Stephan Bosch <stephan@rename-it.nl> (4dce44be)

    lib-sieve: Added support for evaluating extension availability (ihave test)
    at runtime.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/testsuite-common.c

2016-03-25 02:48:06 +0100 Stephan Bosch <stephan@rename-it.nl> (222c5af0)

    lib-sieve: Notify extensions about whether they are loaded in the validator
    optionally (ihave extension).


M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/mime/ext-extracttext.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/plugins/sieve-extprograms/ext-pipe.c

2016-03-25 01:47:49 +0100 Stephan Bosch <stephan@rename-it.nl> (ac77b22b)

    lib-sieve: Improved handling of extension conflicts.

    Conflicts are now always tested from both sides. This is mainly important
    for the "ihave" test.

M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/mime/ext-extracttext.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/plugins/sieve-extprograms/ext-pipe.c

2016-03-23 02:41:46 +0100 Stephan Bosch <stephan@rename-it.nl> (a95b0579)

    lib-sieve: program client: local: Destroy the output stream before the fd is
    closed.

    An earlier change exposed this bug. Before, it was always a socket, and
    closing the output early meant using shutdown() rather than close(). This
    bug caused an assert failure.

M	src/lib-sieve/util/program-client.c

2016-03-21 20:57:29 +0100 Sebastian <sebix@sebix.at> (dee854ed)

    Allow X-Original-To for address test


M	src/lib-sieve/tst-address.c

2016-03-19 17:05:28 +0100 Stephan Bosch <stephan@rename-it.nl> (75e241fa)

    lib-sieve: Added support for bluntly replacing extensions.


M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2016-03-19 17:04:28 +0100 Stephan Bosch <stephan@rename-it.nl> (aa5a9a93)

    lib-sieve: Added execution flag that defers handling of keep to the caller.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-types.h

2016-03-19 17:03:28 +0100 Stephan Bosch <stephan@rename-it.nl> (fb69bc52)

    lib-sieve: Renamed sieve_runtime_flags to sieve_execute_flags and made these
    available to result execution.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c

2016-03-18 02:58:25 +0100 Stephan Bosch <stephan@rename-it.nl> (8d1b0810)

    lib-sieve: util: Fixed message header composition functions to turn newlines
    into proper header line continuations.


M	src/lib-sieve/util/rfc2822.c

2016-03-09 22:11:21 +0100 Stephan Bosch <stephan@rename-it.nl> (1d36af65)

    Documented the new sieve_implicit_extensions setting.


M	INSTALL

2016-03-09 21:35:37 +0100 Stephan Bosch <stephan@rename-it.nl> (355dfd82)

    Added v0.4.12 to NEWS.


M	NEWS

2016-03-09 19:23:26 +0100 Stephan Bosch <stephan@rename-it.nl> (c2bca55b)

    lib-sieve: redirect action: Made mail loop detection more robust by forcibly
    adding a Message-ID header if it is missing.


M	src/lib-sieve/cmd-redirect.c

2016-03-08 17:48:43 +0100 Stephan Bosch <stephan@rename-it.nl> (b188844f)

    Merge branch 'master' of git.dovecot.net:pigeonhole/core


2016-03-02 13:01:13 +0100 Stephan Bosch <stephan@rename-it.nl> (0cfa05d0)

    Adjusted to changes in Dovecot lib-storage API/ABI.

    Struct mail_vfuncs has an additional method now.

M	src/lib-sieve/util/edit-mail.c

2016-02-29 18:05:37 +0100 Stephan Bosch <stephan@rename-it.nl> (75498e45)

    doc/man: doveadm sieve: Clarified that the script name has no ".sieve"
    extension.


M	doc/man/doveadm-sieve.1.in

2016-02-29 13:26:29 +0100 Stephan Bosch <stephan@dovecot.fi> (5181c14c)

    lib-sieve: validator: Prevent duplicate registration of persistent command
    tags.


M	src/lib-sieve/sieve-validator.c

2016-02-29 13:08:59 +0100 Stephan Bosch <stephan@dovecot.fi> (61780582)

    lib-sieve: imap4flags: Created API for registering the implicit flags
    side-effect with commands.

    This is needed for other extensions that manipulate flags while the
    imap4flags extension is not used directly.

M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h

2016-02-29 01:51:04 +0100 Stephan Bosch <stephan@rename-it.nl> (da266d81)

    lib-sieve: redirect action: Added list-id header to the duplicate ID for
    mail loop prevention.

    This prevents a conflict between the message coming through a mailing list
    and a copy of that message recieved directly. If both of these have the same
    message ID, one of these messages would be discarded (or worse: delivered
    locally) when redirected.

M	src/lib-sieve/cmd-redirect.c

2016-02-27 13:28:37 +0100 Stephan Bosch <stephan@rename-it.nl> (93e501fe)

    lib-sieve: Omit logging message for "script not found" during normal script
    compile.

    The caller will normally handle this and it will handle it better with more
    context information. This also produced a spurious "script not found" error
    message when an entry but no attribute existed for an LDAP-based Sieve
    script.

M	src/lib-sieve/sieve.c

2016-02-27 13:28:22 +0100 Stephan Bosch <stephan@rename-it.nl> (2be3992e)

    lib-sieve: ldap storage: Clarified "script not found" errors a bit so that
    it is clear at which stage it occurrs.


M	src/lib-sieve/storage/ldap/sieve-ldap-script.c

2016-02-22 20:53:46 +0100 Stephan Bosch <stephan@rename-it.nl> (d28957f5)

    lib-sieve: util: program-client-local: Changed link between parent and child
    process from a socketpair to a double pipe.

    Turns out /dev/stdin, /dev/stdout, and /dev/fd/XX don't work on Linux if the
    underlying FD is a socket. Since some programs may rely on those symbolic
    links to work, the local client is amended to use two pipes instead. This
    will not help for programs invoked in the remote script service, since a
    socket is required for the connection.

M	src/lib-sieve/util/program-client-local.c
A	tests/plugins/extprograms/bin/cat-stdin
M	tests/plugins/extprograms/execute/execute.svtest

2016-02-22 20:48:58 +0100 Stephan Bosch <stephan@rename-it.nl> (b83db1dc)

    lib-sieve: util: program-client: Made shutting down output towards program
    more efficient.

    Shutdown is now called only once. If there is no used input side to the FD,
    it is now closed entirely.

M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-remote.c

2016-02-22 20:30:36 +0100 Stephan Bosch <stephan@rename-it.nl> (63080455)

    lib-sieve: util: program-client-local: Made FD handling in child process a
    little more robust.

    Prevent mishaps with dup2(); e.g., when source and destination are
    identicial, which could happen.

M	src/lib-sieve/util/program-client-local.c

2016-02-14 23:27:12 +0100 Stephan Bosch <stephan@rename-it.nl> (7ba41a7c)

    Removed some remaining real addresses/domains from the test suite.


M	src/testsuite/testsuite-message.c
M	tests/compile/trivial.sieve
M	tests/plugins/extprograms/bin/stderr

2016-02-13 00:40:48 +0100 Stephan Bosch <stephan@rename-it.nl> (0de2a195)

    lib-sieve: Implemented sieve_implicit_extensions setting.

    The extensions listed in this setting do not need to be enabled explicitly
    using the Sieve require command. This behavior voilates the standard, but is
    necessary for compatibility with some existing implementations of Sieve. Do
    not use this setting unless you really need to!

M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c

2016-02-12 22:19:46 +0100 Stephan Bosch <stephan@rename-it.nl> (f37f0165)

    lib-sieve: Changed Sieve number type to uint64.

    Fixed a few printf format problems in the process. Updated test suite to
    account for the new number width.

M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-message.c
M	tests/compile/errors.svtest
M	tests/compile/errors/lexer.sieve

2016-02-12 21:38:09 +0100 Stephan Bosch <stephan@rename-it.nl> (b899aa34)

    lib-sieve: code: Made jump offset code generation a bit more robust against
    integer overflow mishaps.


M	src/lib-sieve/sieve-binary-code.c

2016-02-12 21:19:52 +0100 Stephan Bosch <stephan@rename-it.nl> (60ad07ad)

    lib-sieve: lexer: Updated number parsing to use Dovecot strnum.h.


M	src/lib-sieve/sieve-lexer.c

2016-01-27 01:25:42 +0100 Stephan Bosch <stephan@rename-it.nl> (77e7e81f)

    configure: Changed version number to v0.4.devel.

    The actual version numbers live only on the release-branches from now on.

M	configure.ac

2016-01-27 01:21:07 +0100 Stephan Bosch <stephan@rename-it.nl> (4fd43c3c)

    configure: Matched first few lines with Dovecot's configure.ac.


M	configure.ac

2016-01-26 23:21:50 +0100 Stephan Bosch <stephan@rename-it.nl> (3d48d756)

    Makefile: Added run-test.sh to be cleaned by distclean.


M	Makefile.am

2016-01-26 21:48:05 +0100 Stephan Bosch <stephan@rename-it.nl> (311a2090)

    Increased ABI version.


M	configure.ac

2016-01-26 21:29:54 +0100 Stephan Bosch <stephan@rename-it.nl> (fd9f5795)

    ChangeLog: Generate Mercurial-style changelogs

    Mimics similar change in Dovecot.

M	Makefile.am
M	autogen.sh

2016-01-19 22:33:02 +0100 Stephan Bosch <stephan@rename-it.nl> (71e908a1)

    managesieve-login: Fixed proxy to allow SASL mechanisms other than PLAIN.
    Also made sure that any capability-derived state information is reset
    properly before a new capability reply is to be parsed.


M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c

2016-01-19 22:03:17 +0100 Stephan Bosch <stephan@rename-it.nl> (2bb0c624)

    Fixed recurring language mistake.


M	NEWS
M	doc/extensions/spamtest-virustest.txt
M	doc/man/sieve-test.1.in
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/managesieve-login/managesieve-proxy.c
M	tests/compile/errors/if.sieve

2016-01-17 20:08:32 +0100 Stephan Bosch <stephan@rename-it.nl> (9e93a502)

    Fixed the document name of the vnd.dovecot.environment specification.


M	doc/rfc/spec-bosch-sieve-dovecot-environment.txt
M	doc/rfc/xml/spec-bosch-sieve-dovecot-environment.xml

2016-01-16 00:09:25 +0100 Stephan Bosch <stephan@rename-it.nl> (3a29a267)

    Merge branch 'master' of git.dovecot.net:pigeonhole/core


2016-01-16 00:07:05 +0100 Stephan Bosch <stephan@rename-it.nl> (16362ac8)

    lib-sieve: multiscript: Fixed bug in handling of (implicit) keep; final keep
    action was executed as though there was a failure. Among other things, this
    caused the keep action to revert back to the initial message, causing
    editheader actions to be ignored.


M	Makefile.am
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
A	tests/extensions/editheader/execute.svtest
A	tests/extensions/editheader/execute/multiscript-after.sieve
A	tests/extensions/editheader/execute/multiscript-before.sieve
A	tests/extensions/editheader/execute/multiscript-personal.sieve

2016-01-14 02:28:46 +0100 Stephan Bosch <stephan@rename-it.nl> (cf873f14)

    LDA Sieve plugin: Removed useless assignment. Addresses LLVM scan-build
    report.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2016-01-14 02:16:53 +0100 Stephan Bosch <stephan@rename-it.nl> (62279853)

    lib-sieve: ldap storage: Prevent segfault occurring when assigning global
    configuration options.


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2016-01-14 01:30:20 +0100 Stephan Bosch <stephan@rename-it.nl> (a66a4af8)

    lib-sieve: storage: Local variable in
    sieve_storage_active_script_is_default() wasn't always properly initialized.
    This was a LLVM scan-build report.


M	src/lib-sieve/sieve-storage.c

2016-01-10 02:11:04 +0100 Stephan Bosch <stephan@rename-it.nl> (3f32cd00)

    Updated description of user log in the README file.


M	README

2016-01-09 22:54:06 +0100 Stephan Bosch <stephan@rename-it.nl> (3446fef1)

    Forgot to remove is-tagged.py from Makefile.am.


M	Makefile.am

2016-01-09 20:58:56 +0100 Stephan Bosch <stephan@rename-it.nl> (45bc3d90)

    lib-sieve: imap4flags extension: Similar problem as previous commit, but
    relating to retrieval rather than manipulation.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c

2016-01-09 20:26:06 +0100 Stephan Bosch <stephan@rename-it.nl> (61127ef9)

    lib-sieve: imap4flags extension: Fixed problem in public flag manipulation
    API. Flags weren't always assigned properly, because the internal variable
    was not retrieved correctly.


M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h

2016-01-09 16:00:04 +0100 Stephan Bosch <stephan@rename-it.nl> (0a593901)

    Updated TODO.


M	TODO

2016-01-09 15:59:03 +0100 Stephan Bosch <stephan@rename-it.nl> (1596c777)

    Updated Sieve extension support information in README.


M	README

2016-01-09 15:10:49 +0100 Stephan Bosch <stephan@rename-it.nl> (060c7bd4)

    Updated dovecot.m4 to the latest version.


M	m4/dovecot.m4

2016-01-09 12:54:47 +0100 Stephan Bosch <stephan@rename-it.nl> (2d92fd87)

    Switched from hg to git.


A	.gitignore
D	.hgignore
D	.hgsigs
M	Makefile.am
D	is-tagged.py
M	update-version.sh

2016-01-08 22:27:34 +0100 Stephan Bosch <stephan@rename-it.nl> (f3817d68)

    lib-sieve: imap4flags extension: Forgot to check for empty flag/keyword in
    new flag checking function.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c

2016-01-08 22:05:03 +0100 Stephan Bosch <stephan@rename-it.nl> (a68816ee)

    lib-sieve: imap4flags extension: Made flag syntax checking available to
    other extensions.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (9d7a19d9)

    Implemented Sieve extracttext extension.


M	Makefile.am
M	src/lib-sieve/plugins/mime/Makefile.am
A	src/lib-sieve/plugins/mime/cmd-extracttext.c
A	src/lib-sieve/plugins/mime/ext-extracttext.c
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-extensions.c
M	tests/extensions/mime/errors.svtest
A	tests/extensions/mime/errors/extracttext-nofep.sieve
A	tests/extensions/mime/errors/extracttext-novar.sieve
A	tests/extensions/mime/errors/extracttext.sieve
A	tests/extensions/mime/extracttext.svtest

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (b8b6f750)

    lib-sieve: message body: Amended messaage part API with some more access
    functions. Added support for getting message part information and content.


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (b2444c8d)

    lib-sieve: foreverypart extension: Improved byte code generated around break
    command. Prevents useless jumps after break operation.


M	src/lib-sieve/plugins/mime/cmd-break.c

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (0caef4ef)

    lib-sieve: Added support for having multiple instances of a single tag
    (type) within a single command.


M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (823d2903)

    lib-sieve: Cleaned up object definitions using newer C99 syntax.


M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-objects.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-substitutions.c

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (877f8247)

    lib-sieve: Cleaned up byte code operand and operation definitions using
    newer C99 syntax.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-variables.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (3d33283d)

    lib-sieve: Cleaned up command definitions using newer C99 syntax.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2016-01-08 20:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (2677f978)

    lib-sieve: Cleaned up command argument definitions using newer C99 syntax.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-size.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-script-run.c

2016-01-08 20:07:51 +0100 Stephan Bosch <stephan@rename-it.nl> (45f46f03)

    Added signature for changeset 80146e7670e9


M	.hgsigs

2016-01-08 19:15:44 +0100 Stephan Bosch <stephan@rename-it.nl> (7da5ae6e)

    Added tag 0.4.11 for changeset 80146e7670e9


2016-01-08 19:15:33 +0100 Stephan Bosch <stephan@rename-it.nl> (9d7b1725)

    Released v0.4.11 for Dovecot v2.2.21.


M	NEWS
M	configure.ac

2016-01-07 22:20:21 +0100 Stephan Bosch <stephan@rename-it.nl> (dd66c5f3)

    lib-sieve: util: realpath: Make Coverity happier.


M	src/lib-sieve/util/realpath.c

2016-01-07 22:09:50 +0100 Stephan Bosch <stephan@rename-it.nl> (d576f532)

    lib-sieve: util: Fixed source code indentation in realpath.c.


M	src/lib-sieve/util/realpath.c

2016-01-04 01:19:02 +0100 Stephan Bosch <stephan@rename-it.nl> (c405da95)

    Added signature for changeset ce96bdac1f74


M	.hgsigs

2016-01-04 01:14:24 +0100 Stephan Bosch <stephan@rename-it.nl> (3ef7f9d7)

    Added tag 0.4.11.rc1 for changeset ce96bdac1f74


2016-01-04 01:14:15 +0100 Stephan Bosch <stephan@rename-it.nl> (439ad92d)

    Released v0.4.11.rc1 for Dovecot v2.2.21.


M	NEWS
M	configure.ac

2016-01-04 00:19:02 +0100 Stephan Bosch <stephan@rename-it.nl> (51b2276f)

    Updated copyright notices to include the year 2016.


M	doc/man/doveadm-sieve.1.in
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/index/ext-index-common.c
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/index/ext-index.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/ext-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/mime/cmd-break.c
M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-mime-common.c
M	src/lib-sieve/plugins/mime/ext-mime-common.h
M	src/lib-sieve/plugins/mime/ext-mime.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/lib-sieve/util/program-client.h
M	src/lib-sieve/util/realpath.c
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h
M	src/lib-sieve/util/strtrim.c
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-list.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/settings/pigeonhole-settings.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2016-01-03 22:06:50 +0100 Stephan Bosch <stephan@rename-it.nl> (645bd122)

    test suite: mime extension: Added more test for exists and address tests
    with :mime tag.


M	Makefile.am
A	tests/extensions/mime/address.svtest
A	tests/extensions/mime/exists.svtest

2016-01-03 19:39:32 +0100 Stephan Bosch <stephan@rename-it.nl> (c9a2056a)

    lib-sieve: mime extensions: Updated status from development to experimental.


M	src/lib-sieve/plugins/mime/ext-foreverypart.c
M	src/lib-sieve/plugins/mime/ext-mime.c

2016-01-03 18:37:39 +0100 Stephan Bosch <stephan@rename-it.nl> (edb268d9)

    lib-sieve: message body: Fixed parsing of content-disposition header.


M	src/lib-sieve/sieve-message.c

2016-01-03 18:20:51 +0100 Stephan Bosch <stephan@rename-it.nl> (e46b5a2d)

    lib-sieve: Fixed segfault occurring when default match type of a test is not
    :is. Would not occur in Pigeonhole itself.


M	src/lib-sieve/sieve-match-types.c

2016-01-03 16:33:39 +0100 Stephan Bosch <stephan@rename-it.nl> (017989a3)

    lib-sieve: mime extension: Fixed the header :mime :anychild test to work
    properly outside a foreverypart loop.


M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	tests/extensions/mime/foreverypart.svtest
M	tests/extensions/mime/header.svtest

2016-01-03 16:32:27 +0100 Stephan Bosch <stephan@rename-it.nl> (6a117056)

    lib-sieve: message body: Fixed erroneous changes to the message part tree
    structure performed when re-parsing the message.


M	src/lib-sieve/sieve-message.c

2016-01-03 16:29:30 +0100 Stephan Bosch <stephan@rename-it.nl> (414251d6)

    lib-sieve: Fixed duplication of discard actions in result. No duplicate
    check function was implemented, so that the discard action would be
    duplicated each time it is invoked. This only affects the action limits
    (each discard invocation is counted as another new action). The result of
    the script execution would be identical.


M	src/lib-sieve/cmd-discard.c

2016-01-02 19:36:01 +0100 Stephan Bosch <stephan@rename-it.nl> (eed8e51d)

    test suite: mime extension: Improved header test cases to catch header
    trimming and folding problems.


M	tests/extensions/mime/header.svtest

2016-01-02 19:35:24 +0100 Stephan Bosch <stephan@rename-it.nl> (aecb32fe)

    lib-sieve: message body: Forgot to trim header values.


M	src/lib-sieve/sieve-message.c

2016-01-02 19:34:58 +0100 Stephan Bosch <stephan@rename-it.nl> (75f9c5a0)

    lib-sieve: Fixed an off-by-one error in the previously committed string
    trimming functions.


M	src/lib-sieve/util/strtrim.c

2016-01-02 18:27:14 +0100 Stephan Bosch <stephan@rename-it.nl> (c0679f08)

    lib-sieve: Added our own string trimming functions for until equivalents get
    added in Dovecot.


M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/util/Makefile.am
A	src/lib-sieve/util/strtrim.c
A	src/lib-sieve/util/strtrim.h

2016-01-02 17:13:00 +0100 Stephan Bosch <stephan@rename-it.nl> (fb29773f)

    lib-sieve: Forgot to enable header unfolding for (mime) headers parsed from
    the whole message.


M	src/lib-sieve/sieve-message.c

2016-01-02 16:14:27 +0100 Stephan Bosch <stephan@rename-it.nl> (93024df1)

    test suite: Repeated normal header tests for the mime extension.


M	Makefile.am
A	tests/extensions/mime/header.svtest

2015-12-30 21:38:16 +0100 Stephan Bosch <stephan@rename-it.nl> (57a7d70e)

    lib-sieve: message body: Fixed assert failure occurring when text extraction
    is attempted on a empty or broken text part.


M	src/lib-sieve/sieve-message.c
M	tests/extensions/body/text.svtest

2015-12-30 21:36:29 +0100 Stephan Bosch <stephan@rename-it.nl> (62c8bcaf)

    lib-sieve: message body: Erroneously omitted break statement in switch
    block.


M	src/lib-sieve/sieve-message.c

2015-12-30 21:34:33 +0100 Stephan Bosch <stephan@rename-it.nl> (766ae2a2)

    lib-sieve: message body: Explicitly prevent attempting text extraction from
    header and multipart body parts.


M	src/lib-sieve/sieve-message.c

2015-12-30 17:21:35 +0100 Stephan Bosch <stephan@rename-it.nl> (3debc34c)

    lib-sieve: util: program-client: Ignored ENOTCONN error in shutdown(fd,
    SHUT_WR) call. This error can apparently occur if the program terminates
    earlier than the program client issues shutdown().


M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-remote.c

2015-12-29 20:20:29 +0100 Stephan Bosch <stephan@rename-it.nl> (65c4ec04)

    lib-sieve: message body: Fixed assert failure in handling of body parts that
    are converted to text. No final '\0' character was added to those body
    parts. This occurs for the body test with the (default) `:text' body
    transform.


M	src/lib-sieve/sieve-message.c

2015-12-28 20:46:14 +0100 Stephan Bosch <stephan@rename-it.nl> (75c53950)

    lib-sieve: message body: Prevent cached raw body from growing by one '\0'
    each time it is accessed.


M	src/lib-sieve/sieve-message.c

2015-12-28 20:33:01 +0100 Stephan Bosch <stephan@rename-it.nl> (71be8cc6)

    lib-sieve: code: Added assert to prevent emitting invalid byte code when
    extension definitions are wrong.


M	src/lib-sieve/sieve-code.c

2015-12-25 20:50:50 +0100 Stephan Bosch <stephan@rename-it.nl> (1a8c0016)

    Added ./compile to .hgignore.


M	.hgignore

2015-12-22 21:30:12 +0100 Stephan Bosch <stephan@rename-it.nl> (587d90d8)

    lib-sieve: Made sure that quota errors never get logged as errors in syslog.
    Also improved handling of permission errors caused by ACL plugin.


M	src/lib-sieve/sieve-actions.c

2015-12-22 21:29:14 +0100 Stephan Bosch <stephan@rename-it.nl> (be199519)

    lib-sieve: Fixed handling of global errors. If master and user error handler
    were identical, in some cases the log message could be lost.


M	src/lib-sieve/sieve-error.c

2015-12-22 21:28:17 +0100 Stephan Bosch <stephan@rename-it.nl> (5357208d)

    lib-sieve: result: Fixed handling of implicit keep for a partially executed
    transaction that yield a temporary failure. It would probably result in
    message duplication.


M	src/lib-sieve/sieve-result.c

2015-12-21 23:51:55 +0100 Stephan Bosch <stephan@rename-it.nl> (8411f0fa)

    LDA Sieve plugin: Made sure there is always a proper error handler for the
    implicit keep action during multiscript execution. Should fix reported bug
    on missing message-ID in log.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-12-21 23:32:49 +0100 Stephan Bosch <stephan@rename-it.nl> (3e2e5545)

    LDA Sieve plugin: Removed stray error handler dereference. This would
    probably cause a segfault at multiscript errors.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-12-14 18:56:25 +0100 Stephan Bosch <stephan@rename-it.nl> (6c9580e8)

    lib-sieve: Fixed AIX compile issue in message body parser. Should not
    dereference array_idx() result on the spot.


M	src/lib-sieve/sieve-message.c

2015-12-14 18:54:33 +0100 Stephan Bosch <stephan@rename-it.nl> (d9d8fdb6)

    LDA Sieve plugin: Fixed bug in error handling of Sieve storage constructor.
    Error code was not passed back to caller, so that it operates on an
    uninitialized value. Bug found by CLang warning.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-12-14 01:10:44 +0100 Stephan Bosch <stephan@rename-it.nl> (3c4c2bb8)

    Added signature for changeset 7e19bcfc0c16


M	.hgsigs

2015-12-14 01:01:56 +0100 Stephan Bosch <stephan@rename-it.nl> (1adf0132)

    Added tag 0.4.10 for changeset 7e19bcfc0c16


2015-12-14 01:01:38 +0100 Stephan Bosch <stephan@rename-it.nl> (fa008c0f)

    Released v0.4.10 for Dovecot v2.2.21.


M	NEWS
M	configure.ac

2015-12-08 20:33:19 +0100 Stephan Bosch <stephan@rename-it.nl> (4177ae29)

    Renamed pigeonhole.m4 to dovecot-pigeonhole.m4.


M	Makefile.am
R100	pigeonhole.m4	dovecot-pigeonhole.m4

2015-12-08 00:37:34 +0100 Stephan Bosch <stephan@rename-it.nl> (c1fe7b28)

    Added signature for changeset 9b7f6f14a350


M	.hgsigs

2015-12-08 00:32:20 +0100 Stephan Bosch <stephan@rename-it.nl> (1daceb9b)

    Added tag 0.4.10.rc2 for changeset 9b7f6f14a350


2015-12-08 00:32:10 +0100 Stephan Bosch <stephan@rename-it.nl> (543848bd)

    Released v0.4.10.rc2 for Dovecot v2.2.20.


M	configure.ac

2015-12-08 00:31:05 +0100 Stephan Bosch <stephan@rename-it.nl> (d6e95607)

    Fixed indentation in README file.


M	README

2015-12-05 01:15:11 +0100 Stephan Bosch <stephan@rename-it.nl> (2f56a91f)

    lib-sieve: Added back t_str_trim() for the time being, since it was removed
    from Dovecot. It is now named pg_t_str_trim() to prevent a new conflict at
    the next attempt.


M	src/lib-sieve/sieve-settings.c

2015-12-05 00:49:33 +0100 Stephan Bosch <stephan@rename-it.nl> (a8bec513)

    Added signature for changeset a795304eb433


M	.hgsigs

2015-12-05 00:44:09 +0100 Stephan Bosch <stephan@rename-it.nl> (c6766eb4)

    Added tag 0.4.10.rc1 for changeset a795304eb433


2015-12-05 00:43:45 +0100 Stephan Bosch <stephan@rename-it.nl> (c3af27f4)

    Released v0.4.10.rc1 for Dovecot v2.2.20.rc1.


M	NEWS
M	configure.ac

2015-12-04 23:21:58 +0100 Stephan Bosch <stephan@rename-it.nl> (ae3ef56d)

    Updated TODO.


M	TODO

2015-12-04 23:20:05 +0100 Stephan Bosch <stephan@rename-it.nl> (42582832)

    lib-sieve: mime/foreverypart: Properly implemented interaction with include
    extension. Included scripts now execute in the context of the inner parent
    foreverypart loop.


M	src/lib-sieve/plugins/mime/ext-mime-common.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	tests/extensions/mime/errors.svtest
M	tests/extensions/mime/foreverypart.svtest
A	tests/extensions/mime/included/include-foreverypart.sieve

2015-12-04 22:58:35 +0100 Stephan Bosch <stephan@rename-it.nl> (c8643b66)

    lib-sieve: mime: Improved foreverypart runtime trace.


M	src/lib-sieve/plugins/mime/cmd-foreverypart.c

2015-12-01 14:24:33 +0100 Stephan Bosch <stephan@rename-it.nl> (714988c4)

    Forced distribution of pigeonhole.m4 file. For some inapparent reason it was
    not included in the output tarball.


M	Makefile.am

2015-11-29 21:47:14 +0100 Stephan Bosch <stephan@rename-it.nl> (fec57037)

    lib-sieve: variables extension: Fixed handling of empty string by the
    `:length' set modifier. An empty string yielded an empty string rather than
    "0".


M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	tests/extensions/variables/modifiers.svtest

2015-11-29 21:33:33 +0100 Stephan Bosch <stephan@rename-it.nl> (c751d077)

    lib-sieve: Fixed memory leak in code dumper. The free handler of code dumper
    extensions was never executed.


M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h

2015-11-29 20:01:09 +0100 Stephan Bosch <stephan@rename-it.nl> (55154015)

    testsuite: mime extension: Added iCalendar example test case.


M	Makefile.am
A	tests/extensions/mime/calendar-example.svtest

2015-11-29 20:00:37 +0100 Stephan Bosch <stephan@rename-it.nl> (9bdc93c9)

    lib-sieve: mime extension: Improved trace output.


M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/sieve-message.c

2015-11-29 18:33:40 +0100 Stephan Bosch <stephan@rename-it.nl> (58fee67d)

    testsuite: mime: Created tests for some basic foreverypart loops.


M	Makefile.am
A	tests/extensions/mime/foreverypart.svtest

2015-11-29 16:17:41 +0100 Stephan Bosch <stephan@rename-it.nl> (62af47b8)

    testsuite: Fixed the test_fail command to also work from within a
    foreverypart loop.


M	src/testsuite/cmd-test-fail.c

2015-11-29 16:17:15 +0100 Stephan Bosch <stephan@rename-it.nl> (0a130f99)

    lib-sieve: interpreter; Added support for program jumps that explicitly
    cross loop boundaries. Needed for test suite.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2015-11-29 15:33:25 +0100 Stephan Bosch <stephan@rename-it.nl> (856c89c6)

    lib-sieve: Fixed memory leak occurring in interpreter loop handling.


M	src/lib-sieve/sieve-interpreter.c

2015-11-29 15:28:18 +0100 Stephan Bosch <stephan@rename-it.nl> (07ad6819)

    testsuite: Accidentally committed disabled tests.


M	tests/extensions/mime/errors.svtest

2015-11-29 14:58:20 +0100 Stephan Bosch <stephan@rename-it.nl> (4d2c27cc)

    lib-sieve: interpreter: Improved robustness of code loop handling against
    binary corruption. When the program crosses the boundary of the current jump
    somehow, the program is terminated and a corruption error is returned.


M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2015-11-29 13:46:03 +0100 Stephan Bosch <stephan@rename-it.nl> (028d6fef)

    lib-sieve: mime/foreverypart: Enforced loop nesting limit across includes.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c
M	tests/extensions/mime/errors.svtest
A	tests/extensions/mime/errors/limits-include.sieve
A	tests/extensions/mime/included/include-loop-2.sieve
A	tests/extensions/mime/included/include-loop-3.sieve
A	tests/extensions/mime/included/include-loop-4.sieve
A	tests/extensions/mime/included/include-loop-5.sieve

2015-11-29 13:00:38 +0100 Stephan Bosch <stephan@rename-it.nl> (2f4cdcdd)

    lib-sieve: mime/foreverypart: Implemented loop nesting limit.


M	src/lib-sieve/plugins/mime/cmd-foreverypart.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-limits.h
M	tests/extensions/mime/errors.svtest
A	tests/extensions/mime/errors/limits.sieve

2015-11-29 12:17:32 +0100 Stephan Bosch <stephan@rename-it.nl> (4ee04548)

    lib-sieve: mime/foreverypart: Fixed code dumping of `:param' argument. It
    erroneously reported a code corruption.


M	src/lib-sieve/plugins/mime/tag-mime.c

2015-11-29 12:16:25 +0100 Stephan Bosch <stephan@rename-it.nl> (53bab871)

    lib-sieve: mime/foreverypart: Implemented basic execution tests.


M	Makefile.am
M	tests/extensions/mime/execute.svtest
M	tests/extensions/mime/execute/foreverypart.sieve
A	tests/extensions/mime/execute/mime.sieve

2015-11-29 11:53:24 +0100 Stephan Bosch <stephan@rename-it.nl> (07318673)

    Merged concurrent changes.


2015-11-29 11:50:59 +0100 Stephan Bosch <stephan@rename-it.nl> (725a6c66)

    lib-sieve: Implemented the foreverypart and mime extensions (RFC 5703).


M	Makefile.am
M	README
M	TODO
M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/mime/Makefile.am
A	src/lib-sieve/plugins/mime/cmd-break.c
A	src/lib-sieve/plugins/mime/cmd-foreverypart.c
A	src/lib-sieve/plugins/mime/ext-foreverypart.c
A	src/lib-sieve/plugins/mime/ext-mime-common.c
A	src/lib-sieve/plugins/mime/ext-mime-common.h
A	src/lib-sieve/plugins/mime/ext-mime.c
A	src/lib-sieve/plugins/mime/tag-mime.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/mime/content-header.svtest
A	tests/extensions/mime/errors.svtest
A	tests/extensions/mime/errors/address-mime-tag.sieve
A	tests/extensions/mime/errors/break.sieve
A	tests/extensions/mime/errors/exists-mime-tag.sieve
A	tests/extensions/mime/errors/foreverypart.sieve
A	tests/extensions/mime/errors/header-mime-tag.sieve
A	tests/extensions/mime/execute.svtest
A	tests/extensions/mime/execute/foreverypart.sieve

2015-11-29 11:50:44 +0100 Stephan Bosch <stephan@rename-it.nl> (7050cd8d)

    lib-sieve: Implemented running code loops in the interpreter.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2015-11-29 11:49:47 +0100 Stephan Bosch <stephan@rename-it.nl> (e5dc35fc)

    lib-sieve: Created message body part iterator and mime header list.


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2015-11-29 11:48:29 +0100 Stephan Bosch <stephan@rename-it.nl> (1679708b)

    lib-sieve: Created special stringlist class for message headers, so that
    header names can also be returned by the iterator.


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2015-11-29 11:48:21 +0100 Stephan Bosch <stephan@rename-it.nl> (b9339d5b)

    lib-sieve: Reworked message body parsing to store the message parts in a
    tree structure.


M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	tests/extensions/body/content.svtest

2015-11-29 11:47:47 +0100 Stephan Bosch <stephan@rename-it.nl> (d8eb07db)

    lib-sieve: The t_str_trim() function has moved to Dovecot.


M	src/lib-sieve/sieve-settings.c

2015-11-28 23:53:27 +0100 Stephan Bosch <stephan@rename-it.nl> (b947e601)

    Added new TODO item.


M	TODO

2015-11-18 22:11:31 +0100 Stephan Bosch <stephan@rename-it.nl> (fb2fed99)

    lib-sieve: Moved handling of implicit keep during multiscript execution
    outside the script sequence itself. Before, implicit keep was executed as
    part of the final script execution. This caused the implicit keep to be
    executed as part of that script, including global context. This caused
    insignificant errors during delivery to be logged as errors in the
    administrator log when the last script is global.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c

2015-11-15 22:46:01 +0100 Stephan Bosch <stephan@rename-it.nl> (c8f4930b)

    lib-sieve: Made message part content type and disposition available to
    extensions.


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2015-11-14 00:36:19 +0100 Stephan Bosch <stephan@rename-it.nl> (b378f922)

    lib-sieve: Make message the time the message processing started available to
    any extension.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2015-11-14 00:30:30 +0100 Stephan Bosch <stephan@rename-it.nl> (67366e88)

    lib-sieve: Moved message body parsing code from body extension to Sieve
    core. This makes this available for other extensions.


M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2015-11-02 18:56:39 +0100 Stephan Bosch <stephan@rename-it.nl> (07defb0a)

    lib-sieve: imap4flags extension: Made flag manipulation API available to
    other extensions.


M	src/lib-sieve/plugins/imap4flags/Makefile.am
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
A	src/lib-sieve/plugins/imap4flags/sieve-ext-imap4flags.h
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c

2015-11-02 18:56:39 +0100 Stephan Bosch <stephan@rename-it.nl> (5aebc1c8)

    testsuite: Allow setting configuration options from command line. These will
    influence some of the performed tests.


M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-settings.c

2015-11-02 18:56:39 +0100 Stephan Bosch <stephan@rename-it.nl> (6ff4199c)

    lib-sieve: Implemented means to override existing (standard) extensions.


M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2015-11-02 18:56:39 +0100 Stephan Bosch <stephan@rename-it.nl> (ab12e844)

    Added pigeonhole.m4 to installation.


M	Makefile.am
A	pigeonhole.m4

2015-11-02 18:55:14 +0100 Stephan Bosch <stephan@rename-it.nl> (98226d2f)

    doveadm sieve plugin: Added proper handling of Sieve storage initialization
    failure occurring when sieve_enabled=no


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c

2015-10-29 22:14:32 +0100 Stephan Bosch <stephan@rename-it.nl> (d2a75724)

    lib-sieve: Added sieve_enabled setting that defaults to "yes". This allows
    completely disabling Sieve processing for a particular user.


M	src/lib-sieve/sieve-storage.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-10-29 22:14:24 +0100 Stephan Bosch <stephan@rename-it.nl> (28b1d41f)

    doveadm sieve plugin: Fixed stray debug code committed in earlier patch.


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c

2015-10-27 23:42:52 +0100 Stephan Bosch <stephan@rename-it.nl> (a88ff161)

    lib-sieve: body extension: Properly implemented the :text body transform. It
    now extracts bare text from HTML/XHMTL parts. Other text/* parts are still
    returned as is. Any other unrecognized content types are skipped.


M	Makefile.am
M	README
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body.c
A	tests/extensions/body/text.svtest

2015-10-21 23:31:06 +0200 Stephan Bosch <stephan@rename-it.nl> (9bc63675)

    lib-sieve: enotify extension: mailto method: Implemented
    sieve_notify_mailto_envelope_from setting. This allows setting the MAIL FROM
    of the SMTP envelope for the notification e-mails. The syntax is identical
    to the sieve_redirect_envelope_from setting.


M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	tests/extensions/enotify/mailto.svtest

2015-10-21 23:27:36 +0200 Stephan Bosch <stephan@rename-it.nl> (e66eddcd)

    lib-sieve: Created generic implementation for parsing an envelope_from
    setting, such as sieve_redirect_envelope_from. Also adds a new source for
    the envelope_from address called "postmaster". This means that the value is
    obtained from the postmaster_address LDA setting.


M	INSTALL
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h

2015-10-20 21:54:49 +0200 Stephan Bosch <stephan@rename-it.nl> (c0d68bce)

    lib-sieve: script storage: Sieve mailbox attributes use an external storage,
    so they don't need to be synced explicitly with any mail storage backend.
    Patch by Timo Sirainen.


M	src/lib-sieve/sieve-storage-sync.c

2015-10-20 13:57:48 +0200 Stephan Bosch <stephan@rename-it.nl> (37e7b654)

    doveadm sieve plugin: Fixed crashes caused by incorrect context allocation
    in the command implementations. The base context struct was allocated,
    rather than the (larger) command-specific context. Patch by Timo Sirainen.


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c

2015-10-04 23:18:29 +0200 Stephan Bosch <stephan@rename-it.nl> (d3c8a4c1)

    Added signature for changeset 8cdb8b90e7a3


M	.hgsigs

2015-10-04 23:14:08 +0200 Stephan Bosch <stephan@rename-it.nl> (d5710094)

    Added tag 0.4.9 for changeset 8cdb8b90e7a3


2015-10-04 23:13:50 +0200 Stephan Bosch <stephan@rename-it.nl> (cef21760)

    Released v0.4.9 for Dovecot v2.2.19.


M	NEWS
M	configure.ac

2015-10-02 21:37:28 +0200 Stephan Bosch <stephan@rename-it.nl> (0a7c0238)

    lib-sieve: file storage: Added assert to make Coverity happier.


M	src/lib-sieve/storage/file/sieve-file-storage.c

2015-10-02 17:43:37 +0200 Stephan Bosch <stephan@rename-it.nl> (52ed9371)

    lib-sieve: Use mailbox_save_using_mail() instead of mailbox_copy() for
    delivering messages. This makes sure that the resulting mail storage events
    are of the correct type for logging/notification.


M	src/lib-sieve/sieve-actions.c

2015-10-01 00:11:04 +0200 Stephan Bosch <stephan@rename-it.nl> (a4078e88)

    sieve-test: Fixed couple of Coverity warnings.


M	src/sieve-tools/sieve-test.c

2015-10-01 00:10:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ab7ae1bc)

    Sieve extprograms plugin: Fixed Coverity warning.


M	src/plugins/sieve-extprograms/cmd-pipe.c

2015-10-01 00:09:51 +0200 Stephan Bosch <stephan@rename-it.nl> (193d2f88)

    doveadm sieve plugin: Addressed spurious Coverity warning.


M	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c

2015-10-01 00:04:37 +0200 Stephan Bosch <stephan@rename-it.nl> (31b96ae3)

    Sieve file storage: Fixed couple of Coverity warnings.


M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage.c

2015-10-01 00:02:44 +0200 Stephan Bosch <stephan@rename-it.nl> (e331c727)

    Sieve metadata extension: Fixed couple of Coverity warnings.


M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c

2015-09-30 00:54:40 +0200 Stephan Bosch <stephan@rename-it.nl> (b746e31d)

    Sieve vnd.dovecot.environment extension: Forgot 'extern' in extension
    declaration. This causes link failures for certain platforms.


M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h

2015-09-25 00:01:42 +0200 Stephan Bosch <stephan@rename-it.nl> (3b739e61)

    Added signature for changeset b2d5b1a5fa25


M	.hgsigs

2015-09-24 23:35:00 +0200 Stephan Bosch <stephan@rename-it.nl> (5d5d4979)

    Added tag 0.4.9.rc1 for changeset b2d5b1a5fa25


2015-09-24 23:33:17 +0200 Stephan Bosch <stephan@rename-it.nl> (df7e58f9)

    Released v0.4.9.rc1 for Dovecot v2.2.19.rc1.


M	NEWS
M	configure.ac

2015-09-23 22:54:11 +0200 Stephan Bosch <stephan@rename-it.nl> (593dde9f)

    Remove now-unnecessary direct stdlib.h #includes.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/util/realpath.c
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-settings.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite.c

2015-09-23 21:57:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ab51bf47)

    Sieve vnd.dovecot.environment extension: Referenced specification from
    extension source.


M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c

2015-09-23 21:54:39 +0200 Stephan Bosch <stephan@rename-it.nl> (8027c3ad)

    doc: Removed obsolete vnd.dovecot.duplicate specification sources.


D	doc/rfc/xml/reference.IMAP4FLAGS.xml
D	doc/rfc/xml/reference.MAILBOX.xml
D	doc/rfc/xml/reference.VACATION.xml
D	doc/rfc/xml/spec-bosch-sieve-duplicate.xml

2015-09-23 21:50:10 +0200 Stephan Bosch <stephan@rename-it.nl> (a0f7efd0)

    Created specification for the vnd.dovecot.environment extension.


A	doc/rfc/spec-bosch-sieve-dovecot-environment.txt
A	doc/rfc/xml/reference.ENVIRONMENT.xml
A	doc/rfc/xml/spec-bosch-sieve-dovecot-environment.xml

2015-09-23 21:49:25 +0200 Stephan Bosch <stephan@rename-it.nl> (a8b8d1cb)

    Sieve vnd.dovecot.environment extension: Made activation of the environment
    extension implicit.


M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c
M	tests/extensions/vnd.dovecot/environment/basic.svtest
M	tests/extensions/vnd.dovecot/environment/variables.svtest

2015-09-23 20:06:15 +0200 Stephan Bosch <stephan@rename-it.nl> (1ce4c883)

    Sieve extprograms plugin: Made line endings configurable for the input
    passed to the external program.


M	doc/plugins/sieve_extprograms.txt
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
A	tests/plugins/extprograms/bin/crlf
M	tests/plugins/extprograms/execute/execute.svtest

2015-09-21 23:34:41 +0200 Stephan Bosch <stephan@rename-it.nl> (66a4bf01)

    vnd.dovecot.environment extension: Forgot a \ in Makefile.am.


M	src/lib-sieve/plugins/vnd.dovecot/environment/Makefile.am

2015-09-08 01:08:34 +0200 Stephan Bosch <stephan@rename-it.nl> (b185215e)

    managesieve: Fixed assert failure occuring when client disconnects during
    GETSCRIPT command. Passed NULL as reason to client_disconnect(), which is
    not allowed.


M	src/managesieve/cmd-getscript.c

2015-09-08 01:07:43 +0200 Stephan Bosch <stephan@rename-it.nl> (d6079cf4)

    managesieve: Started using io_stream_get_disconnect_reason() for default
    client_destroy() reason.


M	src/managesieve/managesieve-client.c

2015-08-29 13:12:58 +0200 Stephan Bosch <stephan@rename-it.nl> (e0c53ce7)

    Removed all invocations of strtoll() and friends.


M	src/lib-sieve/sieve-settings.c

2015-08-29 13:12:58 +0200 Stephan Bosch <stephan@rename-it.nl> (786522e4)

    Removed all invocations of atoi().


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c

2015-08-29 13:12:58 +0200 Stephan Bosch <stephan@rename-it.nl> (3e2d24fc)

    Changed type of internet port values to in_port_t everywhere.


M	src/managesieve-login/client.c

2015-08-29 12:53:29 +0200 Stephan Bosch <stephan@rename-it.nl> (b25371ee)

    Merged concurrent changes.


2015-08-17 23:56:21 +0200 Stephan Bosch <stephan@rename-it.nl> (0615ed9c)

    lib-sieve: Improved efficiency of reading a string-list operand that is
    actually a single string.


M	src/lib-sieve/sieve-code.c

2015-08-17 23:51:35 +0200 Stephan Bosch <stephan@rename-it.nl> (5f6735d9)

    lib-sieve: variables extension: Added asserts to extension API to make sure
    variables extension instance gets passed as argument.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c

2015-08-17 23:41:05 +0200 Stephan Bosch <stephan@rename-it.nl> (f985536f)

    lib-sieve: vnd.dovecot.environment extension: Forgot to add several files in
    previous commit.


A	src/lib-sieve/plugins/vnd.dovecot/environment/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-common.h
A	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-items.c
A	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment-variables.c
A	src/lib-sieve/plugins/vnd.dovecot/environment/ext-vnd-environment.c
A	tests/extensions/vnd.dovecot/environment/basic.svtest
A	tests/extensions/vnd.dovecot/environment/variables.svtest

2015-08-17 23:34:21 +0200 Stephan Bosch <stephan@rename-it.nl> (2c1540a5)

    lib-sieve: Implemented the vnd.dovecot.environment extension. This adds the
    vnd.dovecot.default-mailbox and vnd.dovecot.username environment items. It
    creates the 'env' variables namespace through which all environment items
    can be accessed directly. This extension is yet to be documented properly.
    More environment items are under consideration.


M	Makefile.am
M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/vnd.dovecot/Makefile.am
M	src/lib-sieve/sieve-extensions.c

2015-08-16 19:00:29 +0200 Stephan Bosch <stephan@rename-it.nl> (30509319)

    sieve-filter: Fixed handling of failure-related implicit keep when there is
    an explicit default destination folder. The message was left in the source
    mailbox, even though it was stored in the destination folder.


M	src/sieve-tools/sieve-filter.c

2015-08-06 22:23:29 +0200 Stephan Bosch <stephan@rename-it.nl> (d35a452c)

    doveadm sieve plugin: Fixed incorrect initialization of mail user.


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2015-08-06 22:23:03 +0200 Stephan Bosch <stephan@rename-it.nl> (74e03520)

    lib-sieve: Properly implemented checking of ABI version for plugins.


M	configure.ac
M	pigeonhole-config.h.in
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c

2015-07-25 00:53:51 +0200 Stephan Bosch <stephan@rename-it.nl> (ccf6ae59)

    lib-sieve: Substituted inappropriate use of str_append_n() with normal
    str_append().


M	src/lib-sieve/util/rfc2822.c

2015-07-24 23:54:25 +0200 Stephan Bosch <stephan@rename-it.nl> (1cbc493c)

    testsuite: Fixed default envelope extraction fron test message.


M	src/testsuite/testsuite-message.c

2015-07-24 23:24:33 +0200 Stephan Bosch <stephan@rename-it.nl> (d1b6d77c)

    lib-sieve: util: Fixed RFC5322 header folding.


M	src/lib-sieve/util/rfc2822.c
M	tests/extensions/vacation/message.svtest

2015-07-06 23:47:05 +0200 Stephan Bosch <stephan@rename-it.nl> (cf089193)

    doveadm-sieve: Fixed one memory leak.


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2015-05-22 23:38:58 +0200 Stephan Bosch <stephan@rename-it.nl> (710b5ca5)

    sieve-test: Fixed Clang variable initialization warning.


M	src/sieve-tools/sieve-test.c

2015-05-22 23:36:03 +0200 Stephan Bosch <stephan@rename-it.nl> (18b089f6)

    Fixed duplicate const specifier warning from Clang.


M	src/lib-sieve/plugins/relational/ext-relational-common.c

2015-05-22 21:14:21 +0200 Stephan Bosch <stephan@rename-it.nl> (7c96426f)

    managesieve-login: proxy: Fixed use of SASL mechanisms with multiple
    challenge-response cycles. Previous change had several problems.


M	src/managesieve-login/managesieve-proxy.c

2015-05-22 02:11:03 +0200 Stephan Bosch <stephan@rename-it.nl> (5da0edb0)

    managesieve-login: Changed proxy to better match imap equivalent. It now
    uses dsasl-client, so it should now be possible to use SASL mechanisms other
    than PLAIN. Cleaned up the code a bit.


M	src/managesieve-login/managesieve-proxy.c

2015-05-22 02:02:38 +0200 Stephan Bosch <stephan@rename-it.nl> (6dfca60c)

    managesieve-login: Copied too much in previous change.


M	src/managesieve-login/managesieve-proxy.c

2015-05-21 21:45:40 +0200 Stephan Bosch <stephan@rename-it.nl> (79e19b50)

    managesieve-login: Implemented proxy XCLIENT support.


M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c

2015-05-19 21:23:52 +0200 Stephan Bosch <stephan@rename-it.nl> (186911f0)

    managesieve-login: settings: Changed default listener initialization to
    include field names.


M	src/managesieve-login/managesieve-login-settings.c

2015-05-15 20:54:00 +0200 Stephan Bosch <stephan@rename-it.nl> (898dd129)

    Added signature for changeset baa15dd77f9e


M	.hgsigs

2015-05-15 20:22:32 +0200 Stephan Bosch <stephan@rename-it.nl> (641126d2)

    Added tag 0.4.8 for changeset baa15dd77f9e


2015-05-15 20:22:20 +0200 Stephan Bosch <stephan@rename-it.nl> (f95a87c8)

    Released v0.4.8 for Dovecot v2.2.18.


M	NEWS
M	configure.ac

2015-05-14 13:13:39 +0200 Stephan Bosch <stephan@rename-it.nl> (2ee12500)

    configure: Use consistent quotation for AC_DEFINEs as per autoconf
    recommendations.


M	configure.ac

2015-05-13 23:13:42 +0200 Stephan Bosch <stephan@rename-it.nl> (e4405c33)

    Small adjustment to NEWS file.


M	NEWS

2015-05-13 22:54:18 +0200 Stephan Bosch <stephan@rename-it.nl> (406b2b87)

    Added signature for changeset 7b154d69394f


M	.hgsigs

2015-05-13 22:50:58 +0200 Stephan Bosch <stephan@rename-it.nl> (5443d289)

    Added tag 0.4.8.rc3 for changeset 7b154d69394f


2015-05-13 22:50:46 +0200 Stephan Bosch <stephan@rename-it.nl> (6f5be001)

    Released v0.4.8.rc3 for Dovecot v2.2.17.


M	NEWS
M	configure.ac

2015-05-13 19:52:51 +0200 Stephan Bosch <stephan@rename-it.nl> (25d59c10)

    managesieve: Implemented support for reporting command statistics at
    disconnect.


M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2015-05-13 19:52:51 +0200 Stephan Bosch <stephan@rename-it.nl> (eaf64db1)

    managesieve: Managesieve used "managesieve" rather than "sieve" as login
    service name, which means that all managesieve-specific settings where
    ignored.


M	src/managesieve/main.c

2015-05-13 19:52:51 +0200 Stephan Bosch <stephan@rename-it.nl> (d1cf3325)

    managesieve: Storage quota was not always enforced properly for scripts
    uploaded as quoted string. Nobody does that, but we support it.


M	src/managesieve/cmd-putscript.c

2015-05-13 19:52:43 +0200 Stephan Bosch <stephan@rename-it.nl> (b3b0e003)

    lib-sieve: script: Forgot to assign storage error when determining script
    size from stream.


M	src/lib-sieve/sieve-script.c

2015-05-12 22:51:12 +0200 Stephan Bosch <stephan@rename-it.nl> (4c587465)

    lib-smtp: storage: Fixed small problem in handling of default script. When
    the default was first overriden, then deactivated and finally overriden
    again, it would erroneously implicitly re-activate.


M	src/lib-sieve/sieve-storage.c

2015-05-12 20:53:46 +0200 Stephan Bosch <stephan@rename-it.nl> (daa9088f)

    lib-sieve: storage: Added parameter to sieve_script_delete() to allow
    ignoring the active status of the script. Normally, the active script cannot
    be deleted. This change is necessary to handle doveadm sieve delete -a
    correctly when the provided script is the default.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-storage.c
M	src/managesieve/cmd-deletescript.c
M	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2015-05-11 23:05:24 +0200 Stephan Bosch <stephan@rename-it.nl> (b171cb09)

    lib-sieve: storage: Fixed handling of defaul script in
    sieve_storage_active_script_open(). It only worked when sieve_default_name
    was set.


M	src/lib-sieve/sieve-storage.c

2015-05-11 21:04:39 +0200 Stephan Bosch <stephan@rename-it.nl> (f24b2920)

    Added signature for changeset 44d41235776d


M	.hgsigs

2015-05-11 21:02:10 +0200 Stephan Bosch <stephan@rename-it.nl> (3236a53c)

    Added tag 0.4.8.rc2 for changeset 44d41235776d


2015-05-11 21:02:00 +0200 Stephan Bosch <stephan@rename-it.nl> (42fe82af)

    Released v0.4.8.rc2 for Dovecot v2.2.17.rc1.


M	configure.ac

2015-05-11 10:03:02 +0200 Stephan Bosch <stephan@rename-it.nl> (f4f8d873)

    lib-sieve: storage: Fixed segfault problem in main storage initialization.
    Caused by earlier sieve_default_name-related changes.


M	src/lib-sieve/sieve-storage.c

2015-05-11 00:23:22 +0200 Stephan Bosch <stephan@rename-it.nl> (00ef451c)

    Added signature for changeset fcc97e953584


M	.hgsigs

2015-05-11 00:19:16 +0200 Stephan Bosch <stephan@rename-it.nl> (84528ce8)

    Added tag 0.4.8.rc1 for changeset fcc97e953584


2015-05-11 00:19:00 +0200 Stephan Bosch <stephan@rename-it.nl> (c6c93204)

    Released v0.4.8.rc1 for Dovecot v2.2.17.rc1.


M	NEWS
M	configure.ac

2015-05-10 22:52:09 +0200 Stephan Bosch <stephan@rename-it.nl> (a7867b24)

    Updated example configuration.


M	doc/example-config/conf.d/90-sieve.conf

2015-05-07 22:05:23 +0200 Stephan Bosch <stephan@rename-it.nl> (4ca65a78)

    lib-sieve: storage: Forgot to check whether sieve_default_name setting
    exists. This caused a segfault in the test suite.


M	src/lib-sieve/sieve-storage.c

2015-05-07 21:46:57 +0200 Stephan Bosch <stephan@rename-it.nl> (91baa5c1)

    LDA Sieve plugin: Fixed spurious error caused by earlier changes.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-05-07 21:41:24 +0200 Stephan Bosch <stephan@rename-it.nl> (49a1885f)

    lib-sieve: storage: Check Sieve script name validity in configuration.


M	src/lib-sieve/sieve-storage.c

2015-05-07 21:17:40 +0200 Stephan Bosch <stephan@rename-it.nl> (74684fcb)

    lib-sieve: file storage: The sieve_script_is_active() function returns int
    rather than bool.


M	src/lib-sieve/storage/file/sieve-file-script.c

2015-05-07 21:10:37 +0200 Stephan Bosch <stephan@rename-it.nl> (ccd08367)

    lib-sieve: storage: Changed configuration of default script visibility
    feature. Using a location option for the default name makes no sense if its
    only used for the main personal script.


M	INSTALL
M	src/lib-sieve/sieve-storage.c

2015-05-06 23:58:57 +0200 Stephan Bosch <stephan@rename-it.nl> (f5775b67)

    lib-sieve: storage: Implemented magic to make sieve_default script visible
    in main storage (e.g. from ManageSieve).


M	INSTALL
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2015-05-05 13:42:38 +0200 Stephan Bosch <stephan@rename-it.nl> (d1c868ae)

    lib-sieve: Erroneously decoded mime-encoded words in address headers.


M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	tests/test-address.svtest

2015-05-05 10:41:45 +0200 Stephan Bosch <stephan@rename-it.nl> (1e563215)

    lib-sieve: util: program client: Fixed handing of situation when no input is
    provided to external program used as a command. Previous fixes still omitted
    a few important aspects: Connect return result wasn't actually passed up to
    program_client_run(). Default exit code was wrong.


M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	tests/plugins/extprograms/execute/execute.svtest

2015-05-04 00:26:58 +0200 Stephan Bosch <stephan@rename-it.nl> (db218f64)

    lib-sieve: util: program client: Fixed omission in previous change.


M	src/lib-sieve/util/program-client.c

2015-05-04 00:22:09 +0200 Stephan Bosch <stephan@rename-it.nl> (8ba2d883)

    lib-sieve: util: program client: Fixed handling of connecting
    asynchronously.


M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c

2015-04-23 02:04:38 +0200 Stephan Bosch <stephan@rename-it.nl> (45a84bda)

    lib-sieve: util: Fixed bug in t_realpath() normalization occuring with
    relative symlinks below root. Also contains a few small code cleanups.


M	src/lib-sieve/util/realpath.c

2015-04-22 21:43:33 +0200 Stephan Bosch <stephan@rename-it.nl> (c7a2dc1a)

    Merged concurrent changes.


2015-04-22 21:36:29 +0200 Stephan Bosch <stephan@rename-it.nl> (6fcc0ca9)

    LDA Sieve plugin: Changed error handling so that each action log message can
    have up-to-date time stamps. This change matches a change in LDA that is
    aimed at logging timing statistics.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/Makefile.am
A	src/plugins/lda-sieve/lda-sieve-log.c
A	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c

2015-04-08 23:48:30 +0200 Stephan Bosch <stephan@rename-it.nl> (3a83dab5)

    lib-sieve: editheader extension: The ADDHEADER operation mnemonic was in
    lower case.


M	src/lib-sieve/plugins/editheader/cmd-addheader.c

2015-04-06 17:04:13 +0200 Stephan Bosch <stephan@rename-it.nl> (b1bc4da8)

    Fixed some inconsistencies in the INSTALL documentation. Forgot to adjust a
    few things when the location types were introduced and documented.


M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf

2015-03-28 10:49:23 +0100 Stephan Bosch <stephan@rename-it.nl> (57aec8ab)

    Updated TODO.


M	TODO

2015-03-27 23:20:44 +0100 Stephan Bosch <stephan@rename-it.nl> (6aea1b8e)

    More small fixes in file script location documentation.


M	doc/locations/file.txt

2015-03-27 23:00:11 +0100 Stephan Bosch <stephan@rename-it.nl> (7b3a70cd)

    Small fixes in file script location documentation.


M	doc/locations/file.txt

2015-03-27 22:36:09 +0100 Stephan Bosch <stephan@rename-it.nl> (029e7a28)

    Revised documentation for the duplicate Sieve extension.


M	doc/extensions/duplicate.txt

2015-03-27 22:20:09 +0100 Stephan Bosch <stephan@rename-it.nl> (6de83f18)

    Revised documentation for the editheader Sieve extension.


M	doc/extensions/editheader.txt

2015-03-27 21:58:08 +0100 Stephan Bosch <stephan@rename-it.nl> (0ec8e14a)

    Updated RFCs in documentation.


M	doc/rfc/Makefile.am
A	doc/rfc/date-index.rfc5260.txt
D	doc/rfc/draft-ietf-appsawg-sieve-duplicate-03.txt
A	doc/rfc/duplicate.rfc7352.txt
A	doc/rfc/mailbox-metadata.rfc5490.txt
D	doc/rfc/spec-bosch-sieve-duplicate.txt

2015-03-27 21:40:00 +0100 Stephan Bosch <stephan@rename-it.nl> (b55d8611)

    Fixed installation of documentation. This was quite fundamentally broken,
    not only due to previous change.


M	configure.ac
M	doc/Makefile.am
A	doc/extensions/Makefile.am
A	doc/locations/Makefile.am
A	doc/plugins/Makefile.am
M	doc/rfc/Makefile.am

2015-03-26 23:32:21 +0100 Stephan Bosch <stephan@rename-it.nl> (cfae5b21)

    Updated configuration-related documentation.


M	INSTALL
M	doc/extensions/duplicate.txt
R098	doc/script-location-dict.txt	doc/locations/dict.txt
A	doc/locations/file.txt
R100	doc/script-location-ldap.txt	doc/locations/ldap.txt

2015-03-19 23:27:48 +0100 Stephan Bosch <stephan@rename-it.nl> (eedd48c9)

    Added signature for changeset f2323a90c202


M	.hgsigs

2015-03-19 23:18:35 +0100 Stephan Bosch <stephan@rename-it.nl> (993984f5)

    Added tag 0.4.7 for changeset f2323a90c202


2015-03-19 23:18:17 +0100 Stephan Bosch <stephan@rename-it.nl> (1052e9e9)

    Released v0.4.7 for Dovecot v2.2.16.


M	NEWS
M	configure.ac

2015-03-17 02:31:57 +0100 Stephan Bosch <stephan@rename-it.nl> (8ab23992)

    Added signature for changeset 87b2d3e43a44


M	.hgsigs

2015-03-17 02:29:33 +0100 Stephan Bosch <stephan@rename-it.nl> (0b5e52db)

    Added tag 0.4.7.rc3 for changeset 87b2d3e43a44


2015-03-17 02:29:22 +0100 Stephan Bosch <stephan@rename-it.nl> (3103de66)

    Released v0.4.7.rc3 for Dovecot v2.2.16.


M	NEWS
M	configure.ac

2015-03-16 22:27:17 +0100 Stephan Bosch <stephan@rename-it.nl> (23006f38)

    lib-sieve: file storage: Fixed bug that caused missing active symlink to
    cause a temporary error in some cases.


M	src/lib-sieve/storage/file/sieve-file-storage.c

2015-03-16 22:09:55 +0100 Stephan Bosch <stephan@rename-it.nl> (7491fe59)

    lib-sieve: file storage: Fixed bug in storage path normalization. A
    conditional expression was inverted, causing the path to remain
    unnormalized.


M	src/lib-sieve/storage/file/sieve-file-storage.c

2015-03-15 00:15:54 +0100 Stephan Bosch <stephan@rename-it.nl> (54f75842)

    Added signature for changeset fd050f466314 Messed up the previous attempt.


M	.hgsigs

2015-03-15 00:07:20 +0100 Stephan Bosch <stephan@rename-it.nl> (606e4778)

    Added signature for changeset b3439a979c2e


M	.hgsigs

2015-03-15 00:05:39 +0100 Stephan Bosch <stephan@rename-it.nl> (d07e65ab)

    Added tag 0.4.7.rc2 for changeset fd050f466314


2015-03-15 00:05:14 +0100 Stephan Bosch <stephan@rename-it.nl> (5acb35f2)

    Released v0.4.7.rc2 for Dovecot v2.2.16.


M	NEWS
M	configure.ac

2015-03-14 23:21:06 +0100 Stephan Bosch <stephan@rename-it.nl> (85854f75)

    lib-sieve: file storage: Fixed handling of invalid active script link. The
    error status code wasn't set, so this was handled as an error rather than a
    warning in the LDA plugin.


M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2015-03-14 23:06:37 +0100 Stephan Bosch <stephan@rename-it.nl> (df8c776b)

    lib-sieve: file storage: Improved backwards compatibility with respect to
    the active script being a regular file.


M	src/lib-sieve/storage/file/sieve-file-storage.c

2015-03-14 18:20:22 +0100 Stephan Bosch <stephan@rename-it.nl> (42387a43)

    lib-sieve: Added script metadata to binary dump output.


M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c

2015-03-14 15:52:15 +0100 Stephan Bosch <stephan@rename-it.nl> (dc0bc425)

    lib-sieve: Improved debug messages about up-to-date status of a loaded
    binary.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h

2015-03-14 15:31:53 +0100 Stephan Bosch <stephan@rename-it.nl> (11f38dd8)

    lib-sieve: dict: Fixed memory allocation bug in script object.


M	src/lib-sieve/storage/dict/sieve-dict-script.c

2015-03-12 22:14:44 +0100 Stephan Bosch <stephan@rename-it.nl> (8cc8d605)

    lib-sieve: file storage: Forgot to compare stat.st_dev in equals() method.


M	src/lib-sieve/storage/file/sieve-file-script.c

2015-03-12 21:42:31 +0100 Stephan Bosch <stephan@rename-it.nl> (386930cd)

    sievec: Don't pass the filename as script name when compiling a whole
    directory.


M	src/sieve-tools/sievec.c

2015-03-12 21:41:03 +0100 Stephan Bosch <stephan@rename-it.nl> (bac0703b)

    lib-sieve: file storage: Improved checking of active script link using
    t_normpath().


M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2015-03-12 21:37:41 +0100 Stephan Bosch <stephan@rename-it.nl> (a82ebb0c)

    lib-sieve: Restructured parsing of storage options.


M	src/lib-sieve/sieve-storage.c

2015-03-14 14:42:30 +0100 Stephan Bosch <stephan@rename-it.nl> (0645eedd)

    lib-sieve: Fixed handling of script stream errors.


M	src/lib-sieve/storage/file/sieve-file-script.c

2015-03-12 21:34:10 +0100 Stephan Bosch <stephan@rename-it.nl> (9245e631)

    lib-sieve: Implemented normalization for script storage locations for all
    storage drivers. This is particularly important when the location is
    recorded in the binary for checking whether it is up-to-date.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/Makefile.am
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c

2015-03-12 21:03:28 +0100 Stephan Bosch <stephan@rename-it.nl> (a64bca4a)

    lib-sieve: Implemented utility functions to normalize filesystem paths.


M	src/lib-sieve/util/Makefile.am
A	src/lib-sieve/util/realpath.c
A	src/lib-sieve/util/realpath.h

2015-03-11 23:59:51 +0100 Stephan Bosch <stephan@rename-it.nl> (c2edac3b)

    lib-sieve: script: Added more debug output about metadata up-to-date status.


M	src/lib-sieve/sieve-script.c

2015-03-10 03:19:39 +0100 Stephan Bosch <stephan@rename-it.nl> (fb9f1f0e)

    Added signature for changeset 27ad95fd05a0


M	.hgsigs

2015-03-10 03:17:53 +0100 Stephan Bosch <stephan@rename-it.nl> (5e008647)

    Added tag 0.4.7.rc1 for changeset 27ad95fd05a0


2015-03-10 03:17:33 +0100 Stephan Bosch <stephan@rename-it.nl> (b63e87a0)

    Released v0.4.7.rc1 for Dovecot v2.2.16.rc1.


M	NEWS
M	configure.ac

2015-03-10 02:42:53 +0100 Stephan Bosch <stephan@rename-it.nl> (5280156c)

    Updated README with addition of support for the metadata extensions.


M	README

2015-03-06 21:36:40 +0100 Stephan Bosch <stephan@rename-it.nl> (ed5196bc)

    lib-sieve: Moved lexical scanner to system pool.


M	src/lib-sieve/sieve-lexer.c

2015-03-06 21:14:01 +0100 Stephan Bosch <stephan@rename-it.nl> (665fba16)

    lib-sieve: Cleaned up error handling for the lexical scanner.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h

2015-03-06 20:02:15 +0100 Stephan Bosch <stephan@rename-it.nl> (d01da0de)

    lib-sieve: editheader extension: Made protection against addition and
    deletion of headers configurable separately. Also, the received and
    auto-submitted headers are now only protected against deletion as required
    in the RFC. Updated the documentation accordingly.


M	doc/extensions/editheader.txt
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	tests/extensions/editheader/protected.svtest

2015-03-06 19:02:53 +0100 Stephan Bosch <stephan@rename-it.nl> (01b297b6)

    metadata: Fixed testsuite after changes in Dovecot. Currently cannot freely
    assing server metadata items for testing. Disabled tests for now.


M	tests/extensions/metadata/execute.svtest

2015-03-06 18:59:46 +0100 Stephan Bosch <stephan@rename-it.nl> (35f7d173)

    lda sieve plugin: Started using smtp_client_deinit_timeout() to give a
    session timeout.


M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h

2015-03-06 17:12:35 +0100 Stephan Bosch <stephan@rename-it.nl> (9fe14573)

    doveadm sieve plugin: Forgot to add new headers to distribution.


M	src/plugins/doveadm-sieve/Makefile.am

2015-02-23 09:21:10 +0100 Stephan Bosch <stephan@rename-it.nl> (ccfd86f6)

    lib-sieve: Fixed bug in `:matches' match-type that made a pattern without
    wildcards match as if there were a '*' at the beginning.


M	src/lib-sieve/mcht-matches.c
M	tests/match-types/matches.svtest

2015-02-21 18:44:30 +0100 Stephan Bosch <stephan@rename-it.nl> (13e14c9f)

    doveadm sieve plugin: Forgot to change one sieve_script_delete() invocation
    in previous change.


M	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2015-02-21 17:28:22 +0100 Stephan Bosch <stephan@rename-it.nl> (7246ef04)

    doveadm sieve plugin: Implemented commands for managing Sieve scripts. This
    allows performing ManageSieve actions at command line or through doveadm
    server.


M	.hgignore
M	doc/man/Makefile.am
A	doc/man/doveadm-sieve.1.in
A	doc/man/global-options-formatter.inc
A	doc/man/global-options.inc
A	doc/man/option-A.inc
A	doc/man/option-S-socket.inc
A	doc/man/option-u-user.inc
M	doc/man/pigeonhole.7.in
M	doc/man/reporting-bugs.inc
M	doc/man/sed.sh
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/managesieve/cmd-deletescript.c
M	src/plugins/doveadm-sieve/Makefile.am
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-activate.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-delete.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-get.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-list.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-put.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd-rename.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd.c
A	src/plugins/doveadm-sieve/doveadm-sieve-cmd.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
A	src/plugins/doveadm-sieve/doveadm-sieve-plugin.h
A	src/plugins/doveadm-sieve/doveadm-sieve-sync.c

2015-02-19 01:00:19 +0100 Stephan Bosch <stephan@rename-it.nl> (ccd5660e)

    managesieve: Forgot to dereference script object in RENAMESCRIPT command.


M	src/managesieve/cmd-renamescript.c

2015-02-01 13:23:15 +0100 Stephan Bosch <stephan@rename-it.nl> (ddcb1828)

    Updated TODO.


M	TODO

2015-01-16 18:25:51 +0100 Stephan Bosch <stephan@rename-it.nl> (9514b62e)

    lib-sieve: file storage: Restructured storage initialization to address
    backwards compatibility issues.


M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h

2015-01-16 18:23:49 +0100 Stephan Bosch <stephan@rename-it.nl> (3971b095)

    lib-sieve: Make sure internal script storage errors clear previous error.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage.c

2015-01-08 02:07:51 +0100 Stephan Bosch <stephan@rename-it.nl> (116ace11)

    Updated copyright notices to include the year 2015.


M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/index/ext-index-common.c
M	src/lib-sieve/plugins/index/ext-index-common.h
M	src/lib-sieve/plugins/index/ext-index.c
M	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/ext-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/storage/dict/sieve-dict-script.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/dict/sieve-dict-storage.h
M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/lib-sieve/util/program-client.h
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/settings/pigeonhole-settings.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2015-01-01 17:12:17 +0100 Stephan Bosch <stephan@rename-it.nl> (bc3c7ff7)

    lib-sieve: Added more debug output to binary up-to-date checking.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/storage/file/sieve-file-script.c

2014-12-30 23:01:04 +0100 Stephan Bosch <stephan@rename-it.nl> (9420e6de)

    lib-sieve: Fixed crash in validation of the string parameter of the
    comparator tag. It couldn't handle a missing parameter (which also means
    missing arguments of the test itself in most cases). This is fixed by using
    the sieve_validate_tag_parameter() utility function. Testsuite is also
    extended.


M	src/lib-sieve/sieve-comparators.c
M	tests/compile/errors.svtest
A	tests/compile/errors/comparator.sieve

2014-12-30 22:57:07 +0100 Stephan Bosch <stephan@rename-it.nl> (86f27058)

    testsuite: Added syntax checks for body test.


M	Makefile.am
A	tests/extensions/body/errors.svtest
A	tests/extensions/body/errors/syntax.sieve

2014-12-30 22:56:11 +0100 Stephan Bosch <stephan@rename-it.nl> (7260b4d4)

    lib-sieve: Fixed parameter validation error message for tagged argument. It
    had a whitespace where it didn't belong.


M	src/lib-sieve/sieve-validator.c

2014-12-20 18:18:16 +0100 Stephan Bosch <stephan@rename-it.nl> (d9ca5247)

    lib-sieve: Turned message envelope address parse errors into warnings.


M	src/lib-sieve/sieve-message.c

2014-12-20 16:45:32 +0100 Stephan Bosch <stephan@rename-it.nl> (2c77b286)

    lib-sieve: Accept non-standard domain names, e.g. containing '_'.


M	src/lib-sieve/sieve-address.c
M	tests/extensions/envelope.svtest

2014-12-17 01:15:04 +0100 Stephan Bosch <stephan@rename-it.nl> (cffd007e)

    Updated LGPL license.


M	COPYING.LGPL

2014-12-17 01:12:43 +0100 Stephan Bosch <stephan@rename-it.nl> (797e9294)

    lib-sieve: program client: Made sure supplemental group privileges are also
    dropped.


M	src/lib-sieve/util/program-client-local.c

2014-12-17 00:58:58 +0100 Stephan Bosch <stephan@rename-it.nl> (b279890d)

    tests: Fixed extprograms test suite. Recent changes in handling of unknown
    tags caused `make test-plugins' to fail.


M	tests/plugins/extprograms/execute/errors/syntax.sieve

2014-12-17 00:35:47 +0100 Stephan Bosch <stephan@rename-it.nl> (00c807f2)

    lib-sieve: Fixed printing of hybrid command type.


M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h

2014-11-22 00:17:13 +0100 Stephan Bosch <stephan@rename-it.nl> (60c8e9d4)

    lib-sieve: Consolidated checking mailbox name.


M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2014-11-21 01:23:15 +0100 Stephan Bosch <stephan@rename-it.nl> (aa8e4148)

    lib-sieve: metadata extensions: Implemented proper checking of annotation
    names everywhere. Also added testsuite items to test syntax.


M	Makefile.am
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
A	tests/extensions/metadata/errors.svtest
A	tests/extensions/metadata/errors/syntax.sieve
M	tests/extensions/metadata/execute.svtest

2014-11-20 01:04:00 +0100 Stephan Bosch <stephan@rename-it.nl> (f898a54a)

    lib-sieve: Flush duplicate database during start phase of result execution
    rather than commit phase. This will release the duplicate database lock
    earlier, even before a mail storage transation is started.


M	src/lib-sieve/sieve-result.c

2014-11-20 00:53:41 +0100 Stephan Bosch <stephan@rename-it.nl> (ccf3c957)

    testsuite: Created tests for the Sieve servermetadata extension.


M	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/testsuite-mailstore.c
M	tests/extensions/metadata/execute.svtest

2014-11-20 00:51:09 +0100 Stephan Bosch <stephan@rename-it.nl> (2b08d727)

    lib-sieve: servermetadata extension: Fixed segfault.


M	src/lib-sieve/plugins/metadata/tst-metadata.c

2014-11-17 02:20:40 +0100 Stephan Bosch <stephan@rename-it.nl> (bad772f5)

    Added basic testsuite items for new Sieve metadata support.


M	Makefile.am
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-imap-metadata.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite.c
A	tests/extensions/metadata/execute.svtest

2014-11-16 23:16:38 +0100 Stephan Bosch <stephan@rename-it.nl> (31b2c8d7)

    Merged concurrent changes.


2014-11-16 23:13:58 +0100 Stephan Bosch <stephan@rename-it.nl> (f63b20cd)

    lib-sieve: Finished support for mboxmetadata and servermetadata extensions.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/metadata/Makefile.am
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/sieve-extensions.c
M	src/sieve-tools/sieve-test.c

2014-11-13 09:37:21 +0100 Stephan Bosch <stephan@rename-it.nl> (ab8d1ef0)

    lib-sieve: Increased binary minor version due to changes in optional operand
    codes.


M	src/lib-sieve/sieve-binary.h

2014-11-13 09:36:13 +0100 Stephan Bosch <stephan@rename-it.nl> (79d6a5b8)

    lib-sieve: Fixed bug in handling of binary errors for action side-effects
    and message overrides.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2014-11-12 22:21:14 +0100 Stephan Bosch <stephan@rename-it.nl> (0cb62bcc)

    Updated README with with implementation status.


M	README

2014-11-12 22:10:25 +0100 Stephan Bosch <stephan@rename-it.nl> (9a193393)

    lib-sieve: Implemented the Sieve index extension (RFC 5260).


M	Makefile.am
M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/index/Makefile.am
A	src/lib-sieve/plugins/index/ext-index-common.c
A	src/lib-sieve/plugins/index/ext-index-common.h
A	src/lib-sieve/plugins/index/ext-index.c
A	src/lib-sieve/plugins/index/tag-index.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/index/basic.svtest
A	tests/extensions/index/errors.svtest
A	tests/extensions/index/errors/syntax.sieve

2014-11-12 22:10:24 +0100 Stephan Bosch <stephan@rename-it.nl> (842ebbec)

    lib-sieve: Created message override infrastructure. This allows extension of
    test commands that evaluate the message somehow. Currently this is
    implemented only for the message header. Extensions can thereby influence
    what headers are evaluated and how.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	tests/compile/errors.svtest

2014-11-12 22:10:23 +0100 Stephan Bosch <stephan@rename-it.nl> (bddc00a5)

    lib-sieve: Implemented the index stringlist class which selects an item of
    the parent at a particular index.


M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h

2014-11-12 22:09:44 +0100 Stephan Bosch <stephan@rename-it.nl> (fa4ae816)

    lib-sieve: Made validator resolve all tagged command arguments before
    validating them. This is needed so that argument validation functions can
    reliably verify other arguments at arbitrary positions.


M	src/lib-sieve/sieve-validator.c

2014-11-02 18:35:34 +0100 Stephan Bosch <stephan@rename-it.nl> (60012e68)

    Added signature for changeset 99d796a8cd26


M	.hgsigs

2014-11-02 18:32:40 +0100 Stephan Bosch <stephan@rename-it.nl> (8b664b06)

    Added tag 0.4.6 for changeset 99d796a8cd26


2014-11-02 18:32:06 +0100 Stephan Bosch <stephan@rename-it.nl> (a06cc4be)

    Released v0.4.6 for Dovecot v2.2.15.


M	NEWS
M	configure.ac

2014-10-31 00:50:28 +0100 Stephan Bosch <stephan@rename-it.nl> (b0be4ab4)

    After make distclean the distributed tarball would fail to recompile.


M	Makefile.am

2014-10-30 23:27:42 +0100 Stephan Bosch <stephan@rename-it.nl> (409858f5)

    Added signature for changeset f5e3ef477a32


M	.hgsigs

2014-10-30 23:25:20 +0100 Stephan Bosch <stephan@rename-it.nl> (1702fccc)

    Added tag 0.4.5 for changeset f5e3ef477a32


2014-10-30 23:25:07 +0100 Stephan Bosch <stephan@rename-it.nl> (890ae8e7)

    Released v0.4.5 for Dovecot v2.2.15.


M	NEWS
M	configure.ac

2014-10-30 23:15:45 +0100 Stephan Bosch <stephan@rename-it.nl> (00df2072)

    Previous change actually didn't work completely.


M	configure.ac

2014-10-30 22:40:16 +0100 Stephan Bosch <stephan@rename-it.nl> (41895b01)

    Fixed distcheck problem caused by pigeonhole-version.h.


M	Makefile.am
M	configure.ac

2014-10-30 18:47:26 +0100 Stephan Bosch <stephan@rename-it.nl> (26cb5e95)

    New pigeonhole-version.h header was installed in the wrong directory.


M	Makefile.am

2014-10-30 09:43:18 +0100 Stephan Bosch <stephan@rename-it.nl> (5be0f805)

    lib-sieve: Fixed handling of implicit keep. The sieve_result_execute()
    function returned the wrong status result.


M	src/lib-sieve/sieve-result.c

2014-10-29 22:00:31 +0100 Stephan Bosch <stephan@rename-it.nl> (16b50682)

    Added dummy settings plugin that adds a Pigeonhole version banner to
    doveconf output.


M	configure.ac
M	src/plugins/Makefile.am
A	src/plugins/settings/Makefile.am
A	src/plugins/settings/pigeonhole-settings.c

2014-10-29 21:37:07 +0100 Stephan Bosch <stephan@rename-it.nl> (178e1f5e)

    Forgot to add and ignore new files in latest commit.


M	.hgignore
A	is-tagged.py
A	update-version.sh

2014-10-29 03:05:43 +0100 Stephan Bosch <stephan@rename-it.nl> (a3a616c3)

    Implmented reporting full Pigeonhole version with hg tag so that builds
    between releases can be distinguished. Copied from Dovecot for the most
    part.


M	Makefile.am
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c

2014-10-28 22:34:48 +0100 Stephan Bosch <stephan@rename-it.nl> (76c59355)

    lib-sieve: sieve script: Made sure there is a script name for when
    sieve_script_open() fails.


M	src/lib-sieve/storage/file/sieve-file-script.c

2014-10-28 14:53:39 +0100 Stephan Bosch <stephan@rename-it.nl> (1552383d)

    lib-sieve: Fixed potential segfault bug in file storage driver.


M	src/lib-sieve/storage/file/sieve-file-script.c

2014-10-28 01:53:46 +0100 Stephan Bosch <stephan@rename-it.nl> (2c03f457)

    Added signature for changeset b3303f675157


M	.hgsigs

2014-10-28 01:39:32 +0100 Stephan Bosch <stephan@rename-it.nl> (e634184d)

    Added tag 0.4.4 for changeset b3303f675157


2014-10-28 01:39:14 +0100 Stephan Bosch <stephan@rename-it.nl> (cc57bb25)

    Released v0.4.4 for Dovecot v2.2.15.


M	NEWS
M	configure.ac

2014-10-28 00:54:15 +0100 Stephan Bosch <stephan@rename-it.nl> (52c305a3)

    doveadm-sieve: Fixed timeout leaks occuring while running doveadm. This was
    caused by a circular reference.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c

2014-10-27 21:58:13 +0100 Stephan Bosch <stephan@rename-it.nl> (42693b97)

    doveadm-sieve: Fixed problem with synchronizing the active script.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2014-10-26 14:10:27 +0100 Stephan Bosch <stephan@rename-it.nl> (591a6272)

    lib-sieve: storage: Fixed bug in synchronization intialization. Storage flag
    checks were bogus.


M	src/lib-sieve/sieve-storage-sync.c

2014-10-25 21:51:16 +0200 Stephan Bosch <stephan@rename-it.nl> (2403ce99)

    Adjusted to datastack-related changes in Dovecot lib-storage.


M	src/lib-sieve/util/edit-mail.c

2014-10-19 22:50:23 +0200 Stephan Bosch <stephan@rename-it.nl> (fd9d0bd4)

    managesieve: If client gets disconnected due to iostream error, log the full
    error.


M	src/managesieve/managesieve-client.c

2014-10-19 18:14:20 +0200 Stephan Bosch <stephan@rename-it.nl> (59b3963e)

    doveadm-sieve plugin: Improved debugging a bit.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2014-10-19 13:39:37 +0200 Stephan Bosch <stephan@rename-it.nl> (53b93a44)

    managesieve-login: The AUTHENTICATE command returned bogus ALERT response
    code.


M	src/managesieve-login/client-authenticate.c

2014-10-19 13:37:38 +0200 Stephan Bosch <stephan@rename-it.nl> (9503c3a5)

    managesieve-login: Fixed handling of invalid initial response argument to
    AUTHENTICATE command.


M	src/managesieve-login/client-authenticate.c

2014-10-19 13:36:57 +0200 Stephan Bosch <stephan@rename-it.nl> (a66396b3)

    Forgot one file in last commit.


M	src/lib-managesieve/managesieve-parser.c

2014-10-19 13:10:27 +0200 Stephan Bosch <stephan@rename-it.nl> (f365ceb3)

    managesieve: Changed managesieve parser's quoted string stream to use
    io_stream_set_error().


M	src/managesieve-login/client-authenticate.c
M	src/managesieve/cmd-putscript.c

2014-10-19 11:01:17 +0200 Stephan Bosch <stephan@rename-it.nl> (4f55d83f)

    lib-sieve: Improved handling of stream errors in lexical scannner.


M	src/lib-sieve/sieve-lexer.c

2014-10-19 09:37:48 +0200 Stephan Bosch <stephan@rename-it.nl> (3b4e4daa)

    lib-sieve: Removed implicitly resolved FIXME.


M	src/lib-sieve/sieve-actions.c

2014-10-19 09:34:03 +0200 Stephan Bosch <stephan@rename-it.nl> (83175c96)

    managesieve: Fixed handling of o_stream_send_istream() errors during
    GETSCRIPT command.


M	src/managesieve/cmd-getscript.c

2014-10-19 01:02:02 +0200 Stephan Bosch <stephan@rename-it.nl> (617dcd99)

    lib-sieve: Improved (temporary) error handling from mail storage and io
    streams.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/tst-exists.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2014-10-17 21:07:36 +0200 Stephan Bosch <stephan@rename-it.nl> (6211d99e)

    lib-sieve: Flush duplicate database before committing storage transactions.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2014-10-17 20:49:57 +0200 Stephan Bosch <stephan@rename-it.nl> (94c1a2b6)

    lib-sieve: Restructured result execution, so that all actions which involve
    mail storage are always committed before all others.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2014-10-15 00:23:55 +0200 Stephan Bosch <stephan@rename-it.nl> (908467a2)

    lib-sieve: Implemented sieve_redirect_envelope_from setting, which allows
    configuring the envelope sender of redirected messages. Can either be set to
    the envelope sender, recipient, or orignal recipient of the processed
    message or it can be set explicitly to a static address.


M	INSTALL
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve.c
M	src/testsuite/cmd-test-config.c
M	tests/execute/smtp.svtest

2014-10-14 03:22:23 +0200 Stephan Bosch <stephan@rename-it.nl> (ffdbb1f0)

    lib-sieve: mailbox extension: The `:create' tag erroneously subscribed an
    existing folder. It should only subscribe it when it is newly created.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c

2014-10-11 01:33:15 +0200 Stephan Bosch <stephan@rename-it.nl> (002ca395)

    LDA Sieve plugin: Fixed handling of temporary SMTP errors. These caused a
    BUG error to be reported during delivery. Solved by signalling the
    occurrence of storage errors as a separate execution status flag, rather
    than querying the last storage itself for errors, which won't work.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2014-10-11 00:44:27 +0200 Stephan Bosch <stephan@rename-it.nl> (00d27ba0)

    Removed useless mail-storage includes.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/storage/file/sieve-file-storage.h
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-smtp.c

2014-10-11 00:42:39 +0200 Stephan Bosch <stephan@rename-it.nl> (ce5d301c)

    lib-sieve: Omitted handling errors from mail_get_headers() in message header
    stringlist. Mail storage errors now trigger a runtime error.


M	src/lib-sieve/sieve-message.c

2014-10-08 00:32:28 +0200 Stephan Bosch <stephan@rename-it.nl> (f1bfb896)

    lib-sieve: Addressed race condition writing to user error log file.


M	src/lib-sieve/sieve-error.c

2014-10-07 23:12:20 +0200 Stephan Bosch <stephan@rename-it.nl> (eb775e8a)

    lib-sieve-tool: Simplified seekable stream callback for raw mail. No longer
    needed to create the temp directory.


M	src/lib-sieve-tool/mail-raw.c

2014-09-12 12:17:38 +0200 Stephan Bosch <stephan@rename-it.nl> (72563215)

    lib-sieve: duplicate extension: Fixed erroneous compile error about
    conflicting tags when ":handle" argument was used last.


M	src/lib-sieve/plugins/duplicate/tst-duplicate.c

2014-09-05 14:38:35 +0200 Stephan Bosch <stephan@rename-it.nl> (ccf79840)

    Valgrindn needs --trace-children to work properly these days.


M	Makefile.am

2014-08-28 15:38:39 +0200 Stephan Bosch <stephan@rename-it.nl> (2aea3112)

    doveadm sieve plugin: Fixed segfault occuring when main script storage does
    not support synchronization. Would occur with any other script storage
    intialization error as well.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2014-08-28 11:34:37 +0200 Stephan Bosch <stephan@rename-it.nl> (08676552)

    Doveadm Sieve plugin: Attempting synchronization with LDAP/DICT caused write
    access error. If the main script storage does not allow synchronization, it
    is now just logged as a debug message.


M	src/lib-sieve/sieve-storage-sync.c
M	src/lib-sieve/sieve-storage.c

2014-08-27 00:19:40 +0200 Stephan Bosch <stephan@rename-it.nl> (cac0ac7a)

    Fixed handling of SMTP errors. Logging was mixed up; it logged permanent
    SMTP failures as errors rather than mere info. Redirect now handles
    temporary failure as a separate error condition, causing LDA to return a
    temporary failure if no other (storage) actions were performed.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c

2014-08-24 00:27:40 +0200 Stephan Bosch <stephan@rename-it.nl> (2df6d4b5)

    lib-sieve: Added version to script storage class. Updated binary version.


M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-storage-private.h
M	src/lib-sieve/storage/dict/sieve-dict-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c

2014-08-23 22:52:30 +0200 Stephan Bosch <stephan@rename-it.nl> (0de1dadc)

    Added support for Japanese mail addresses with dots at non-standard places
    in localpart. Based on patch by Timo Sirainen.


M	src/lib-sieve/sieve-address.c
M	tests/compile/errors/out-address.sieve
M	tests/extensions/envelope.svtest

2014-08-23 21:16:34 +0200 Stephan Bosch <stephan@rename-it.nl> (f4677eca)

    Changed handling of ENOSPACE to a normal temporary failure and added
    handling of ENOQUOTA as a user error. Patch by Timo Sirainen.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2014-08-23 21:11:54 +0200 Stephan Bosch <stephan@rename-it.nl> (9f8863d3)

    lib-sieve: file storage: Warning about active script not being a symlink was
    triggered at inappropriate times. Fixed by issueing the warning only when
    storage is opened as READWRITE (ManageSieve).


M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2014-08-05 18:25:12 +0200 Stephan Bosch <stephan@rename-it.nl> (9e6b63f8)

    lib-sieve: editheader extension: Fixed several problems in deleteheader
    command.


M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/util/edit-mail.c
M	tests/extensions/editheader/deleteheader.svtest

2014-08-05 03:55:56 +0200 Stephan Bosch <stephan@rename-it.nl> (c4575f2e)

    lib-sieve: file storage: Fixed assert failure in script sequence code.
    Single script was only initialized and not actually opened.


M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage.h

2014-08-05 03:47:36 +0200 Stephan Bosch <stephan@rename-it.nl> (5e42bce1)

    lib-sieve: file storage: Fixed segfault bug in script sequence code.


M	src/lib-sieve/storage/file/sieve-file-script-sequence.c

2014-07-31 02:17:50 +0200 Stephan Bosch <stephan@rename-it.nl> (2006f4cb)

    lib-sieve: util: edit-mail: Fixed a few bugs in previous commit.


M	src/lib-sieve/util/edit-mail.c

2014-07-31 01:37:22 +0200 Stephan Bosch <stephan@rename-it.nl> (c85782ca)

    lib-sieve: util: edit-mail: Added header replacement API.


M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h

2014-07-30 19:57:17 +0200 Stephan Bosch <stephan@rename-it.nl> (8fa71536)

    lib-sieve: mailbox extension: Made :create tag available for new commands.


M	src/lib-sieve/plugins/mailbox/Makefile.am
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
A	src/lib-sieve/plugins/mailbox/sieve-ext-mailbox.h
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2014-07-30 13:50:48 +0200 Stephan Bosch <stephan@rename-it.nl> (4e8120b9)

    lib-sieve: variables extension: Added API for assigning cstrings to
    variables.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2014-07-30 13:50:12 +0200 Stephan Bosch <stephan@rename-it.nl> (e6074922)

    lib-sieve: Fixed problem in validator extension handling. The validate hook
    only worked for one extension.


M	src/lib-sieve/sieve-validator.c

2014-07-30 13:49:24 +0200 Stephan Bosch <stephan@rename-it.nl> (2432a185)

    lib-sieve: Made binary code functions capable of skipping data.


M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary.h

2014-07-30 00:15:08 +0200 Stephan Bosch <stephan@rename-it.nl> (fecb8e43)

    lib-sieve: Restructured native extension declarations a bit.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/sieve-extensions.c

2014-07-29 01:34:25 +0200 Stephan Bosch <stephan@rename-it.nl> (c92959ec)

    doveadm sieve plugin: Fixed segfault issue caused in lib-sieve. Erroneously
    set pointer to NULL in sieve_storage_list_deinit().


M	src/lib-sieve/sieve-storage.c

2014-07-28 09:27:59 +0200 Stephan Bosch <stephan@rename-it.nl> (71a92bec)

    lib-sieve: ldap storage: Fixed --with-ldap=no compile.


M	src/lib-sieve/storage/ldap/sieve-ldap-db.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h

2014-07-26 01:17:51 +0200 Stephan Bosch <stephan@rename-it.nl> (ce342b01)

    lib-sieve: ldap storage: Implemented checking config mtime for binary
    recompile.


M	src/lib-sieve/storage/ldap/sieve-ldap-script.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h

2014-07-26 00:47:29 +0200 Stephan Bosch <stephan@rename-it.nl> (1e515e44)

    Forgot to remove a few files in earlier lib-sieve/storage change.


D	src/lib-sieve/sieve-script-dict.c
D	src/lib-sieve/sieve-script-file.c

2014-07-26 00:46:26 +0200 Stephan Bosch <stephan@rename-it.nl> (321dde03)

    Fixed compile problem reported by OpenSUSE build service.


M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c
M	src/lib-sieve/storage/file/sieve-file-storage-active.c
M	src/lib-sieve/storage/file/sieve-file-storage-list.c
M	src/lib-sieve/storage/file/sieve-file-storage-quota.c
M	src/lib-sieve/storage/file/sieve-file-storage-save.c
M	src/lib-sieve/storage/file/sieve-file-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.h

2014-07-25 15:59:40 +0200 Stephan Bosch <stephan@rename-it.nl> (19dd4638)

    lda-sieve plugin: Dereferenced default script storage at wrong nesting
    level, causing an assert failure.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2014-07-24 15:21:29 +0200 Stephan Bosch <stephan@rename-it.nl> (bace39ec)

    lib-sieve: file storage: Erroneously always ignored active script setting.


M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/file/sieve-file-storage.c

2014-07-24 15:20:47 +0200 Stephan Bosch <stephan@rename-it.nl> (e25a71e4)

    lib-sieve: file storage: Don't tempfail on missing active script.


M	src/lib-sieve/storage/file/sieve-file-storage-active.c

2014-07-24 12:53:51 +0200 Stephan Bosch <stephan@rename-it.nl> (a1d29d31)

    Fixed moduledir for Sieve plugins.


M	src/lib-sieve/storage/ldap/Makefile.am
M	src/plugins/sieve-extprograms/Makefile.am

2014-07-24 09:27:14 +0200 Stephan Bosch <stephan@rename-it.nl> (85980973)

    Adjusted documentation to mention LDAP support can be compiled as a plugin.


M	INSTALL
M	doc/script-location-ldap.txt

2014-07-24 09:17:07 +0200 Stephan Bosch <stephan@rename-it.nl> (2a049da8)

    lib-sieve: Fixed LDAP storage compiled as a plugin.


M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.h

2014-07-24 02:05:28 +0200 Stephan Bosch <stephan@rename-it.nl> (343c5793)

    lib-sieve: Made LDAP plugin compile properly. LDAP storage as a plugin is
    still not problem-free though.


M	src/lib-sieve/storage/ldap/Makefile.am
M	src/lib-sieve/storage/ldap/sieve-ldap-storage.c

2014-07-24 02:04:47 +0200 Stephan Bosch <stephan@rename-it.nl> (a86e3fd8)

    lib-sieve: Fixed file storage sequence implementation. Directory iteration
    was very broken.


M	src/lib-sieve/storage/file/sieve-file-script-sequence.c
M	src/lib-sieve/storage/file/sieve-file-script.c

2014-07-23 19:36:00 +0200 Stephan Bosch <stephan@rename-it.nl> (593b91e5)

    lib-sieve: Created sieve LDAP storage driver.


M	INSTALL
M	TODO
M	configure.ac
M	doc/example-config/conf.d/90-sieve.conf
A	doc/example-config/sieve-ldap.conf
A	doc/script-location-ldap.txt
M	pigeonhole-config.h.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-storage.c
M	src/lib-sieve/storage/Makefile.am
A	src/lib-sieve/storage/ldap/Makefile.am
A	src/lib-sieve/storage/ldap/sieve-ldap-db.c
A	src/lib-sieve/storage/ldap/sieve-ldap-db.h
A	src/lib-sieve/storage/ldap/sieve-ldap-script.c
A	src/lib-sieve/storage/ldap/sieve-ldap-storage-settings.c
A	src/lib-sieve/storage/ldap/sieve-ldap-storage.c
A	src/lib-sieve/storage/ldap/sieve-ldap-storage.h

2014-07-23 19:28:07 +0200 Stephan Bosch <stephan@rename-it.nl> (5a8c6b89)

    lib-sieve: Implemented support for generic Sieve storages. Doveadm-sieve
    plugin may be broken at this point; not tested so far.


M	TODO
M	configure.ac
M	src/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-script-dict.c
D	src/lib-sieve/sieve-script-file.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
A	src/lib-sieve/sieve-storage-private.h
A	src/lib-sieve/sieve-storage-sync.c
A	src/lib-sieve/sieve-storage.c
A	src/lib-sieve/sieve-storage.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
A	src/lib-sieve/storage/Makefile.am
A	src/lib-sieve/storage/dict/Makefile.am
A	src/lib-sieve/storage/dict/sieve-dict-script.c
A	src/lib-sieve/storage/dict/sieve-dict-storage.c
A	src/lib-sieve/storage/dict/sieve-dict-storage.h
A	src/lib-sieve/storage/file/Makefile.am
A	src/lib-sieve/storage/file/sieve-file-script-sequence.c
A	src/lib-sieve/storage/file/sieve-file-script.c
A	src/lib-sieve/storage/file/sieve-file-storage-active.c
A	src/lib-sieve/storage/file/sieve-file-storage-list.c
R054	src/lib-sievestorage/sieve-storage-quota.c	src/lib-sieve/storage/file/sieve-file-storage-quota.c
A	src/lib-sieve/storage/file/sieve-file-storage-save.c
A	src/lib-sieve/storage/file/sieve-file-storage.c
A	src/lib-sieve/storage/file/sieve-file-storage.h
D	src/lib-sievestorage/Makefile.am
D	src/lib-sievestorage/sieve-storage-list.c
D	src/lib-sievestorage/sieve-storage-list.h
D	src/lib-sievestorage/sieve-storage-private.h
D	src/lib-sievestorage/sieve-storage-quota.h
D	src/lib-sievestorage/sieve-storage-save.c
D	src/lib-sievestorage/sieve-storage-save.h
D	src/lib-sievestorage/sieve-storage-script.c
D	src/lib-sievestorage/sieve-storage-script.h
D	src/lib-sievestorage/sieve-storage.c
D	src/lib-sievestorage/sieve-storage.h
M	src/managesieve/Makefile.am
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-quota.c
M	src/plugins/Makefile.am
M	src/plugins/doveadm-sieve/Makefile.am
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-script.c
M	tests/extensions/include/execute.svtest

2014-06-26 23:25:43 +0200 Stephan Bosch <stephan@rename-it.nl> (4ae41e1d)

    doveadm sieve plugin: Fixed assert crash occuring when Sieve script
    attribute assignment fails.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2014-06-19 00:10:53 +0200 Stephan Bosch <stephan@rename-it.nl> (8a7cecee)

    managesieve: Compared to imap and incorporated a few differences from there.
    Most important change is that mail service_user was not freed.


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c

2014-06-18 00:08:03 +0200 Stephan Bosch <stephan@rename-it.nl> (38732434)

    Some ATTR_FORMAT additions by Timo.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.h

2014-06-17 23:43:10 +0200 Stephan Bosch <stephan@rename-it.nl> (975707d3)

    lib-sieve: program client: Fixed copy-paste error in destroy function. Would
    cause a segfault. Reported by Coverity.


M	src/lib-sieve/util/program-client.c

2014-06-17 23:37:46 +0200 Stephan Bosch <stephan@rename-it.nl> (53940810)

    lib-sieve: edit mail: Fixed header iteration. Handling of
    edit_mail_header_find() result was incoherent. Problem reported by Coverity.


M	src/lib-sieve/util/edit-mail.c

2014-06-17 23:28:53 +0200 Stephan Bosch <stephan@rename-it.nl> (a3c55d8c)

    sieve extprograms plugin: Fixed dead code problems. Reported by Coverity.


M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2014-06-17 23:19:37 +0200 Stephan Bosch <stephan@rename-it.nl> (840ce64b)

    lib-sieve: relational extension: Fixed error handling of :value match.
    Switch statement item is never reached and return value was bool instead of
    int. Problem reported by Coverity.


M	src/lib-sieve/plugins/relational/mcht-value.c

2014-06-17 23:04:24 +0200 Stephan Bosch <stephan@rename-it.nl> (19b4dee4)

    lib-sievestorage: Fixed file path comparison function. Forgot a few '*'
    there. Reported by Coverity.


M	src/lib-sievestorage/sieve-storage-script.c

2014-06-17 22:52:32 +0200 Stephan Bosch <stephan@rename-it.nl> (2d78f622)

    lib-sieve: edit mail: Fixed header unfolding. Forgot break in switch
    statement. Reported by Coverity.


M	src/lib-sieve/util/edit-mail.c

2014-06-17 22:45:23 +0200 Stephan Bosch <stephan@rename-it.nl> (1dc9b818)

    lib-sieve: program client: Forgot break in switch statement for handling of
    response from script service. Reported by Coverity.


M	src/lib-sieve/util/program-client-remote.c

2014-06-17 22:38:12 +0200 Stephan Bosch <stephan@rename-it.nl> (543c10a8)

    testsuite: Fixed out-of-bounds read in (currently unused) string
    substitution implementation. Reported by Coverity.


M	src/testsuite/testsuite-substitutions.c

2014-06-17 22:28:06 +0200 Stephan Bosch <stephan@rename-it.nl> (511700be)

    sieve-storage: Fixed resource leak in storage listing implementation
    occuring at error. Reported by Coverity.


M	src/lib-sievestorage/sieve-storage-list.c

2014-06-17 22:13:52 +0200 Stephan Bosch <stephan@rename-it.nl> (62313f89)

    Use the new [io]_stream_create_fd_*autoclose() functions wherever possible.
    Parallel to identical Dovecot change.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-private.h
M	src/testsuite/testsuite-smtp.c

2014-06-17 20:58:23 +0200 Stephan Bosch <stephan@rename-it.nl> (7b7a9e09)

    managesieve: Remove the client from clients-list at the very end of the
    destroy function. Parallel to identical Dovecot change for imap and pop3.


M	src/managesieve/managesieve-client.c

2014-06-17 20:48:50 +0200 Stephan Bosch <stephan@rename-it.nl> (7719fc03)

    lib-sieve: code dumper: Fixed handling of undefined extensions. Reported by
    Coverity.


M	src/lib-sieve/sieve-code-dumper.c

2014-06-17 20:44:47 +0200 Stephan Bosch <stephan@rename-it.nl> (a14ee75d)

    lib-sieve: Small change in Sieve generator to make static analyzer happier.
    Reported by Coverity.


M	src/lib-sieve/sieve-generator.c

2014-06-17 20:41:53 +0200 Stephan Bosch <stephan@rename-it.nl> (d9cbd268)

    doveadm sieve plugin: Fixed dereference before NULL check problem. Found by
    Coverity.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2014-06-17 20:35:18 +0200 Stephan Bosch <stephan@rename-it.nl> (b928bbd9)

    lib: pair VA_COPY with va_end. A va_copy creates a initialised va_list, as
    if a va_start had been done on it. Therefore, pedantically, a va_end should
    also be done on it. On most platforms this is a no-op, and for those where
    it isn't, the pairing is important.

    This change matches parallel change in Dovecot. Also signalled by Coverity.

M	src/lib-sieve/sieve-error.c
M	src/testsuite/testsuite-log.c

2014-05-15 19:48:27 +0200 Stephan Bosch <stephan@rename-it.nl> (c71c21d9)

    Fixed several problems reported by CLang 3.4.


M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/util/edit-mail.c
M	src/testsuite/testsuite-script.c

2014-05-12 21:27:13 +0200 Stephan Bosch <stephan@rename-it.nl> (8d984203)

    Wrong date in NEWS.


M	NEWS

2014-05-12 21:14:44 +0200 Stephan Bosch <stephan@rename-it.nl> (25c38e42)

    Added signature for changeset 1c6130ff5dd6


M	.hgsigs

2014-05-12 21:12:34 +0200 Stephan Bosch <stephan@rename-it.nl> (fb6b23fe)

    Added tag 0.4.3 for changeset 1c6130ff5dd6


2014-05-12 21:12:24 +0200 Stephan Bosch <stephan@rename-it.nl> (84dde15e)

    Released v0.4.3 for Dovecot v2.2.13.


M	NEWS
M	configure.ac

2014-05-12 20:40:39 +0200 Stephan Bosch <stephan@rename-it.nl> (d2206ede)

    lib-sieve: sieve-error.c: Made static analyzer happier.


M	src/lib-sieve/sieve-error.c

2014-05-12 20:22:30 +0200 Stephan Bosch <stephan@rename-it.nl> (45db1c22)

    lib-sieve: include extension: Fixed problem with handling of duplicate
    includes. Flags weren't actually updated.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c

2014-05-09 08:55:02 +0200 Stephan Bosch <stephan@rename-it.nl> (15e090d6)

    testsuite: editheader: Made test failure messages a bit more verbose.


M	tests/extensions/editheader/addheader.svtest

2014-05-09 01:32:52 +0200 Stephan Bosch <stephan@rename-it.nl> (e2abf9e2)

    lib-sieve: redirect: Adjusted loop detection to show leniency to resent
    messages.


M	src/lib-sieve/cmd-redirect.c

2014-05-08 21:23:24 +0200 Stephan Bosch <stephan@rename-it.nl> (1bbbe727)

    lib-sieve: program-client: Made sure that programs are never forked with
    root privileges.


M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client.h
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2014-05-07 21:17:43 +0200 Stephan Bosch <stephan@rename-it.nl> (2ad87784)

    lib-sieve: editheader: Made control characters allowed for editheader,
    except NUL. NOTE: Dovecot doesn't currently MIME-encode these in the
    headers.


M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	tests/extensions/editheader/addheader.svtest
M	tests/extensions/editheader/errors.svtest
M	tests/extensions/editheader/errors/field-value.sieve

2014-05-07 20:15:07 +0200 Stephan Bosch <stephan@rename-it.nl> (0683c506)

    lib-sieve: Fixed indenting problem in runtime trace output. Also cleaned up
    the surrounding code a bit.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2014-05-07 20:03:10 +0200 Stephan Bosch <stephan@rename-it.nl> (b4ab2e7c)

    lib-sieve: Added final result execution stage for the duplicate extension.
    This way, a duplicate is only marked when the script execution succeeds, as
    required in the specification.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/plugins/sieve-extprograms/cmd-pipe.c

2014-05-05 17:09:10 +0200 Stephan Bosch <stephan@rename-it.nl> (b3dccbd0)

    lib-sieve: vacation extension: Fixed log message for discarded response.
    Presence of :addresses argument was represented incorrectly.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2014-05-01 00:07:27 +0200 Stephan Bosch <stephan@rename-it.nl> (ee69b175)

    lib-sieve: editheader: Adjusted to change in Dovecot lib-storage mail API.


M	src/lib-sieve/util/edit-mail.c

2014-04-29 02:13:35 +0200 Stephan Bosch <stephan@rename-it.nl> (923b1b94)

    lib-sieve: Adjusted to more SMTP API changes in Dovecot. SMTP API now
    supports adding multiple recipients to a single SMTP transaction. This makes
    enotify/notify more efficient, since only one message is actually sent.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c
M	tests/deprecated/notify/mailto.svtest

2014-04-28 22:08:47 +0200 Stephan Bosch <stephan@rename-it.nl> (5dc50ad9)

    lib-sieve: Switched to new Dovecot SMTP API.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h

2014-04-25 23:53:40 +0200 Stephan Bosch <stephan@rename-it.nl> (ba7aff60)

    lib-sieve: Fixed sieve_result_global_log_error to log only as i_info in
    administrator log (syslog) if executed from multiscript context. Previously,
    this would work correcly only from the user's personal script and not from
    multiscript (sieve_before/sieve_after).


M	src/lib-sieve/sieve-error.c

2014-04-15 23:11:46 +0200 Stephan Bosch <stephan@rename-it.nl> (793ee9b0)

    Dovecot change: Replaced mail_get_real_mail() with mail_get_backend_mail().


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/util/edit-mail.c

2014-03-04 22:28:56 +0100 Stephan Bosch <stephan@rename-it.nl> (f5505c87)

    lib-sieve: Upgraded "vnd.dovecot.duplicate" to "duplicate". Backwards
    compatibility is provided for vnd.dovecot.duplicate. Still need to fix the
    constraint that it must not track duplicates from failed Sieve executions.


M	Makefile.am
M	README
M	configure.ac
A	doc/extensions/duplicate.txt
D	doc/extensions/vnd.dovecot.duplicate.txt
A	doc/rfc/draft-ietf-appsawg-sieve-duplicate-03.txt
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
R092	src/lib-sieve/plugins/vnd.dovecot/duplicate/Makefile.am	src/lib-sieve/plugins/duplicate/Makefile.am
R077	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c	src/lib-sieve/plugins/duplicate/ext-duplicate-common.c
R085	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h	src/lib-sieve/plugins/duplicate/ext-duplicate-common.h
A	src/lib-sieve/plugins/duplicate/ext-duplicate.c
R073	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c	src/lib-sieve/plugins/duplicate/tst-duplicate.c
M	src/lib-sieve/plugins/vnd.dovecot/Makefile.am
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
D	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/sieve-extensions.c
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
A	tests/extensions/duplicate/errors.svtest
A	tests/extensions/duplicate/errors/conflict-vnd.sieve
A	tests/extensions/duplicate/errors/conflict.sieve
R100	tests/extensions/vnd.dovecot/duplicate/errors/syntax.sieve	tests/extensions/duplicate/errors/syntax-vnd.sieve
A	tests/extensions/duplicate/errors/syntax.sieve
R100	tests/extensions/vnd.dovecot/duplicate/execute.svtest	tests/extensions/duplicate/execute-vnd.svtest
A	tests/extensions/duplicate/execute.svtest
D	tests/extensions/vnd.dovecot/duplicate/errors.svtest

2014-02-25 00:49:08 +0100 Stephan Bosch <stephan@rename-it.nl> (fdcfea49)

    lib-sieve: program-client: Removed stale assert.


M	src/lib-sieve/util/program-client-local.c

2014-01-12 23:23:50 +0100 Stephan Bosch <stephan@rename-it.nl> (c167b196)

    Prevent compiled binaries in testsuite from ending up in distribution
    tarball.


M	Makefile.am

2014-01-07 18:57:38 +0100 Stephan Bosch <stephan@rename-it.nl> (0172e14c)

    lib-sieve: Changed sieve_script_binary_get_directory() to
    sieve_script_binary_get_prefix(). This function now returns the binary
    prefix (file path until '.svbin) rather than just the path of the directory
    where the binary would be stored.


M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2014-01-07 18:54:57 +0100 Stephan Bosch <stephan@rename-it.nl> (37dc5b60)

    lda-sieve plugin: Changed name of main script.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2014-01-05 11:16:25 +0100 Stephan Bosch <stephan@rename-it.nl> (a20f038b)

    Fixed Valgrind in testsuite using libtool --mode=execute.


M	Makefile.am

2014-01-05 11:15:45 +0100 Stephan Bosch <stephan@rename-it.nl> (690c4483)

    lib-sieve/util: Fixed small memory leak in program client.


M	src/lib-sieve/util/program-client-local.c

2014-01-05 10:40:38 +0100 Stephan Bosch <stephan@rename-it.nl> (4021b059)

    Adjusted dovecot.m4 to make second-level plugin packages work properly at
    distcheck.


M	m4/dovecot.m4

2014-01-04 02:13:44 +0100 Stephan Bosch <stephan@rename-it.nl> (5e7bf46c)

    lib-sieve/util: program-client: Added support for retrieving side-channel
    data through extra fds. Some programs can be instructed to output special
    status information to an extra fd other than stdout or stderr. Also added an
    option to drop stderr output from program to /dev/null.


M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/lib-sieve/util/program-client.h

2014-01-01 23:58:16 +0100 Stephan Bosch <stephan@rename-it.nl> (0fc64c0e)

     Updated copyright notices to include the year 2014.


M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/metadata/ext-metadata-common.h
M	src/lib-sieve/plugins/metadata/ext-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadata.c
M	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-file.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sieve/util/edit-mail.c
M	src/lib-sieve/util/edit-mail.h
M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/lib-sieve/util/program-client.h
M	src/lib-sieve/util/rfc2822.c
M	src/lib-sieve/util/rfc2822.h
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/plugins/sieve-extprograms/cmd-execute.c
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
M	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2013-12-30 17:54:23 +0100 Stephan Bosch <stephan@rename-it.nl> (41018d2e)

    lib-sieve: Added macros for argument generation errors.


M	src/lib-sieve/sieve-commands.h

2013-12-28 09:43:33 +0100 Stephan Bosch <stephan@rename-it.nl> (021a007e)

    Fixed messy documentation indent caused by earlier change.


M	doc/extensions/spamtest-virustest.txt

2013-12-28 09:41:24 +0100 Stephan Bosch <stephan@rename-it.nl> (8e67eb94)

    lib-sieve: spamtest/virustest extensions: Tests were erroneously performed
    against the original message. When used together with extprograms filter to
    add the spam headers, the changes were not being used by the spamtest and
    virustest extensions.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
A	tests/plugins/extprograms/bin/spamc
M	tests/plugins/extprograms/filter/execute.svtest

2013-12-28 09:24:42 +0100 Stephan Bosch <stephan@rename-it.nl> (b50a4b4f)

    doc/extensions/spamtest-virustest.txt: Clarified that these extensions use
    the extended POSIX regular expressions.


M	doc/extensions/spamtest-virustest.txt

2013-12-25 21:57:38 +0100 Stephan Bosch <stephan@rename-it.nl> (a9240aba)

    Fixed consistent spelling mistake.


M	NEWS
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/util/edit-mail.c
M	tests/compile/redirect.sieve

2013-12-25 21:48:15 +0100 Stephan Bosch <stephan@rename-it.nl> (0f0cbe31)

    Fixed compiler warning.


M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c

2013-12-25 21:45:47 +0100 Stephan Bosch <stephan@rename-it.nl> (9fba343d)

    sieve_extprograms plugin: Changed program client such that the filter
    command only needs to create a temporary file when the program output is
    very large. This commit also includes a small change that makes it possible
    to run a program several times.


M	src/lib-sieve/util/program-client-local.c
M	src/lib-sieve/util/program-client-private.h
M	src/lib-sieve/util/program-client-remote.c
M	src/lib-sieve/util/program-client.c
M	src/lib-sieve/util/program-client.h
M	src/plugins/sieve-extprograms/cmd-filter.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h

2013-12-25 21:42:05 +0100 Stephan Bosch <stephan@rename-it.nl> (b0dfde0e)

    lib-sieve: Added post_save hook to binary object.


M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.h

2013-12-25 21:40:19 +0100 Stephan Bosch <stephan@rename-it.nl> (b59f6ec6)

    lib-sieve: Added method to script object for obtaining the directory where
    the script binary is stored.


M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2013-12-25 21:36:55 +0100 Stephan Bosch <stephan@rename-it.nl> (d673f117)

    lib-sieve: Added path to temporary directory to Sieve instance object.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-12-21 21:32:13 +0100 Stephan Bosch <stephan@rename-it.nl> (160ddddd)

    Moved script-client from extprograms plugin to lib-sieve/util and renamed it
    to program-client for generic use.


M	src/lib-sieve/util/Makefile.am
R058	src/plugins/sieve-extprograms/script-client-local.c	src/lib-sieve/util/program-client-local.c
A	src/lib-sieve/util/program-client-private.h
R051	src/plugins/sieve-extprograms/script-client-remote.c	src/lib-sieve/util/program-client-remote.c
A	src/lib-sieve/util/program-client.c
A	src/lib-sieve/util/program-client.h
M	src/plugins/sieve-extprograms/Makefile.am
D	src/plugins/sieve-extprograms/script-client-private.h
D	src/plugins/sieve-extprograms/script-client.c
D	src/plugins/sieve-extprograms/script-client.h
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2013-12-21 21:10:13 +0100 Stephan Bosch <stephan@rename-it.nl> (389457bb)

    lib-sieve: Moved utility source modules to sub-directory. In the future,
    much of these can be moved to Dovecot.


M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/editheader/Makefile.am
M	src/lib-sieve/plugins/enotify/mailto/Makefile.am
M	src/lib-sieve/plugins/ihave/Makefile.am
M	src/lib-sieve/plugins/metadata/Makefile.am
M	src/lib-sieve/plugins/notify/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/vnd.dovecot/debug/Makefile.am
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/Makefile.am
A	src/lib-sieve/util/Makefile.am
R100	src/lib-sieve/edit-mail.c	src/lib-sieve/util/edit-mail.c
R100	src/lib-sieve/edit-mail.h	src/lib-sieve/util/edit-mail.h
R100	src/lib-sieve/rfc2822.c	src/lib-sieve/util/rfc2822.c
R100	src/lib-sieve/rfc2822.h	src/lib-sieve/util/rfc2822.h

2013-12-21 15:09:32 +0100 Stephan Bosch <stephan@rename-it.nl> (9c96a4c3)

    Sieve extprograms plugin: Fixed 'Bad filedescriptor' error occurring when
    disconnecting script client.


M	src/plugins/sieve-extprograms/script-client.c

2013-12-13 21:35:58 +0100 Stephan Bosch <stephan@rename-it.nl> (16e57463)

    Sieve extprograms plugin: Fixed fd leak and handling of output shutdown.
    Output stream remained open, including the flush io, causing a second assert
    failure. Whether this fixes the problem entirely remains to be seen.


M	src/plugins/sieve-extprograms/script-client-local.c
M	src/plugins/sieve-extprograms/script-client.c

2013-11-20 19:34:28 +0100 Stephan Bosch <stephan@rename-it.nl> (e556155c)

    Small improvements to the test suite.


M	tests/test-header.svtest

2013-11-15 23:13:32 +0100 Stephan Bosch <stephan@rename-it.nl> (ae7d86cd)

    Sieve extprograms plugin: Improved handing of extension configuration.


M	src/plugins/sieve-extprograms/sieve-extprograms-common.c

2013-11-11 01:44:19 +0100 Stephan Bosch <stephan@rename-it.nl> (5d3094d7)

    Merged changes from Pigeonhole v0.3 tree.


2013-11-11 01:31:08 +0100 Stephan Bosch <stephan@rename-it.nl> (a59a694e)

    lib-sieve: deprecated notify extension: Fixed segfault problems in message
    string substitution.


M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	tests/deprecated/notify/basic.svtest

2013-11-09 11:42:07 +0100 Stephan Bosch <stephan@rename-it.nl> (51fee5e5)

    lib-sievestorage: Fixed active link verification to handle redundant path
    slashes correctly.


M	src/lib-sievestorage/sieve-storage-script.c

2013-11-03 02:02:56 +0100 Stephan Bosch <stephan@rename-it.nl> (3d455add)

    lib-sieve: Added skeletons for mboxmetadata and servermetadata extensions.
    This is still an unfinished feature.


M	configure.ac
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/metadata/Makefile.am
A	src/lib-sieve/plugins/metadata/ext-metadata-common.h
A	src/lib-sieve/plugins/metadata/ext-metadata.c
A	src/lib-sieve/plugins/metadata/tst-metadata.c
A	src/lib-sieve/plugins/metadata/tst-metadataexists.c
M	src/lib-sieve/sieve-extensions.c

2013-10-11 07:57:21 +0200 Stephan Bosch <stephan@rename-it.nl> (b23aa783)

    lib-sieve: vacation extension: Fixed interaction of
    sieve_vacation_dont_check_recipient with sieve_vacation_send_from_recipient
    setting. If sieve_vacation_dont_check_recipient was active,
    sieve_vacation_send_from_recipient had no effect.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2013-10-06 22:14:01 +0200 Stephan Bosch <stephan@rename-it.nl> (5033c8cd)

    Sieve extprograms plugin: Forgot to disable the alarm() timeouts set for
    script execution. This may cause later syscalls to exit with EINTR
    unexpectedly.


M	src/plugins/sieve-extprograms/script-client-local.c

2013-09-26 21:44:37 +0200 Stephan Bosch <stephan@rename-it.nl> (9d606b9f)

    Added signature for changeset 87d8f0aae957


M	.hgsigs

2013-09-26 21:43:09 +0200 Stephan Bosch <stephan@rename-it.nl> (5757a3f0)

    Added signature for changeset 2176d400eca4


M	.hgsigs

2013-09-26 21:41:35 +0200 Stephan Bosch <stephan@rename-it.nl> (fb73bf70)

    Added tag 0.3.6 for changeset 87d8f0aae957


2013-09-26 21:41:24 +0200 Stephan Bosch <stephan@rename-it.nl> (1d852227)

    Released v0.3.6 for Dovecot v2.1.17.


M	NEWS
M	configure.in

2013-09-26 21:40:34 +0200 Stephan Bosch <stephan@rename-it.nl> (eeeb8cbe)

    Added tag 0.4.2 for changeset 2176d400eca4


2013-09-26 21:40:22 +0200 Stephan Bosch <stephan@rename-it.nl> (a0808437)

    Released v0.4.2 for Dovecot v2.2.6.


M	NEWS
M	configure.ac

2013-09-23 22:01:38 +0200 Stephan Bosch <stephan@rename-it.nl> (18f75c6b)

    lib-sieve: vacation extension: Added support for sending vacation messages
    with an actual sender. Use sieve_vacation_send_from_recipient to enable this
    behavior. Documentation in doc/extensions/vacation.txt is updated.


M	doc/extensions/vacation.txt
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	tests/extensions/vacation/message.svtest

2013-09-23 20:58:02 +0200 Stephan Bosch <stephan@rename-it.nl> (2e1a3ddd)

    managesieve: Updated to changes in Dovecot listeners regarding SO_REUSEPORT.


M	src/managesieve-login/managesieve-login-settings.c

2013-09-22 11:51:38 +0200 Stephan Bosch <stephan@rename-it.nl> (f995169c)

    doveadm sieve plugin: Fixed the `Invalid value for default sieve attribute'
    problem. The attribute type code data was allocated on the stack rather than
    statically, causing the returned stream to point to invalid data.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-09-17 23:57:05 +0200 Stephan Bosch <stephan@rename-it.nl> (11e2c26c)

    doveadm sieve plugin: Changed root attribute for Sieve.


M	src/lib-sievestorage/sieve-storage.h

2013-09-17 23:55:59 +0200 Stephan Bosch <stephan@rename-it.nl> (e6be8418)

    doveadm sieve plugin: Small initialization fix.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-09-16 01:15:55 +0200 Stephan Bosch <stephan@rename-it.nl> (e01cb4d9)

    Merged changes from v0.3 tree.


2013-09-16 00:55:29 +0200 Stephan Bosch <stephan@rename-it.nl> (ed345afe)

    lib-sieve: variables extension: Fixed code corruption bug in 'set' command.
    Bug whould occur when modifier was used and the value became "" at some
    point. In that case not all operands (modifiers) were read, causing the
    subsequent operation to start at an erroneous position.


M	src/lib-sieve/plugins/variables/cmd-set.c

2013-09-16 00:46:21 +0200 Stephan Bosch <stephan@rename-it.nl> (5fe59daf)

    sieve-dump tool: Fixed hex output. Messed up signed/unsigned characters.


M	src/lib-sieve/sieve-binary-dumper.c

2013-09-16 00:43:55 +0200 Stephan Bosch <stephan@rename-it.nl> (e56c6e53)

    lib-sieve: variables extension: fixed data stack problem in 'set' command.


M	src/lib-sieve/plugins/variables/cmd-set.c

2013-09-15 17:47:53 +0200 Stephan Bosch <stephan@rename-it.nl> (0449820b)

    lib-sieve: Fixed code block read bounds checking.


M	src/lib-sieve/sieve-binary-code.c

2013-09-15 12:47:33 +0200 Stephan Bosch <stephan@rename-it.nl> (d8269667)

    doveadm-sieve plugin: Fixed segfault bug.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-09-15 12:43:25 +0200 Stephan Bosch <stephan@rename-it.nl> (8a861359)

    Merged changes from Pigeonhole 0.3 tree.


2013-09-15 12:19:10 +0200 Stephan Bosch <stephan@rename-it.nl> (5d695ea3)

    lib-sieve: spamtest virustest extensions: Fixed end-of-string testing in
    configuration parser.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c

2013-09-04 18:12:44 +0200 Stephan Bosch <stephan@rename-it.nl> (05f714c2)

    doveadm-sieve plugin: Fixed a few crash issues. Patches by Timo Sirainen.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-08-15 21:07:56 +0200 Stephan Bosch <stephan@rename-it.nl> (219ad23f)

    Merged changes from Pigeonhole v0.3 tree.


2013-08-15 21:02:37 +0200 Stephan Bosch <stephan@rename-it.nl> (dbf6ec23)

    Various fixes for CLang warnings. Patch by Timo Sirainen (modified).


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-validator.c
M	src/managesieve-login/client-authenticate.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite.c

2013-08-15 20:48:54 +0200 Stephan Bosch <stephan@rename-it.nl> (932477e5)

    lib-sieve: include extension: Fixed implementation of new :options flag.
    Mixed up pre-existing boolean once parameter with new flags parameter. This
    probably means that :optional partially implied :once for previous
    revisions.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h

2013-08-15 20:15:08 +0200 Stephan Bosch <stephan@rename-it.nl> (a23ea5cd)

    lda-sieve plugin: Don't access already freed memory when deinitializing.
    Patch by Timo Sirainen (modified).


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-08-15 19:59:18 +0200 Stephan Bosch <stephan@rename-it.nl> (65847885)

    extprograms plugin: Compiler warning fix for 32bit systems. Patch by Timo
    Sirainen.


M	src/plugins/sieve-extprograms/script-client-local.c

2013-07-10 23:34:34 +0200 Stephan Bosch <stephan@rename-it.nl> (8dc55ce8)

    Updated Sieve extension status in comments.


M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/plugins/sieve-extprograms/ext-execute.c
M	src/plugins/sieve-extprograms/ext-filter.c
M	src/plugins/sieve-extprograms/ext-pipe.c

2013-07-03 22:06:58 +0200 Stephan Bosch <stephan@rename-it.nl> (c705c2a2)

    Added signature for changeset f1535e2255cd


M	.hgsigs

2013-07-03 22:05:13 +0200 Stephan Bosch <stephan@rename-it.nl> (383ec2ec)

    Added tag 0.4.1 for changeset f1535e2255cd


2013-07-03 22:05:04 +0200 Stephan Bosch <stephan@rename-it.nl> (3ae0c2bb)

    Released v0.4.1 for Dovecot v2.2.4.


M	NEWS
M	configure.ac

2013-07-03 21:35:12 +0200 Stephan Bosch <stephan@rename-it.nl> (e29f2b98)

    Merged changes from Pigeonhole v0.3 tree.


2013-06-18 22:04:50 +0200 Stephan Bosch <stephan@rename-it.nl> (2e5ed35b)

    Fixed deprecated INCLUDE= assignment in Makefile.am


M	src/lib-sievestorage/Makefile.am

2013-06-18 08:34:26 +0200 Stephan Bosch <stephan@rename-it.nl> (f8b9adf0)

    lib-sievestorage: Removed PATH_MAX limitation for active symlink. Fixes
    issue for GNU/Hurd.


M	src/lib-sievestorage/sieve-storage-script.c

2013-06-18 08:24:40 +0200 Stephan Bosch <stephan@rename-it.nl> (46bf4c6c)

    Fixed line endings in X-Sieve headers added by redirect command. Modified
    patch by Andriy Syrovenko.


M	src/lib-sieve/cmd-redirect.c

2013-06-18 08:11:37 +0200 Stephan Bosch <stephan@rename-it.nl> (bb90042a)

    Don't access ns->storage. Patch by Timo Sirainen.


M	src/sieve-tools/sieve-filter.c

2013-06-02 16:08:22 +0200 Stephan Bosch <stephan@rename-it.nl> (af703f2e)

    Finished support for temporary failures. This change is bigger than I would
    have liked, so this needs to be tested more.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sievestorage/sieve-storage.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/sieve-extprograms/cmd-pipe.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2013-05-24 13:12:24 +0200 Stephan Bosch <stephan@rename-it.nl> (f47475ae)

    Merged changes from Pigeonhole v0.3 tree.


2013-05-24 13:07:23 +0200 Stephan Bosch <stephan@rename-it.nl> (bbb5be0c)

    managesieve-login: Fixed '[' ']' stupidity for response codes. Emerged when
    Sieve and ManageSieve were merged into Pigeonhole.


M	src/managesieve-login/client.c

2013-05-20 21:20:04 +0200 Stephan Bosch <stephan@rename-it.nl> (ba95ae62)

    Sieve extprograms plugin: Fixed interaction between pipe command and remote
    script service. The output from the script service was never read, causing a
    broken pipe error at the script service. Apparently, this was broken since
    the I/O handling for extprograms was last revised.


M	src/plugins/sieve-extprograms/script-client-remote.c
M	src/plugins/sieve-extprograms/script-client.c

2013-05-15 21:59:32 +0200 Stephan Bosch <stephan@rename-it.nl> (51c2d126)

    lib-sieve: Fixed datastack problem in message header composition.


M	src/lib-sieve/rfc2822.c

2013-05-12 19:14:18 +0200 Stephan Bosch <stephan@rename-it.nl> (66085257)

    Fixed setting name in example-config/conf.d/20-managesieve.conf.


M	doc/example-config/conf.d/20-managesieve.conf

2013-05-09 16:39:41 +0200 Stephan Bosch <stephan@rename-it.nl> (8e08342a)

    Forgot to update Dovecot version in README and man pages.


M	README
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2013-05-09 15:41:42 +0200 Stephan Bosch <stephan@rename-it.nl> (cf64d222)

    Added signature for changeset 3a8dc1250e9b


M	.hgsigs

2013-05-09 15:40:25 +0200 Stephan Bosch <stephan@rename-it.nl> (71e1f2a2)

    Added tag 0.4.0 for changeset 3a8dc1250e9b


2013-05-09 15:39:17 +0200 Stephan Bosch <stephan@rename-it.nl> (9791b4af)

    Released v0.4.0 for Dovecot v2.2.1.


2013-05-09 15:21:43 +0200 Stephan Bosch <stephan@rename-it.nl> (58d7ff3d)

    Added signature for changeset 374ec9399958


M	.hgsigs

2013-05-09 15:19:32 +0200 Stephan Bosch <stephan@rename-it.nl> (d228de08)

    Updated dovecot.m4 to latest version.


M	m4/dovecot.m4

2013-05-09 15:18:13 +0200 Stephan Bosch <stephan@rename-it.nl> (a41a16ce)

    Added tag 0.3.5 for changeset 374ec9399958


2013-05-09 15:18:05 +0200 Stephan Bosch <stephan@rename-it.nl> (46755a82)

    Released v0.3.5 for Dovecot v2.1.16.


M	NEWS
M	configure.in

2013-05-09 15:11:13 +0200 Stephan Bosch <stephan@rename-it.nl> (fb122b93)

    Fixed problem in `make distcheck`. Added --disable-shared to
    DISTCHECK_CONFIGURE_FLAGS (in dovecot.m4) to prevent libtool from relinking
    the libraries.


M	m4/dovecot.m4

2013-05-09 12:22:39 +0200 Stephan Bosch <stephan@rename-it.nl> (19e0ed1e)

    Removed UNSTABLE notice from configure.


M	configure.ac

2013-05-09 12:21:31 +0200 Stephan Bosch <stephan@rename-it.nl> (d0367e8b)

    Merged changed from Pigeonhole v0.3.


2013-05-09 11:28:44 +0200 Stephan Bosch <stephan@rename-it.nl> (77ec8981)

    doveadm-sieve: Fixed synchronization of script deletions. Sieve storage now
    updates sieve attributes in the user's INBOX if used by ManageSieve.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve/managesieve-client.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-05-06 22:48:59 +0200 Stephan Bosch <stephan@rename-it.nl> (9337fee9)

    doveadm-sieve: Fix ping-pong problem in active Sieve script synchronization.
    Patch by Timo Sirainen.


M	src/lib-sievestorage/sieve-storage.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-05-02 21:37:36 +0200 Stephan Bosch <stephan@rename-it.nl> (6b7fe6f5)

    lib-sieve: editheader extension: Fixed interaction with body extension.
    Forgot to rewind mail stream before header parsing. Wrapped mail stream is
    obtained long before parsing, so if it is used in the mean time, it must be
    rewound to the beginning.


M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	tests/extensions/editheader/deleteheader.svtest

2013-04-23 22:55:03 +0200 Stephan Bosch <stephan@rename-it.nl> (59625262)

    doveadm-sieve: Fixed mtime updates. Patch by Timo Sirainen.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/managesieve/cmd-setactive.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-20 21:27:15 +0200 Stephan Bosch <stephan@rename-it.nl> (03a16d96)

    doveadm-sieve: Set mtime of modified scripts and sieve dir to timestamp from
    dsync. Still does not fix the ping-pong issue.


M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-19 23:21:35 +0200 Stephan Bosch <stephan@rename-it.nl> (3b6c9b06)

    doveadm-sieve: Made active script last_change time always dependent on
    sieve_dir mtime. Change is preliminary. Still doing some experiments,
    'ping-pong' problem is not solved.


M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c

2013-04-19 22:26:32 +0200 Stephan Bosch <stephan@rename-it.nl> (06bfdd06)

    doveadm-sieve: Prevented Sieve storage from logging useless while
    synchronizing. Added flag to prevent warnings about non-link active scripts
    and disable critical error logging. A rather fundamental synchronization
    problem remains to be solved.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve/managesieve-client.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-19 09:46:49 +0200 Stephan Bosch <stephan@rename-it.nl> (3b0fc8c3)

    Made preparations for first v0.4 release.


M	INSTALL
M	NEWS
M	README
M	TODO
M	doc/plugins/sieve_extprograms.txt

2013-04-19 09:45:15 +0200 Stephan Bosch <stephan@rename-it.nl> (35c7ebad)

    Fixed distcheck failure on sieve_extprograms plugin testsuite.


M	src/testsuite/testsuite-variables.c
A	tests/plugins/extprograms/bin/sleep10
M	tests/plugins/extprograms/execute/command.svtest
M	tests/plugins/extprograms/execute/errors.svtest
M	tests/plugins/extprograms/execute/execute.svtest
M	tests/plugins/extprograms/filter/command.svtest
M	tests/plugins/extprograms/filter/errors.svtest
M	tests/plugins/extprograms/filter/execute.svtest
M	tests/plugins/extprograms/pipe/command.svtest
M	tests/plugins/extprograms/pipe/errors.svtest
M	tests/plugins/extprograms/pipe/errors/timeout.sieve
M	tests/plugins/extprograms/pipe/execute.svtest

2013-04-19 09:15:01 +0200 Stephan Bosch <stephan@rename-it.nl> (aa2cfbaa)

    Fixed test suite for vnd.dovecot.execute extension. Testsuite hostname is
    now true local hostname.


M	tests/plugins/extprograms/execute/execute.svtest

2013-04-12 20:25:02 +0200 Stephan Bosch <stephan@rename-it.nl> (0e0a359c)

    Fixed doveconf crash caused by previous change. Patch by Timo Sirainen.


M	src/lib-sieve/sieve.c

2013-04-11 22:40:07 +0200 Stephan Bosch <stephan@rename-it.nl> (9fc9fa97)

    lib-sieve: environment extension: Finally finished this extension a much as
    possible. Some environment items in the base specification are not (yet)
    applicable to Dovecot and are therefore not supported.


M	README
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	tests/extensions/environment/basic.svtest
M	tests/extensions/environment/rfc.svtest

2013-04-11 20:42:41 +0200 Stephan Bosch <stephan@rename-it.nl> (7d4ca027)

    doveadm-sieve: Updated to dsync changes in Dovecot mail storage API. Patch
    by Timo Sirainen.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-07 23:42:04 +0200 Stephan Bosch <stephan@rename-it.nl> (365c8db9)

    Compile warning fixes.


M	src/plugins/sieve-extprograms/script-client-remote.c
M	src/plugins/sieve-extprograms/sieve-extprograms-common.h

2013-04-07 05:12:57 +0200 Stephan Bosch <stephan@rename-it.nl> (100602de)

    testsuite: fixed local timezone dependency in date extension tests.


M	tests/extensions/date/basic.svtest

2013-04-07 02:30:11 +0200 Stephan Bosch <stephan@rename-it.nl> (6744a189)

    Updated TODO to include items related to sieve_extprograms plugin.


M	TODO

2013-04-07 02:25:46 +0200 Stephan Bosch <stephan@rename-it.nl> (b08ad1e5)

    Added sieve_extprograms plugin to the main Pigeonhole tree. It is still a
    plugin, but no longer a separate package.


M	INSTALL
M	Makefile.am
M	configure.ac
M	doc/Makefile.am
A	doc/example-config/conf.d/90-sieve-extprograms.conf
M	doc/example-config/conf.d/90-sieve.conf
M	doc/example-config/conf.d/Makefile.am
A	doc/plugins/sieve_extprograms.txt
A	doc/rfc/spec-bosch-sieve-extprograms.txt
A	doc/rfc/xml/reference.DSN.xml
A	doc/rfc/xml/reference.MDN.xml
A	doc/rfc/xml/reference.NET-UNICODE.xml
A	doc/rfc/xml/reference.RFC.3894.xml
A	doc/rfc/xml/reference.RFC.5429.xml
A	doc/rfc/xml/reference.SUBADDRESS.xml
A	doc/rfc/xml/reference.UTF-8.xml
A	doc/rfc/xml/spec-bosch-sieve-extprograms.xml
M	src/plugins/Makefile.am
A	src/plugins/sieve-extprograms/Makefile.am
A	src/plugins/sieve-extprograms/cmd-execute.c
A	src/plugins/sieve-extprograms/cmd-filter.c
A	src/plugins/sieve-extprograms/cmd-pipe.c
A	src/plugins/sieve-extprograms/ext-execute.c
A	src/plugins/sieve-extprograms/ext-filter.c
A	src/plugins/sieve-extprograms/ext-pipe.c
A	src/plugins/sieve-extprograms/script-client-local.c
A	src/plugins/sieve-extprograms/script-client-private.h
A	src/plugins/sieve-extprograms/script-client-remote.c
A	src/plugins/sieve-extprograms/script-client.c
A	src/plugins/sieve-extprograms/script-client.h
A	src/plugins/sieve-extprograms/sieve-extprograms-common.c
A	src/plugins/sieve-extprograms/sieve-extprograms-common.h
A	src/plugins/sieve-extprograms/sieve-extprograms-plugin.c
A	src/plugins/sieve-extprograms/sieve-extprograms-plugin.h
A	tests/plugins/extprograms/bin/addheader
A	tests/plugins/extprograms/bin/cat
A	tests/plugins/extprograms/bin/env
A	tests/plugins/extprograms/bin/frame
A	tests/plugins/extprograms/bin/modify
A	tests/plugins/extprograms/bin/program
A	tests/plugins/extprograms/bin/replace
A	tests/plugins/extprograms/bin/sleep2
A	tests/plugins/extprograms/bin/stderr
A	tests/plugins/extprograms/errors.svtest
A	tests/plugins/extprograms/errors/arguments.sieve
A	tests/plugins/extprograms/errors/programname.sieve
A	tests/plugins/extprograms/execute/command.svtest
A	tests/plugins/extprograms/execute/errors.svtest
A	tests/plugins/extprograms/execute/errors/syntax.sieve
A	tests/plugins/extprograms/execute/errors/variables.sieve
A	tests/plugins/extprograms/execute/execute.svtest
A	tests/plugins/extprograms/filter/command.svtest
A	tests/plugins/extprograms/filter/errors.svtest
A	tests/plugins/extprograms/filter/errors/syntax.sieve
A	tests/plugins/extprograms/filter/execute.svtest
A	tests/plugins/extprograms/pipe/command.svtest
A	tests/plugins/extprograms/pipe/errors.svtest
A	tests/plugins/extprograms/pipe/errors/syntax.sieve
A	tests/plugins/extprograms/pipe/errors/timeout.sieve
A	tests/plugins/extprograms/pipe/execute.svtest

2013-04-07 00:58:40 +0200 Stephan Bosch <stephan@rename-it.nl> (9279e66b)

    Updated TODO.


M	TODO

2013-04-07 00:41:19 +0200 Stephan Bosch <stephan@rename-it.nl> (f3ae16df)

    Merged changes from Pigeonhole v0.3 tree.


2013-04-07 00:33:41 +0200 Stephan Bosch <stephan@rename-it.nl> (f4ceacd2)

    doveadm-sieve: Fixed handling of non-link active script. Unsetting the
    normal active script attribute would 'rescue' the non-link script and turn
    it into a symlink.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-06 22:37:46 +0200 Stephan Bosch <stephan@rename-it.nl> (08892a5d)

    Added signature for changeset 493202676845


M	.hgsigs

2013-04-06 22:37:39 +0200 Stephan Bosch <stephan@rename-it.nl> (4db2bd64)

    Added tag 0.3.4 for changeset 493202676845


2013-04-06 22:37:02 +0200 Stephan Bosch <stephan@rename-it.nl> (173e9dd5)

    Released v0.3.4 for Dovecot v2.1.16.


M	NEWS
M	TODO
M	configure.in

2013-04-06 16:54:57 +0200 Stephan Bosch <stephan@rename-it.nl> (8c9ef2fc)

    Updated copyright notices to include the year 2013.


M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/edit-mail.h
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-file.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2013-04-05 18:08:19 +0200 Stephan Bosch <stephan@rename-it.nl> (572bc510)

    doveadm-sieve: Adjusted to Dovecot API change.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-03 00:08:05 +0200 Stephan Bosch <stephan@rename-it.nl> (dff5598c)

    doveadm-sieve: Prevented initializing the Sieve storage multiple times.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-02 23:14:37 +0200 Stephan Bosch <stephan@rename-it.nl> (5a27c7eb)

    Merged changes from Pigeonhole v0.3 tree.


2013-04-02 23:14:13 +0200 Stephan Bosch <stephan@rename-it.nl> (c2b71b1b)

    doveadm-sieve: Implemented handling the situation when the main active
    script is a regular file. Tested whether this change breaks ManageSieve and
    basic dsync, but not much more. More tests pending. If you use sync be
    careful with this commit.


M	src/lib-sieve/sieve-plugins.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-04-02 23:09:14 +0200 Stephan Bosch <stephan@rename-it.nl> (7261c0cb)

    lib-sieve: Fixed plugin module load functionality. Initializing multiple
    Sieve instances would hang.


M	src/lib-sieve/sieve-plugins.c

2013-03-28 22:14:21 +0100 Stephan Bosch <stephan@rename-it.nl> (824b68d6)

    Merged changes from Pigeonhole v0.3 tree.


2013-03-28 22:12:03 +0100 Stephan Bosch <stephan@rename-it.nl> (c6ee18c9)

    lib-sievestorage: Fixed a few potential problems in script save code.


M	src/lib-sievestorage/sieve-storage-save.c

2013-03-28 21:33:31 +0100 Stephan Bosch <stephan@rename-it.nl> (7cde39ab)

    Merged changes from Pigeonhole v0.3 tree.


2013-03-28 21:31:59 +0100 Stephan Bosch <stephan@rename-it.nl> (856ccbb4)

    lib-sievestorage: A few debug messages were still logged using i_info()
    instead of i_debug().


M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage.c

2013-03-28 21:27:53 +0100 Stephan Bosch <stephan@rename-it.nl> (e4ec7f70)

    doveadm-sieve: Implemented obtaining last modification time for the active
    script attribute. It compiles, doesn't break normal ManageSieve operation,
    but it remains untested otherwise.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-03-25 12:34:13 +0100 Stephan Bosch <stephan@rename-it.nl> (d0fd30b5)

    doveadm-sieve: Crash instead of writing empty .sieve files. Patch by Timo
    Sirainen.


M	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-03-23 12:14:14 +0100 Stephan Bosch <stephan@rename-it.nl> (884351e8)

    Fixed compile order for previous change.


M	src/Makefile.am

2013-03-22 23:09:57 +0100 Stephan Bosch <stephan@rename-it.nl> (9d33676d)

    Committed Timo's patch that adds a plugin that provides Sieve dsync support.
    http://dovecot.org/patches/2.2/doveadm-sieve-plugin.diff Made some small
    modifications. This code should not interfere with normal ManageSieve
    operation, so I commit this right now without much testing. The actual
    doveadm sieve plugin has a few open issues that need to be resolved still.


M	configure.ac
M	src/lib-sievestorage/Makefile.am
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve/Makefile.am
M	src/plugins/Makefile.am
A	src/plugins/doveadm-sieve/Makefile.am
A	src/plugins/doveadm-sieve/doveadm-sieve-plugin.c

2013-03-04 22:26:15 +0100 Stephan Bosch <stephan@rename-it.nl> (59de1b42)

    lib-sieve: Fixed segfault bug in reject. Passed senv->script_context rather
    than senv itself. Somehow the compiler fails to warn about this.


M	src/lib-sieve/sieve-actions.c

2013-03-03 18:07:30 +0100 Stephan Bosch <stephan@rename-it.nl> (6d707527)

    Merged changes from Pigeonhole v0.3.


2013-03-03 18:03:33 +0100 Stephan Bosch <stephan@rename-it.nl> (e6a1b593)

    LDA Sieve plugin: further reduced useless error messages in administrator
    log.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-03-03 17:35:37 +0100 Stephan Bosch <stephan@rename-it.nl> (079c5271)

    LDA Sieve plugin: fixed bug in opening script files for multiscript. Used
    sieve_script_create instead of sieve_script_create_open. Changed plugin
    debug output a bit as well.


M	src/lib-sieve/sieve-script.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-03-03 16:55:05 +0100 Stephan Bosch <stephan@rename-it.nl> (4d0cf9d8)

    Merged changes from Pigeonhole v0.3.


2013-03-03 16:52:39 +0100 Stephan Bosch <stephan@rename-it.nl> (f2f90bb2)

    LDA Sieve plugin: fixed stupid mistake in error handling for multiscript.
    Used errno instead of error variable.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-03-02 23:27:13 +0100 Stephan Bosch <stephan@rename-it.nl> (d9a984ac)

    lib-sieve: added debug message showing Pigeonhole version at initialization.
    Very useful to show that debugging is enabled and what version of pigeonhole
    is actually running.


M	src/lib-sieve/sieve.c

2013-03-02 22:36:55 +0100 Stephan Bosch <stephan@rename-it.nl> (d56dd089)

    LDA Sieve plugin: adjusted script compile/load error reporting. Made normal
    compile error an info log item in the administrator log.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2013-02-28 23:37:31 +0100 Stephan Bosch <stephan@rename-it.nl> (783fdcae)

    Sieve: editheader: fixed bug in header cloning for snapshot. Forgot to
    increment count for the clone.


M	src/lib-sieve/edit-mail.c
M	tests/extensions/editheader/alternating.svtest

2013-02-28 23:06:47 +0100 Stephan Bosch <stephan@rename-it.nl> (58f32d2c)

    Sieve: editheader: fixed bug in full header parsing when addheader :last is
    used.


M	src/lib-sieve/edit-mail.c

2013-02-06 21:24:30 +0100 Stephan Bosch <stephan@rename-it.nl> (dec32238)

    managesieve: Fixed bug in skipping of CRLF at end of AUTHENTICATE command.
    Setting skip_newline is useless when the connection is transfered to another
    process after successful login.


M	src/managesieve-login/client-authenticate.c

2013-01-26 09:10:26 +0100 Stephan Bosch <stephan@rename-it.nl> (f26a0dc3)

    lib-sieve: Increased a few initial memory pool sizes.


M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-validator.c

2013-01-26 08:52:27 +0100 Stephan Bosch <stephan@rename-it.nl> (81245ddf)

    Changed behavior of redirect in case of a duplicate message delivery or a
    mail loop. If a duplicate is detected the implicit keep is canceled, as
    though the redirect was successful. This prevents getting local deliveries.
    The original SMTP recipient is used when it is available to augment the
    entry in the LDA duplicate database. This way, duplicates are only detected
    when (initially) addressed to the same recipient. The main goal of the
    duplicate detection is mail loop prevention, but this also has the effect
    that mere duplicate deliveries are handled specially whithout a good reason.
    We should fix this in a future version.


M	src/lib-sieve/cmd-redirect.c

2013-01-14 12:57:58 +0100 Stephan Bosch <stephan@rename-it.nl> (7f559d44)

    Merged changes from Pigeonhole v0.3 tree.


2013-01-09 00:55:49 +0100 Stephan Bosch <stephan@rename-it.nl> (40a0bb91)

    Fixed SMTP crash. By Timo Sirainen.


M	src/lib-sieve/sieve-smtp.c

2013-01-09 00:38:07 +0100 Stephan Bosch <stephan@rename-it.nl> (35e2fff1)

    Adjusted to changes in Dovecot.


M	src/lib-sieve/edit-mail.c

2012-12-26 11:52:03 +0100 Stephan Bosch <stephan@rename-it.nl> (312ce006)

    Fixed compile on Mageia Linux. Added LIBDOVECOT_STORAGE to library
    dependencies in src/lib-sieve/Makefile.am.


M	src/lib-sieve/Makefile.am

2012-12-22 22:27:34 +0100 Stephan Bosch <stephan@rename-it.nl> (7da1a76d)

    lib-sieve: Prevent passing NULL sender to raw mail storage when active
    message is substituted.


M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-message.c

2012-11-26 21:16:54 +0100 Stephan Bosch <stephan@rename-it.nl> (ca6601ba)

    lib-sieve: vacation extension: Fixed determination of From: address for when
    sieve_vacation_dont_check_recipient is active.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2012-10-29 22:42:34 +0100 Stephan Bosch <stephan@rename-it.nl> (19c2f6a6)

    Renamed configure.in to configure.ac. Apparently automakes in future won't
    support configure.in anymore.


R100	configure.in	configure.ac

2012-10-17 22:22:02 +0200 Stephan Bosch <stephan@rename-it.nl> (9791083b)

    lib-sieve: Fixed a stupidity in the dict script implementation.


M	src/lib-sieve/sieve-script-dict.c

2012-10-17 22:11:16 +0200 Stephan Bosch <stephan@rename-it.nl> (aa0b16ea)

    Updated installation documentation for vnd.dovecot.duplicate extension.


M	doc/extensions/vnd.dovecot.duplicate.txt

2012-10-17 22:10:50 +0200 Stephan Bosch <stephan@rename-it.nl> (4e9e42df)

    lib-sieve: vnd.dovecot.duplicate: Fixed default max period setting.


M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c

2012-10-17 21:49:55 +0200 Stephan Bosch <stephan@rename-it.nl> (7f18f33d)

    Improved specification of the vnd.dovecot.duplicate extension.


M	doc/rfc/spec-bosch-sieve-duplicate.txt
A	doc/rfc/xml/reference.INCLUDE.xml
M	doc/rfc/xml/spec-bosch-sieve-duplicate.xml

2012-10-17 02:55:07 +0200 Stephan Bosch <stephan@rename-it.nl> (266bc73e)

    lib-sieve: vnd.dovecot.duplicate extension: Only track duplicate when Sieve
    script executes successfully.


M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c

2012-10-17 02:15:04 +0200 Stephan Bosch <stephan@rename-it.nl> (7dc1be65)

    lib-sieve: vnd.dovecot.duplicate extension: Fixed segfault occurring in
    testsuite.


M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c

2012-10-17 02:09:55 +0200 Stephan Bosch <stephan@rename-it.nl> (aa3bcb0f)

    lib-sieve: vnd.dovecot.duplicate extension: fixed bug in previous change.
    Forgot to initialize variable, causing a segfault at runtime.


M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c

2012-10-16 21:33:15 +0200 Stephan Bosch <stephan@rename-it.nl> (a425a57d)

    lib-sieve: vnd.dovecot.duplicate extension: Added new features to the
    duplicate test. It is now possible to track duplicates based on arbitrary
    headers or even arbitrary string values using the new :header and :value
    arguments respectively. The experation time can be configured using the new
    :seconds argument. This change is backwards compatible as long as the name
    argument wasn't used. This is now a :handle <handle> argument.


M	doc/rfc/spec-bosch-sieve-duplicate.txt
A	doc/rfc/xml/reference.IMAP4FLAGS.xml
A	doc/rfc/xml/reference.MAILBOX.xml
A	doc/rfc/xml/reference.VACATION.xml
M	doc/rfc/xml/spec-bosch-sieve-duplicate.xml
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c
M	tests/extensions/vnd.dovecot/duplicate/errors.svtest
M	tests/extensions/vnd.dovecot/duplicate/errors/syntax.sieve
M	tests/extensions/vnd.dovecot/duplicate/execute.svtest

2012-10-13 10:36:11 +0200 Stephan Bosch <stephan@rename-it.nl> (5f6ea36e)

    Adjusted to Dovecot dict API changes.


M	src/lib-sieve/sieve-script-dict.c

2012-10-13 10:35:19 +0200 Stephan Bosch <stephan@rename-it.nl> (f617c4e6)

    Merged changes from Pigeonhole v0.3.


2012-10-13 10:30:57 +0200 Stephan Bosch <stephan@rename-it.nl> (9224df2b)

    lib-sieve: dict script: fixed potential segfault occuring when dict
    initialization fails.


M	src/lib-sieve/sieve-script-dict.c

2012-10-12 19:25:10 +0200 Stephan Bosch <stephan@rename-it.nl> (98d9957d)

    Incorporated Dovecot plugin ABI changes (forgot a few issues).


M	src/lib-sieve/sieve-plugins.c
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve/managesieve-settings.c

2012-10-12 00:54:03 +0200 Stephan Bosch <stephan@rename-it.nl> (4ba1f32c)

    Incorporated Dovecot plugin ABI changes.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-10-11 22:07:50 +0200 Stephan Bosch <stephan@rename-it.nl> (7adde42a)

    ManageSieve: fixed handling of unkown commands pre-login. Forgot to skip
    line upon error.


M	src/managesieve-login/client.c

2012-10-11 20:26:03 +0200 Stephan Bosch <stephan@rename-it.nl> (7e18cd0b)

    lib-sieve: Further improved handling of quota errors. Added means to log
    user errors/warnings as info in master log. Previous change was inadequate
    because an error was still logged.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-10-11 01:48:29 +0200 Stephan Bosch <stephan@rename-it.nl> (8fc29444)

    lib-sieve: fileinto/keep: don't log quota errors to syslog but rather to
    user's log. Prevents administrator frustration about useless log messages
    caused by users with too much mail.


M	src/lib-sieve/sieve-actions.c

2012-10-03 18:00:50 +0200 Stephan Bosch <stephan@rename-it.nl> (58abc04e)

    Adjusted to changes in Dovecot network API.


M	src/managesieve-login/client.h
M	src/managesieve/managesieve-client.c

2012-09-26 21:52:32 +0200 Stephan Bosch <stephan@rename-it.nl> (4fba9b25)

    testsuite: date extension: Added test for date comparisons.


M	tests/extensions/date/basic.svtest

2012-09-26 21:51:46 +0200 Stephan Bosch <stephan@rename-it.nl> (dd6875f5)

    lib-sieve: date extension: Generate warning when invalid date part is
    specified.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/tst-date.c

2012-09-23 17:14:58 +0200 Stephan Bosch <stephan@rename-it.nl> (5e955ec3)

    Merged changes from Pigeonhole v0.3.


2012-09-23 17:09:26 +0200 Stephan Bosch <stephan@rename-it.nl> (7e1f287a)

    lib-sieve: mailbox extension: After creating mailbox only open it, don't
    bother syncing it.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c

2012-09-20 01:22:29 +0200 Stephan Bosch <stephan@rename-it.nl> (ed882314)

    lib-sieve: include extension: didn't get semantics of mixing optional and
    non-optional includes for the same script quite right.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c

2012-09-20 00:57:02 +0200 Stephan Bosch <stephan@rename-it.nl> (bb91536d)

    sieve-tools: The -D option wasn't enabled and documented for all tools.
    Change backported from Pigeonhole v0.4 tree, which means that this change
    will duplicate there upon merge.


M	doc/man/sieve-dump.1.in
M	doc/man/sievec.1.in
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sievec.c

2012-09-20 00:54:17 +0200 Stephan Bosch <stephan@rename-it.nl> (349732f6)

    lib-sieve: include extension: fixed missing error cleanup that caused a
    resource leak.


M	src/lib-sieve/plugins/include/ext-include-binary.c

2012-09-20 00:51:09 +0200 Stephan Bosch <stephan@rename-it.nl> (66dabb2f)

    Fixed a few resource leaks caused by previous change.


M	src/lib-sieve/plugins/include/ext-include-binary.c

2012-09-20 00:22:36 +0200 Stephan Bosch <stephan@rename-it.nl> (e09ca009)

    lib-sieve: Finished implementation of include extension. Added support for
    the :optional tag of the include command. Changed Sieve script API in the
    process; opening the script is now available as a separate step.


M	Makefile.am
M	README
M	TODO
D	doc/rfc/draft-ietf-sieve-include-05.txt
A	doc/rfc/include.rfc6609.txt
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/managesieve/cmd-getscript.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
A	tests/extensions/include/execute/optional.sieve
A	tests/extensions/include/included/optional-1.sieve
A	tests/extensions/include/included/optional-2.sieve
A	tests/extensions/include/optional.svtest

2012-09-20 00:18:10 +0200 Stephan Bosch <stephan@rename-it.nl> (9e05b84b)

    sieve-tools: The -D option wasn't enabled and documented for all tools.


M	doc/man/sieve-dump.1.in
M	doc/man/sievec.1.in
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sievec.c

2012-09-19 22:44:10 +0200 Stephan Bosch <stephan@rename-it.nl> (c8e81d26)

    Last commit was quite inadequate.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2012-09-19 21:59:08 +0200 Stephan Bosch <stephan@rename-it.nl> (db52d175)

    Updated to changes in Dovecot config API.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2012-09-18 21:30:45 +0200 Stephan Bosch <stephan@rename-it.nl> (a69b29f2)

    Added signature for changeset 64474c359678


M	.hgsigs

2012-09-18 21:29:16 +0200 Stephan Bosch <stephan@rename-it.nl> (37e477e4)

    Added tag 0.3.3 for changeset 64474c359678


2012-09-18 21:29:11 +0200 Stephan Bosch <stephan@rename-it.nl> (4ad40fc1)

    Released v0.3.3 for Dovecot v2.1.10.


M	NEWS
M	configure.in

2012-09-18 20:42:25 +0200 Stephan Bosch <stephan@rename-it.nl> (56c73516)

    Fixed compile against installed Dovecot headers. This was broken by the
    ld.gold fix.


M	src/lib-sieve/Makefile.am

2012-09-18 16:20:22 +0200 Stephan Bosch <stephan@rename-it.nl> (89d4adbc)

    Added signature for changeset 265061e0d3f4


M	.hgsigs

2012-09-18 16:13:09 +0200 Stephan Bosch <stephan@rename-it.nl> (2dc8ed62)

    Added tag 0.3.2 for changeset 265061e0d3f4


2012-09-18 16:12:44 +0200 Stephan Bosch <stephan@rename-it.nl> (0102b7f1)

    Released v0.3.2 for Dovecot v2.1.9.


M	configure.in

2012-09-18 16:01:48 +0200 Stephan Bosch <stephan@rename-it.nl> (f212df40)

    Updated NEWS file for next release.


M	NEWS

2012-09-18 14:44:44 +0200 Stephan Bosch <stephan@rename-it.nl> (a7a64d56)

    Minor change to TODO.


M	TODO

2012-09-18 14:37:55 +0200 Stephan Bosch <stephan@rename-it.nl> (20aaacaf)

    lib-sieve: Added version numbers to Sieve extensions. Those version numbers
    are now also stored in the binary, making sure it is recompiled when a new
    version of an extension is used. This avoids updating the binary version for
    minor changes to extensions and also makes this work for plugins.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-extensions.h

2012-09-18 14:02:12 +0200 Stephan Bosch <stephan@rename-it.nl> (17129d97)

    lib-sieve: Changed the way Sieve extensions are defined to a more compact
    format.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/ext-testsuite.c

2012-09-18 12:10:53 +0200 Stephan Bosch <stephan@rename-it.nl> (ca8505ea)

    lib-sieve: date extension: composition of iso8601 dates is moved to Dovecot.


M	src/lib-sieve/plugins/date/ext-date-common.c

2012-09-18 11:59:47 +0200 Stephan Bosch <stephan@rename-it.nl> (dbca1b6a)

    Updated to recent changes in Dovecot.


M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/sieve-script-dict.c

2012-09-09 10:45:46 +0200 Stephan Bosch <stephan@rename-it.nl> (40792452)

    sieve-refilter: improved man page documentation by explicitly specifying the
    syntax used for mailbox arguments.


M	doc/man/sieve-filter.1.in

2012-09-06 09:00:59 +0200 Stephan Bosch <stephan@rename-it.nl> (6daa706c)

    Adjusted to buffer API change in Dovecot.


M	src/managesieve/main.c

2012-09-02 18:54:01 +0200 Stephan Bosch <stephan@rename-it.nl> (032ddf89)

    Small compile fix.


M	src/lib-sieve/Makefile.am

2012-08-29 19:35:17 +0200 Stephan Bosch <stephan@rename-it.nl> (ff9841b6)

    lib-sieve: fixed edit-mail istream to work with latest Dovecot. Testsuite
    failed with an assertion, because the stream returned -2 at an unexpected
    time. I've restructured the buffering implementation to prevent this. The
    testsuite succeeds now, but this needs to be tested more thoroughly.


M	src/lib-sieve/edit-mail.c

2012-08-28 23:07:36 +0200 Stephan Bosch <stephan@rename-it.nl> (6fc44fad)

    Adjusted to changes in Dovecot istream API.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/sieve-lexer.c

2012-08-20 09:13:32 +0200 Stephan Bosch <stephan@rename-it.nl> (52a41995)

    Adjusted to some more changes in Dovecot API.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-extensions.c
M	src/testsuite/testsuite-settings.c

2012-08-20 08:43:55 +0200 Stephan Bosch <stephan@rename-it.nl> (c245aa45)

    Adjusted to changes in Dovecot API regarding arrays and hash tables. Also
    contains a few other small fixes by Timo.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-validator.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-commands.c
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-smtp.c

2012-08-16 22:28:06 +0200 Stephan Bosch <stephan@rename-it.nl> (7534c8c0)

    lib-sieve: spamvirustest: improved trace debugging of score calculation.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c

2012-08-15 00:55:05 +0200 Stephan Bosch <stephan@rename-it.nl> (e3d60566)

    sieve-tools: sievec and sieve-dump now ignore mail_uid and mail_gid settings
    when run as root. Before, sievec and sieve-dump would switch to
    mail_uid:mail_gid and then fail to compile/dump a root script.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite.c

2012-08-12 16:16:21 +0200 Stephan Bosch <stephan@rename-it.nl> (4dcfc2d4)

    lib-sieve: Adjusted edit-mail.c to changes in Dovecot mail storage API.


M	src/lib-sieve/edit-mail.c

2012-08-12 16:02:36 +0200 Stephan Bosch <stephan@rename-it.nl> (87759d7e)

    Merged changes from Pigeonhole v0.3.


2012-08-12 15:50:27 +0200 Stephan Bosch <stephan@rename-it.nl> (10986994)

    Removed trailing whitespace everywhere.


M	AUTHORS
M	COPYING
M	INSTALL
M	Makefile.am
M	NEWS
M	README
M	TODO
M	configure.in
M	doc/devel/DESIGN
M	doc/example-config/conf.d/20-managesieve.conf
M	doc/example-config/conf.d/90-sieve.conf
M	doc/extensions/editheader.txt
M	doc/extensions/include.txt
M	doc/extensions/spamtest-virustest.txt
M	doc/extensions/vacation.txt
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	doc/script-location-dict.txt
M	src/lib-managesieve/Makefile.am
M	src/lib-managesieve/managesieve-arg.c
M	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/Makefile.am
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
M	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script-file.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sievestorage/Makefile.am
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve/Makefile.am
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-settings.c
M	src/plugins/lda-sieve/Makefile.am
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/Makefile.am
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite-variables.c
M	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c
M	tests/compile/errors.svtest
M	tests/compile/errors/address.sieve
M	tests/compile/errors/envelope.sieve
M	tests/compile/errors/if.sieve
M	tests/compile/errors/keep.sieve
M	tests/compile/errors/lexer.sieve
M	tests/compile/errors/out-address.sieve
M	tests/compile/errors/parser.sieve
M	tests/compile/errors/require.sieve
M	tests/compile/errors/size.sieve
M	tests/compile/errors/tag.sieve
M	tests/compile/errors/typos.sieve
M	tests/compile/errors/unsupported.sieve
M	tests/compile/recover.svtest
M	tests/control-if.svtest
M	tests/deprecated/notify/basic.svtest
M	tests/deprecated/notify/mailto.svtest
M	tests/execute/actions.svtest
M	tests/execute/actions/redirect.sieve
M	tests/execute/errors.svtest
M	tests/execute/examples.svtest
M	tests/execute/mailstore.svtest
M	tests/extensions/body/basic.svtest
M	tests/extensions/body/content.svtest
M	tests/extensions/body/raw.svtest
M	tests/extensions/date/basic.svtest
M	tests/extensions/date/zones.svtest
M	tests/extensions/editheader/addheader.svtest
M	tests/extensions/editheader/alternating.svtest
M	tests/extensions/editheader/deleteheader.svtest
M	tests/extensions/editheader/errors.svtest
M	tests/extensions/editheader/errors/command-syntax.sieve
M	tests/extensions/editheader/protected.svtest
M	tests/extensions/encoded-character.svtest
M	tests/extensions/enotify/basic.svtest
M	tests/extensions/enotify/errors/uri-mailto.sieve
M	tests/extensions/enotify/mailto.svtest
M	tests/extensions/enotify/valid_notify_method.svtest
M	tests/extensions/envelope.svtest
M	tests/extensions/environment/rfc.svtest
M	tests/extensions/imap4flags/basic.svtest
M	tests/extensions/imap4flags/execute.svtest
M	tests/extensions/imap4flags/execute/flags-side-effect.sieve
M	tests/extensions/imap4flags/hasflag.svtest
M	tests/extensions/imap4flags/multiscript.svtest
M	tests/extensions/include/execute.svtest
M	tests/extensions/regex/basic.svtest
M	tests/extensions/regex/match-values.svtest
M	tests/extensions/relational/basic.svtest
M	tests/extensions/relational/comparators.svtest
M	tests/extensions/relational/errors/validation.sieve
M	tests/extensions/relational/rfc.svtest
M	tests/extensions/spamvirustest/spamtest.svtest
M	tests/extensions/subaddress/basic.svtest
M	tests/extensions/subaddress/rfc.svtest
M	tests/extensions/vacation/execute.svtest
M	tests/extensions/vacation/execute/no-handle.sieve
M	tests/extensions/vacation/message.svtest
M	tests/extensions/vacation/reply.svtest
M	tests/extensions/vacation/utf-8.svtest
M	tests/extensions/variables/basic.svtest
M	tests/extensions/variables/errors/limits.sieve
M	tests/extensions/variables/match.svtest
M	tests/extensions/variables/modifiers.svtest
M	tests/extensions/variables/quoting.svtest
M	tests/extensions/variables/regex.svtest
M	tests/extensions/variables/string.svtest
M	tests/match-types/contains.svtest
M	tests/match-types/is.svtest
M	tests/match-types/matches.svtest
M	tests/multiscript/basic.svtest
M	tests/multiscript/conflicts.svtest
M	tests/test-address.svtest
M	tests/test-allof.svtest
M	tests/test-anyof.svtest
M	tests/test-exists.svtest
M	tests/test-header.svtest
M	tests/testsuite.svtest

2012-08-09 23:01:43 +0200 Stephan Bosch <stephan@rename-it.nl> (9dc2b1c1)

    Merged changes from Pigeonhole v0.3 tree.


2012-08-09 22:58:53 +0200 Stephan Bosch <stephan@rename-it.nl> (0cfb762d)

    Created specification for the vnd.dovecot.debug extension. Also fixed a
    small mistake in the spefication for the vnd.dovecot.duplicate extension.


A	doc/rfc/spec-bosch-sieve-debug.txt
A	doc/rfc/xml/reference.VARIABLES.xml
A	doc/rfc/xml/spec-bosch-sieve-debug.xml
M	doc/rfc/xml/spec-bosch-sieve-duplicate.xml

2012-08-07 00:36:11 +0200 Stephan Bosch <stephan@rename-it.nl> (68353bbc)

    lib-sieve: increase action instance count (for limit checking) only when an
    action is actually created.


M	src/lib-sieve/sieve-result.c

2012-08-07 00:34:12 +0200 Stephan Bosch <stephan@rename-it.nl> (2ce4a474)

    lib-sieve: fixed potential action duplication bug.


M	src/lib-sieve/sieve-result.c

2012-08-06 23:14:19 +0200 Stephan Bosch <stephan@rename-it.nl> (ba927a91)

    lib-sieve: made action limit error messages more verbose.


M	src/lib-sieve/sieve-result.c

2012-08-05 18:42:12 +0200 Stephan Bosch <stephan@rename-it.nl> (93c6c79b)

    Testsuite: fixed compiler warning.


M	src/testsuite/testsuite-variables.c

2012-08-05 00:30:14 +0200 Stephan Bosch <stephan@rename-it.nl> (b06f10dd)

    Testsuite: added support for executing sub-scripts and added tst variables
    namespace. Added test for interaction between include extension and dict
    script location support.


M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
A	src/testsuite/testsuite-variables.c
A	src/testsuite/testsuite-variables.h
M	src/testsuite/testsuite.c
M	tests/extensions/include/execute.svtest
A	tests/extensions/include/execute/namespace.sieve
A	tests/extensions/include/included-global/namespace.dict
A	tests/extensions/include/included/namespace.dict

2012-08-04 09:34:21 +0200 Stephan Bosch <stephan@rename-it.nl> (aedfe1ee)

    Testsuite: fixed displaying debug messages.


M	src/testsuite/testsuite-log.c

2012-08-03 19:52:36 +0200 Stephan Bosch <stephan@rename-it.nl> (14877e2b)

    Include: fixed namespace separation of :global and :personal scripts. Sieve
    script equality function implementation was wrong.


M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve-script.c
M	tests/extensions/include/execute.svtest
A	tests/extensions/include/included-global/namespace.sieve
A	tests/extensions/include/included/namespace.sieve

2012-07-31 01:24:28 +0200 Stephan Bosch <stephan@rename-it.nl> (c882d9ee)

    Merged changes from Pigeonhole v0.2 tree.


2012-07-31 01:18:15 +0200 Stephan Bosch <stephan@rename-it.nl> (6beefee9)

    Fix linkage with ld.gold. Patch by Eray Aslan.


M	src/lib-sieve/Makefile.am

2012-07-30 10:14:42 +0200 Stephan Bosch <stephan@rename-it.nl> (a2d3329a)

    Fixed several Clang compile warnings and a few potential bugs. Patch by Timo
    Sirainen.


M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sievestorage/sieve-storage.c
M	src/testsuite/testsuite-log.c

2012-07-25 09:08:11 +0200 Stephan Bosch <stephan@rename-it.nl> (7d1fd8e3)

    Editheader: name of added header is now first sanitized to have capital
    letters where conventional.


M	src/lib-sieve/plugins/editheader/cmd-addheader.c

2012-07-16 21:36:23 +0200 Stephan Bosch <stephan@rename-it.nl> (24e432c4)

    Example config: disabled default sections for managesieve and
    managesieve-login services. This currently breaks uninstall when the
    settings plugins are removed and 20-managesieve.conf remains in conf.d
    directory. These sections only need to be active in the config file when
    settings for the services themselves need to be disabled.


M	doc/example-config/conf.d/20-managesieve.conf

2012-07-13 10:06:46 +0200 Stephan Bosch <stephan@rename-it.nl> (8ba3be21)

    ManageSieve: fixed segfault caused by Dovecot API change.


M	src/lib-managesieve/managesieve-parser.c

2012-07-13 00:57:00 +0200 Stephan Bosch <stephan@rename-it.nl> (f27c14e2)

    Merged changes from Dovecot v2.1.


2012-07-12 23:57:50 +0200 Stephan Bosch <stephan@rename-it.nl> (b26b4408)

    ManageSieve: fixed segfault bug triggered by CHECKSCRIPT command.


M	src/lib-sievestorage/sieve-storage-save.c

2012-07-12 23:40:52 +0200 Stephan Bosch <stephan@rename-it.nl> (db63d938)

    Adjusted to Dovecot API changes.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/edit-mail.c

2012-05-26 00:16:35 +0200 Stephan Bosch <stephan@rename-it.nl> (416ee290)

    Added signature for changeset e9ed5d5cef4b


M	.hgsigs

2012-05-26 00:14:18 +0200 Stephan Bosch <stephan@rename-it.nl> (b65bde7e)

    Added tag 0.3.1 for changeset e9ed5d5cef4b


2012-05-26 00:14:05 +0200 Stephan Bosch <stephan@rename-it.nl> (28ac609c)

    Released v0.3.1 for Dovecot v2.1.6.


M	NEWS
M	configure.in

2012-05-20 12:16:43 +0200 Stephan Bosch <stephan@rename-it.nl> (e60a6449)

    Merged changes from Pigeonhole v0.2 tree.


2012-05-20 12:06:25 +0200 Stephan Bosch <stephan@rename-it.nl> (7f017b49)

    Merged changes from Pigeonhole v0.2 tree.


2012-05-20 11:33:49 +0200 Stephan Bosch <stephan@rename-it.nl> (7f2b3f53)

    Merged minor changes from Pigeonhole v0.2 tree (causes a few duplicate
    commit messages).


2012-05-11 02:54:42 +0200 Stephan Bosch <stephan@rename-it.nl> (8c8d51e5)

    Incorporated sieve_duplicate plugin into main Pigeonhole tree as a normal
    extension (vnd.dovecot.duplicate). Also restructured doc dir a bit in the
    process.


M	INSTALL
M	Makefile.am
M	configure.in
M	doc/Makefile.am
R100	doc/editheader.txt	doc/extensions/editheader.txt
R100	doc/include.txt	doc/extensions/include.txt
R100	doc/spamtest-virustest.txt	doc/extensions/spamtest-virustest.txt
R100	doc/vacation.txt	doc/extensions/vacation.txt
A	doc/extensions/vnd.dovecot.duplicate.txt
A	doc/rfc/Makefile.am
A	doc/rfc/spec-bosch-sieve-duplicate.txt
A	doc/rfc/xml/reference.KEYWORDS.xml
A	doc/rfc/xml/reference.SIEVE.xml
A	doc/rfc/xml/spec-bosch-sieve-duplicate.xml
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/vnd.dovecot/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/duplicate/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.c
A	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate-common.h
A	src/lib-sieve/plugins/vnd.dovecot/duplicate/ext-duplicate.c
A	src/lib-sieve/plugins/vnd.dovecot/duplicate/tst-duplicate.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/vnd.dovecot/duplicate/errors.svtest
A	tests/extensions/vnd.dovecot/duplicate/errors/syntax.sieve
A	tests/extensions/vnd.dovecot/duplicate/execute.svtest

2012-05-11 02:45:33 +0200 Stephan Bosch <stephan@rename-it.nl> (568d37a7)

    Fixed compiler warning.


M	src/lib-sieve/sieve-validator.c

2012-05-04 11:40:39 +0200 Stephan Bosch <stephan@rename-it.nl> (f34cbfcc)

    LDA Sieve plugin: fixed sieve_before bug that made it only work when
    mail_debug=yes.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-05-02 01:17:49 +0200 Stephan Bosch <stephan@rename-it.nl> (8dd6c6a0)

    Fixed several small issues, including a few potential segfault bugs, based
    on static analysis. Clang static analyzer is happy now.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite.c

2012-04-30 09:10:44 +0200 Stephan Bosch <stephan@rename-it.nl> (ae68404f)

    Added support for specifying multiple sieve_before and sieve_after paths.
    Additional paths are specified by adding a sequence number (starting at 2)
    to the setting name. Added support for specifying home-relative paths for
    sieve_before and sieve_after. This enables administrators to specify
    user-specific global Sieve scripts that cannot be viewed or changed by
    virtual users.


M	INSTALL
M	README
M	doc/example-config/conf.d/90-sieve.conf
M	src/lib-sieve/sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-04-27 02:28:13 +0200 Stephan Bosch <stephan@rename-it.nl> (2881344a)

    Fixed segfault bug. Forgot to change Sieve SMTP API to use scriptenv in
    stead of script_context directly.


M	src/lib-sieve/sieve-smtp.c

2012-04-24 19:33:19 +0200 Stephan Bosch <stephan@rename-it.nl> (4a9c81b9)

    sievec tool: fixed segfault bug and another bug making it omit actually
    saving the binary.


M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-script-file.c
M	src/lib-sieve/sieve.c

2012-04-24 13:08:36 +0200 Stephan Bosch <stephan@rename-it.nl> (00d405f0)

    lib-managesieve: changed EPROTO error to EIO in ManageSieve string stream
    because it is apparently not known in BSD.


M	src/lib-managesieve/managesieve-parser.c
M	src/managesieve-login/client-authenticate.c
M	src/managesieve/cmd-putscript.c

2012-04-22 17:16:08 +0200 Stephan Bosch <stephan@rename-it.nl> (ca89209f)

    lib-sieve: fixed cleanup bug in dict script implementation.


M	src/lib-sieve/sieve-script-dict.c
M	src/lib-sieve/sieve-script.c

2012-04-22 15:36:06 +0200 Stephan Bosch <stephan@rename-it.nl> (767f2b5d)

    Finished documentation example for SQL dict script location type.


M	doc/script-location-dict.txt

2012-04-22 15:11:14 +0200 Stephan Bosch <stephan@rename-it.nl> (b714ae82)

    LDA Sieve: fixed bug in debug message.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-04-22 11:30:28 +0200 Stephan Bosch <stephan@rename-it.nl> (70256226)

    Added support for retrieving Sieve scripts from dict lookup.   - Built
    generic interface for alternative script sources.   - Implemented dict
    script location.   NOTE: ManageSieve will not work with this yet, nor will
    sieve_before/sieve_after.


M	INSTALL
M	TODO
A	doc/script-location-dict.txt
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
A	src/lib-sieve/sieve-script-dict.c
A	src/lib-sieve/sieve-script-file.c
A	src/lib-sieve/sieve-script-file.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c
M	tests/extensions/environment/basic.svtest

2012-03-26 21:07:14 +0200 Stephan Bosch <stephan@rename-it.nl> (215eb1ee)

    Updated dovecot.m4.


M	m4/dovecot.m4

2012-03-19 22:33:12 +0100 Stephan Bosch <stephan@rename-it.nl> (e5a3004b)

    sieve-tools: forgot to enable debug in error handlers.


M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c

2012-03-15 21:29:33 +0100 Stephan Bosch <stephan@rename-it.nl> (d2978b65)

    managesieve-login: fixed x86 compile warning.


M	src/managesieve-login/client-authenticate.c

2012-03-08 11:02:05 +0100 Stephan Bosch <stephan@rename-it.nl> (389e72ee)

    Added a "session ID" string for managesieve connections, available in
    %{session} variable. This change matches a similar change in Dovecot for
    IMAP/POP3. Also includes other small changes that make ManageSieve match
    IMAP implementation a little more closely.


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-common.h

2012-03-07 22:04:06 +0100 Stephan Bosch <stephan@rename-it.nl> (b00f1672)

    Gave stamp.h.in some content to prevent it from disappearing in patch files.


M	stamp.h.in

2012-02-29 22:51:56 +0100 Stephan Bosch <stephan@rename-it.nl> (985dbe10)

    Adjusted Sieve implementation and testsuite to Dovecot's new
    smtp_client_open() API.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h

2012-02-29 20:07:24 +0100 Stephan Bosch <stephan@rename-it.nl> (cf5d3ac8)

    Fixed bug that caused SunStudio CC compile failure (reported by Piotr
    Tarnowski).


M	src/lib-sieve/sieve.c

2012-02-29 20:07:24 +0100 Stephan Bosch <stephan@rename-it.nl> (36ffcba3)

    Fixed bug that caused SunStudio CC compile failure (reported by Piotr
    Tarnowski).


M	src/lib-sieve/sieve.c

2012-02-22 21:43:35 +0100 Stephan Bosch <stephan@rename-it.nl> (6dde8d4a)

    lib-sieve: made error handler part of public runtime environment.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-runtime.h

2012-02-22 21:43:35 +0100 Stephan Bosch <stephan@rename-it.nl> (cf2e9e48)

    lib-sieve: made error handler part of public runtime environment.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-runtime.h

2012-02-16 22:07:32 +0100 Stephan Bosch <stephan@rename-it.nl> (4b97b4b7)

    Added signature for changeset fe7bd7ee6c2e


M	.hgsigs

2012-02-16 22:02:56 +0100 Stephan Bosch <stephan@rename-it.nl> (5edd59df)

    Added tag 0.3.0 for changeset fe7bd7ee6c2e


2012-02-16 22:02:35 +0100 Stephan Bosch <stephan@rename-it.nl> (eb0b1b2a)

    Released v0.3.0 for Dovecot v2.1.0.


M	NEWS

2012-02-13 00:01:30 +0100 Stephan Bosch <stephan@rename-it.nl> (18eed660)

    Applied sieve-body-fix.patch. Fixes behavior of body test with multipart
    MIME body parts. Testsuite needs to be extended accordingly.


M	TODO
M	src/lib-sieve/plugins/body/ext-body-common.c

2012-02-12 23:53:31 +0100 Stephan Bosch <stephan@rename-it.nl> (dc004ab1)

    Updated to Dovecot v2.2. Updated version number to v0.4.0 and added a
    warning to configure. Applied generic-login.patch.


M	configure.in
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h

2012-01-28 14:25:41 +0100 Stephan Bosch <stephan@rename-it.nl> (9f516ae0)

    ManageSieve: cleaned up parser and updated it to match newer structure of
    imap parser.


M	src/lib-managesieve/Makefile.am
A	src/lib-managesieve/managesieve-arg.c
A	src/lib-managesieve/managesieve-arg.h
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2012-01-27 18:57:42 +0100 Stephan Bosch <stephan@rename-it.nl> (74b3be42)

    managesieve-login: matched proxy and auth_verbose changes in Dovecot.


M	src/managesieve-login/managesieve-proxy.c

2012-01-27 17:22:17 +0100 Stephan Bosch <stephan@rename-it.nl> (c4734e6a)

    testsuite: fixed compile warning.


M	src/testsuite/cmd-test-message.c

2012-01-23 00:43:37 +0100 Stephan Bosch <stephan@rename-it.nl> (a1ef6659)

    ManageSieve: fixed quota problem in previous change.


M	src/managesieve/cmd-putscript.c

2012-01-22 21:57:45 +0100 Stephan Bosch <stephan@rename-it.nl> (7f428312)

    ManageSieve: added support for reading quoted and literal strings as a
    stream. Fixes support for handing large SASL responses. Also resolves
    long-standing FIXME regarding the second parameter of PUTSCRIPT: it can now
    be a quoted string. Includes a few small changes in the login daemon that
    were done in the dovecot equivalents before.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h

2012-01-20 22:26:53 +0100 Stephan Bosch <stephan@rename-it.nl> (b684406b)

    managesieve: Added -t parameter to specify post-login script timeout
    (Dovecot change).


M	src/managesieve/main.c

2012-01-12 18:43:13 +0100 Stephan Bosch <stephan@rename-it.nl> (b55a8548)

    managesieve-login: Include hostname and timestamp in "temporary auth
    failure" message.


M	src/managesieve-login/client-authenticate.c

2012-01-07 16:35:56 +0100 Stephan Bosch <stephan@rename-it.nl> (2e952941)

    Updated copyright notices to include year 2012.


M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/edit-mail.h
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
M	src/lib-sieve/plugins/ihave/ext-ihave-common.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
M	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2012-01-07 16:01:10 +0100 Stephan Bosch <stephan@rename-it.nl> (204f7fb0)

    LDA Sieve plugin: renamed sieve_global_path setting to sieve_default for
    clarity. Old name is now deprecated. Support for the even older
    global_script_path name for this setting is dropped.


M	INSTALL
M	README
M	doc/example-config/conf.d/90-sieve.conf
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2012-01-07 12:42:01 +0100 Stephan Bosch <stephan@rename-it.nl> (ca3aa5d2)

    lib-sieve: added means to prohibit use of redirect action. Setting
    sieve_max_redirects=0 now means that redirects are prohibited rather than
    unlimited. Now there is always a limit, but it can be enormous if the
    administrator wants to.


M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf
M	src/lib-sieve/cmd-redirect.c

2012-01-06 23:20:59 +0100 Stephan Bosch <stephan@rename-it.nl> (2683ec85)

    Fixed indentation problems in documentation.


M	INSTALL
M	doc/editheader.txt
M	doc/include.txt
M	doc/spamtest-virustest.txt
M	doc/vacation.txt

2012-01-06 23:03:12 +0100 Stephan Bosch <stephan@rename-it.nl> (a7ce01ed)

    Updated documentation and example config.


M	doc/editheader.txt
M	doc/example-config/conf.d/20-managesieve.conf
M	doc/example-config/conf.d/90-sieve.conf
M	doc/spamtest-virustest.txt
M	doc/vacation.txt

2011-12-27 22:21:34 +0100 Stephan Bosch <stephan@rename-it.nl> (ae679d44)

    lib-sieve: fixed bug in message snapshots. Message substitutions would not
    always cause a proper snapshot.


M	src/lib-sieve/sieve-message.c

2011-12-27 21:29:19 +0100 Stephan Bosch <stephan@rename-it.nl> (68615e53)

    lib-sieve: fixed memory leak in previous change.


M	src/lib-sieve/sieve-message.c

2011-12-27 21:11:49 +0100 Stephan Bosch <stephan@rename-it.nl> (216f8883)

    lib-sieve: added support for substituting the entire message. This is needed
    for the new extprograms plugin.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/testsuite/testsuite-message.c

2011-12-27 11:56:25 +0100 Stephan Bosch <stephan@rename-it.nl> (6b3cd6de)

    lib-sieve-tool: mail_raw: started using mail_temp_dir setting.


M	src/lib-sieve-tool/mail-raw.c

2011-12-20 20:05:21 +0100 Stephan Bosch <stephan@rename-it.nl> (c527430b)

    lib-sieve: adjusted code fetch api for handling omitted operands better.
    Removes quite a bit of duplicated source code.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2011-12-17 18:58:48 +0100 Stephan Bosch <stephan@rename-it.nl> (afeb564b)

    lib-sieve: made uniform scriptname <-> filename conversion functions. This
    puts the ".sieve" and ".svbin" file extension definitions in a single
    locatio. IMPORTANT: this fixes a bug in the include extension that
    implicitly mapped script names like "name.sieve" to "name".


M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-binary.c
M	tests/extensions/include/errors/circular-1.sieve
M	tests/extensions/include/errors/circular-2.sieve
M	tests/extensions/include/included/circular-one.sieve
M	tests/extensions/include/included/circular-three-2.sieve
M	tests/extensions/include/included/circular-three.sieve
M	tests/extensions/include/included/circular-two.sieve
M	tests/extensions/include/included/once-2.sieve
M	tests/extensions/include/included/twice-2.sieve

2011-12-17 16:07:16 +0100 Stephan Bosch <stephan@rename-it.nl> (ab5ab2d8)

    lib-managesieve-storage: added code to cleanup tmp directory every once in a
    while. This is borrowed from Dovecot's lib-storage/index/maildir.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage.c

2011-12-17 15:04:59 +0100 Stephan Bosch <stephan@rename-it.nl> (8e9c7953)

    Fixed interaction of Sieve include extension with ManageSieve. Upon upload,
    the include extension is more lenient towards circular includes and missing
    scripts as required by RFC. The script is now also verified upon SETACTIVE
    when it was not active before. However, this new SETACTIVE behavior is not
    optimal for the situation where the active script was updated with PUTSCRIPT
    and contains an nonexistent include (ignored during upload). This can still
    cause runtime errors, since an already active script is not verified again
    during SETACTIVE.


M	TODO
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-setactive.c

2011-12-17 14:47:23 +0100 Stephan Bosch <stephan@rename-it.nl> (6469f6e6)

    lib-sieve: fixed copy-paste error in sieve_get_warnings() It returned the
    number of errors in stead of the number of warnings.


M	src/lib-sieve/sieve-error.c

2011-12-17 00:08:01 +0100 Stephan Bosch <stephan@rename-it.nl> (3c4d93f2)

    Updated man pages.


M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2011-12-16 23:40:34 +0100 Stephan Bosch <stephan@rename-it.nl> (826318f8)

    lib-sieve: made sure that modified messages are not stored in the source
    mailbox when it was opened read-only. This is currently only relevant for
    the sieve-filter tool to avoid duplicating messages in the source folder.
    This can happen when the messages are modified (e.g. by the editheader
    extension) and the source folder is opened read-only, thus preventing
    deletion of the original message.


M	src/lib-sieve/edit-mail.c
M	src/lib-sieve/sieve-actions.c

2011-12-12 21:27:59 +0100 Stephan Bosch <stephan@rename-it.nl> (be8cf864)

    lib-sieve: store action: copy flags and keywords from input mail, also when
    imap4flags extension is not active. This is currently only relevant for
    sieve-filter, which now properly preserves flags with this change.


M	src/lib-sieve/sieve-actions.c

2011-12-12 09:01:53 +0100 Stephan Bosch <stephan@rename-it.nl> (ce44f0e0)

    Updated man pages with recent extension configuration changes.


M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2011-12-12 00:49:22 +0100 Stephan Bosch <stephan@rename-it.nl> (92dff71e)

    Updated TODO.


M	TODO

2011-12-12 00:46:59 +0100 Stephan Bosch <stephan@rename-it.nl> (9ffcf2d8)

    lib-sieve: added support for restricting certain extensions to
    (admin-controled) global scripts - Added sieve_global_extensions setting.


M	INSTALL
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/managesieve/cmd-putscript.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2011-12-12 00:25:47 +0100 Stephan Bosch <stephan@rename-it.nl> (c93b0aee)

    lib-sieve: made sure error locations never report `line 0'.


M	src/lib-sieve/sieve-error.c

2011-12-12 00:23:04 +0100 Stephan Bosch <stephan@rename-it.nl> (a4372719)

    lib-sieve: fixed potention segfault occuring when interpreter initialization
    fails.


M	src/lib-sieve/sieve.c

2011-12-07 22:59:14 +0100 Stephan Bosch <stephan@rename-it.nl> (d28ae8d8)

    Completed sieve-filter tool to a useful state. - Now compiles regularly
    without --with-unfinished-features - Still experimental though, so be
    careful. - Changed command structure a bit, removing the useless -M option.


M	TODO
M	doc/man/Makefile.am
M	doc/man/sieve-filter.1.in
M	src/sieve-tools/Makefile.am
M	src/sieve-tools/sieve-filter.c

2011-12-05 22:28:54 +0100 Stephan Bosch <stephan@rename-it.nl> (3a40223e)

    lib-sieve: fixed -Wunused-but-set-variable compiler warning in edit-mail.c.


M	src/lib-sieve/edit-mail.c

2011-11-29 22:47:13 +0100 Stephan Bosch <stephan@rename-it.nl> (8f1242ad)

    lib-sieve: implementation of editheader extension completed - Updated
    documentation. - Made editheader extension disabled by default


M	INSTALL
M	TODO
A	doc/editheader.txt
M	src/lib-sieve/sieve-extensions.c

2011-11-29 22:21:13 +0100 Stephan Bosch <stephan@rename-it.nl> (eef4dfb5)

    lib-sieve: editheader: implemented configurable length limit.


M	TODO
M	src/lib-sieve/plugins/editheader/Makefile.am
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
A	src/lib-sieve/plugins/editheader/ext-editheader-limits.h
M	tests/extensions/editheader/errors.svtest
A	tests/extensions/editheader/errors/size-limit-runtime.sieve
A	tests/extensions/editheader/errors/size-limit.sieve

2011-11-29 01:10:32 +0100 Stephan Bosch <stephan@rename-it.nl> (0525a3ba)

    testsuite: editheader: fixed test name for command syntax checks.


M	tests/extensions/editheader/errors.svtest

2011-11-29 01:09:27 +0100 Stephan Bosch <stephan@rename-it.nl> (482a640e)

    lib-sieve: vacation: made vacation action header checks use the modified
    message (editheader).


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-11-29 00:57:27 +0100 Stephan Bosch <stephan@rename-it.nl> (b44d9b1d)

    testsuite: editheader: added command syntax checks.


M	TODO
M	tests/extensions/editheader/errors.svtest
A	tests/extensions/editheader/errors/command-syntax.sieve

2011-11-28 23:32:14 +0100 Stephan Bosch <stephan@rename-it.nl> (be2eed8c)

    lib-sieve: editheader: made deleteheader match ignore leading and trailing
    whitespace.


M	src/lib-sieve/edit-mail.c
M	tests/extensions/editheader/deleteheader.svtest

2011-11-28 22:13:18 +0100 Stephan Bosch <stephan@rename-it.nl> (b10608f7)

    lib-sieve: editheader: added simple configuration for protected headers.


M	Makefile.am
M	TODO
M	src/lib-sieve/plugins/editheader/Makefile.am
M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.c
M	src/lib-sieve/plugins/editheader/ext-editheader-common.h
M	src/lib-sieve/plugins/editheader/ext-editheader.c
A	tests/extensions/editheader/protected.svtest

2011-11-28 08:53:43 +0100 Stephan Bosch <stephan@rename-it.nl> (8ff3a4e3)

    lib-sieve: editheader: fixed normal implicit keep. This was broken by
    previous change. It now properly uses the final version of the message
    instead of the original.


M	src/lib-sieve/sieve-result.c
M	tests/extensions/editheader/addheader.svtest
M	tests/extensions/editheader/deleteheader.svtest

2011-11-28 00:49:01 +0100 Stephan Bosch <stephan@rename-it.nl> (d4ef9291)

    Updated TODO.


M	TODO

2011-11-28 00:40:43 +0100 Stephan Bosch <stephan@rename-it.nl> (42223b14)

    lib-sieve: editheader: fixed implicit keep after runtime error. It did not
    use the original message in this case.


M	src/lib-sieve/sieve-actions.c
M	tests/extensions/editheader/errors.svtest
A	tests/extensions/editheader/errors/runtime-error.sieve

2011-11-26 14:19:42 +0100 Stephan Bosch <stephan@rename-it.nl> (a700efef)

    testsuite: editheader extension: added various tests for folded headers.


M	tests/extensions/editheader/addheader.svtest
M	tests/extensions/editheader/deleteheader.svtest

2011-11-26 14:19:09 +0100 Stephan Bosch <stephan@rename-it.nl> (a2e5e13a)

    lib-sieve: editheader extension: fixed handling of pre-folded header values
    for added header fields.


M	src/lib-sieve/edit-mail.c

2011-11-26 14:18:05 +0100 Stephan Bosch <stephan@rename-it.nl> (a84da972)

    lib-sieve: editheader extension: fixed compile warning caused by spurious
    comma.


M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c

2011-11-26 14:06:50 +0100 Stephan Bosch <stephan@rename-it.nl> (3b45ef6c)

    testsuite: added test_message_print command to print the current message
    content.


M	src/testsuite/cmd-test-message.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h

2011-11-26 11:49:07 +0100 Stephan Bosch <stephan@rename-it.nl> (5831629a)

    testsuite: editheader extension: added error tests for header value
    verification.


M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
M	src/lib-sieve/rfc2822.c
M	tests/extensions/editheader/errors.svtest
A	tests/extensions/editheader/errors/field-value.sieve

2011-11-26 11:29:07 +0100 Stephan Bosch <stephan@rename-it.nl> (a948375b)

    lib-sieve: fixed bug caused by last change to rfc2822 header verification.


M	src/lib-sieve/rfc2822.c

2011-11-26 11:11:43 +0100 Stephan Bosch <stephan@rename-it.nl> (896a84a7)

    testsuite: editheader extension: added error tests for header field name
    verification.


M	Makefile.am
A	tests/extensions/editheader/errors.svtest
A	tests/extensions/editheader/errors/field-name-runtime.sieve
A	tests/extensions/editheader/errors/field-name.sieve

2011-11-26 11:11:02 +0100 Stephan Bosch <stephan@rename-it.nl> (69c22fa4)

    lib-sieve: editheader extension: added runtime header field name
    verification.


M	src/lib-sieve/plugins/editheader/cmd-addheader.c
M	src/lib-sieve/plugins/editheader/cmd-deleteheader.c

2011-11-26 11:09:58 +0100 Stephan Bosch <stephan@rename-it.nl> (01b034aa)

    lib-sieve: updated rfc2822 header field body verification to exclude
    non-printing characters (RFC5322).


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h

2011-11-24 00:50:11 +0100 Stephan Bosch <stephan@rename-it.nl> (5621b7cd)

    lib-sieve: editheader extension: added utf8-decoding-related testsuite item.


M	tests/extensions/editheader/utf8.svtest

2011-11-24 00:24:47 +0100 Stephan Bosch <stephan@rename-it.nl> (9e662c12)

    Added editheader support.


M	Makefile.am
M	README
M	TODO
M	configure.in
A	doc/rfc/editheader.rfc5293.txt
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
A	src/lib-sieve/edit-mail.c
A	src/lib-sieve/edit-mail.h
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/editheader/Makefile.am
A	src/lib-sieve/plugins/editheader/cmd-addheader.c
A	src/lib-sieve/plugins/editheader/cmd-deleteheader.c
A	src/lib-sieve/plugins/editheader/ext-editheader-common.c
A	src/lib-sieve/plugins/editheader/ext-editheader-common.h
A	src/lib-sieve/plugins/editheader/ext-editheader.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/testsuite-message.c
A	tests/extensions/editheader/addheader.svtest
A	tests/extensions/editheader/alternating.svtest
A	tests/extensions/editheader/deleteheader.svtest
A	tests/extensions/editheader/utf8.svtest

2011-11-19 17:51:03 +0100 Stephan Bosch <stephan@rename-it.nl> (13120b95)

    Upgraded package version to 0.3.0 and updated documentation.


M	INSTALL
M	NEWS
M	README
M	TODO
M	configure.in
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2011-11-19 17:17:20 +0100 Stephan Bosch <stephan@rename-it.nl> (28a9e0a5)

    Upgraded to Dovecot v2.1.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/sieve-actions.c
M	src/managesieve-login/client.c
M	src/testsuite/testsuite-mailstore.c

2011-11-19 17:02:15 +0100 Stephan Bosch <stephan@rename-it.nl> (8e018db3)

    Added signature for changeset 873baa85e220


M	.hgsigs

2011-11-19 16:59:41 +0100 Stephan Bosch <stephan@rename-it.nl> (6bb95846)

    Added tag 0.2.5 for changeset 873baa85e220


2011-11-19 16:59:27 +0100 Stephan Bosch <stephan@rename-it.nl> (335451a8)

    Released v0.2.5 for Dovecot v2.0.16.


M	NEWS
M	configure.in

2011-11-09 17:26:18 +0100 Stephan Bosch <stephan@rename-it.nl> (f4dd33c5)

    managesieve-login: Use default_vsz_limit instead of adding our own. This
    change matches identical changes for Dovecot's imap-login and pop3-login.


M	src/managesieve-login/managesieve-login-settings.c

2011-10-05 19:10:44 +0200 Stephan Bosch <stephan@rename-it.nl> (db06d68b)

    lib-sieve: vacation extension: further tinkered on log message about
    implicitly delivered messages.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-10-05 19:03:28 +0200 Stephan Bosch <stephan@rename-it.nl> (89f76105)

    sieve-test tool: mixed up original and final envelope recipient in actual
    implementation.


M	src/sieve-tools/sieve-test.c

2011-10-05 18:45:10 +0200 Stephan Bosch <stephan@rename-it.nl> (de64342d)

    Updated documentation of sieve tools.


M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c

2011-10-05 17:43:37 +0200 Stephan Bosch <stephan@rename-it.nl> (15423beb)

    lib-sieve: vacation extension: made discard message for implicit deliver
    more verbose.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-09-21 11:33:00 +0200 Stephan Bosch <stephan@rename-it.nl> (14132546)

    test suite: forgot to remove test_result_print command in previous change.


M	tests/extensions/vacation/message.svtest

2011-09-21 00:55:58 +0200 Stephan Bosch <stephan@rename-it.nl> (1bd391b5)

    lib-sieve: vacation: handled FIXME regarding the use of variables in the
    :handle argument. Variables are now handled correctly.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-09-21 00:54:52 +0200 Stephan Bosch <stephan@rename-it.nl> (74418886)

    test suite: added test for usage of variables in vacation command.


M	tests/extensions/vacation/message.svtest

2011-09-17 09:04:55 +0200 Stephan Bosch <stephan@rename-it.nl> (e0d8e180)

    Merged concurrent changes.


2011-09-17 00:31:55 +0200 Stephan Bosch <stephan@rename-it.nl> (d6c297c8)

    Last change did not even compile.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2011-09-17 00:00:03 +0200 Stephan Bosch <stephan@rename-it.nl> (07ef39ee)

    lda-sieve: fall back to global recipient_delimiter setting if
    plugin/recipient_delimiter is not set.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2011-09-16 17:57:56 +0200 Stephan Bosch <stephan@rename-it.nl> (b55c31f0)

    Updated TODO.


M	TODO

2011-09-14 17:18:24 +0200 Stephan Bosch <stephan@rename-it.nl> (6ce2bc3a)

    testsuite: fixed compiler warning.


M	src/testsuite/testsuite-script.c

2011-09-14 17:17:15 +0200 Stephan Bosch <stephan@rename-it.nl> (991b5875)

    body extension: fixed handling of :content message/rfc822.


M	src/lib-sieve/plugins/body/ext-body-common.c
M	tests/extensions/body/content.svtest

2011-09-13 22:43:27 +0200 Stephan Bosch <stephan@rename-it.nl> (d9c2d870)

    Added signature for changeset 0d071eaa6d5e


M	.hgsigs

2011-09-13 22:42:18 +0200 Stephan Bosch <stephan@rename-it.nl> (4c68258d)

    Added tag 0.2.4 for changeset 0d071eaa6d5e


2011-09-13 22:42:06 +0200 Stephan Bosch <stephan@rename-it.nl> (ba82a8f1)

    Released v0.2.4 for Dovecot v2.0.14.


M	NEWS
M	configure.in

2011-09-11 11:56:07 +0200 Stephan Bosch <stephan@rename-it.nl> (ea8ee4e1)

    Updated INSTALL documentation for new configuration options of the include
    extension.


M	INSTALL
A	doc/include.txt
R084	doc/rfc/draft-ietf-sieve-include-03.txt	doc/rfc/draft-ietf-sieve-include-05.txt
M	doc/vacation.txt

2011-09-11 11:39:07 +0200 Stephan Bosch <stephan@rename-it.nl> (dc31e865)

    include extension: made nesting_depth and max_includes limits configurable.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/testsuite/testsuite-script.c
M	tests/extensions/include/errors.svtest
A	tests/extensions/include/errors/depth-limit.sieve
A	tests/extensions/include/errors/include-limit.sieve
A	tests/extensions/include/included/depth-limit-1.sieve
A	tests/extensions/include/included/depth-limit-2.sieve
A	tests/extensions/include/included/depth-limit-3.sieve

2011-09-11 10:51:40 +0200 Stephan Bosch <stephan@rename-it.nl> (55f2956e)

    include extension: implemented proper configuration handling Configuration
    is now only read once at extension initialization.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/testsuite/testsuite.c
R100	tests/extensions/include/errors/included/action-fileinto.sieve	tests/extensions/include/included/action-fileinto.sieve
R100	tests/extensions/include/errors/included/action-reject.sieve	tests/extensions/include/included/action-reject.sieve
R100	tests/extensions/include/execute/included/actions-fileinto1.sieve	tests/extensions/include/included/actions-fileinto1.sieve
R100	tests/extensions/include/execute/included/actions-fileinto2.sieve	tests/extensions/include/included/actions-fileinto2.sieve
R100	tests/extensions/include/execute/included/actions-fileinto3.sieve	tests/extensions/include/included/actions-fileinto3.sieve
R100	tests/extensions/include/errors/included/circular-one.sieve	tests/extensions/include/included/circular-one.sieve
R100	tests/extensions/include/errors/included/circular-three-2.sieve	tests/extensions/include/included/circular-three-2.sieve
R100	tests/extensions/include/errors/included/circular-three-3.sieve	tests/extensions/include/included/circular-three-3.sieve
R100	tests/extensions/include/errors/included/circular-three.sieve	tests/extensions/include/included/circular-three.sieve
R100	tests/extensions/include/errors/included/circular-two-2.sieve	tests/extensions/include/included/circular-two-2.sieve
R100	tests/extensions/include/errors/included/circular-two.sieve	tests/extensions/include/included/circular-two.sieve

2011-09-11 00:41:04 +0200 Stephan Bosch <stephan@rename-it.nl> (8ea852c3)

    variables extension: fixed deinitialization problem (unfreed variable scope
    data) newly found by Valgrind.


M	src/lib-sieve/plugins/variables/ext-variables-common.c

2011-09-11 00:19:07 +0200 Stephan Bosch <stephan@rename-it.nl> (6dc92ae9)

    variables extension: fixed segfault bug triggered when dumping binary
    variable scopes.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2011-08-29 17:33:00 +0200 Stephan Bosch <stephan@rename-it.nl> (68c89690)

    Updated NEWS and README for next release.


M	NEWS
M	README

2011-08-29 17:01:44 +0200 Stephan Bosch <stephan@rename-it.nl> (e8723e76)

    Updated TODO.


M	TODO

2011-08-29 16:55:06 +0200 Stephan Bosch <stephan@rename-it.nl> (6b79318f)

    sieve: fixed debug mode; no messages were logged in some situations.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-script.c

2011-08-29 16:14:26 +0200 Stephan Bosch <stephan@rename-it.nl> (2157da61)

    sievec: forgot to enable -D (debug) parameter.


M	src/sieve-tools/sievec.c

2011-08-02 17:50:15 +0200 Stephan Bosch <stephan@rename-it.nl> (b9d4ea72)

    lib-sieve: vacation extension: finally added support for using the original
    recipient in vacation address check.


M	doc/vacation.txt
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	tests/extensions/vacation/reply.svtest

2011-08-02 16:36:06 +0200 Stephan Bosch <stephan@rename-it.nl> (123bdb04)

    lib-sieve: forgot to check for NULL recipient in previous change.


M	src/lib-sieve/cmd-redirect.c

2011-08-02 16:25:04 +0200 Stephan Bosch <stephan@rename-it.nl> (5ed91c57)

    lib-sieve: added X-Sieve-Redirected-From header for people using SPF/SRS.


M	src/lib-sieve/cmd-redirect.c

2011-07-05 20:32:28 +0200 Stephan Bosch <stephan@rename-it.nl> (3de551b5)

    lib-sieve: include extension: forgot to check variable identifier syntax.


M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	tests/extensions/include/rfc-ex2-default.sieve

2011-07-02 23:58:01 +0200 Stephan Bosch <stephan@rename-it.nl> (a755afd5)

    Merged concurrent changes.


2011-07-02 22:58:22 +0200 Stephan Bosch <stephan@rename-it.nl> (b0338390)

    Updated TODO.


M	TODO

2011-07-02 12:42:33 +0200 Stephan Bosch <stephan@rename-it.nl> (4558b7d9)

    Updated documentation.


M	NEWS
M	README

2011-06-29 00:55:48 +0200 Stephan Bosch <stephan@rename-it.nl> (a454ba13)

    lib-sieve: variables extension: fixed -Wunused-but-set-variable compiler
    warning.


M	src/lib-sieve/plugins/variables/ext-variables-common.c

2011-06-26 23:23:33 +0200 Stephan Bosch <stephan@rename-it.nl> (9ea19c87)

    Added ihave RFC to repository.


A	doc/rfc/ihave.rfc5463.txt

2011-06-26 23:07:33 +0200 Stephan Bosch <stephan@rename-it.nl> (3aa7648d)

    lib-sieve: finished ihave extension.


M	Makefile.am
M	src/lib-sieve/plugins/ihave/Makefile.am
A	src/lib-sieve/plugins/ihave/cmd-error.c
M	src/lib-sieve/plugins/ihave/ext-ihave-common.h
M	src/lib-sieve/plugins/ihave/ext-ihave.c
M	src/lib-sieve/plugins/ihave/tst-ihave.c
A	tests/extensions/ihave/errors.svtest
A	tests/extensions/ihave/errors/error.sieve
A	tests/extensions/ihave/restrictions.svtest

2011-06-26 22:35:31 +0200 Stephan Bosch <stephan@rename-it.nl> (3c1c2d99)

    Updated TODO list.


M	TODO

2011-06-26 22:34:09 +0200 Stephan Bosch <stephan@rename-it.nl> (d4685130)

    lib-sieve: implemented ihave extension.


M	Makefile.am
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/ihave/Makefile.am
A	src/lib-sieve/plugins/ihave/ext-ihave-binary.c
A	src/lib-sieve/plugins/ihave/ext-ihave-binary.h
A	src/lib-sieve/plugins/ihave/ext-ihave-common.c
A	src/lib-sieve/plugins/ihave/ext-ihave-common.h
A	src/lib-sieve/plugins/ihave/ext-ihave.c
A	src/lib-sieve/plugins/ihave/tst-ihave.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
A	tests/extensions/ihave/execute.svtest
A	tests/extensions/ihave/execute/ihave.sieve

2011-06-26 17:07:53 +0200 Stephan Bosch <stephan@rename-it.nl> (a2e42ebd)

    lib-sieve: optimized compilation of tests that yield constant results (i.e.
    known at compile tme), such as true and false. If the result of a test is
    known at compile time, it is optimized away. If an if-command depends on an
    entirely constant test, it is optimized away as well, causing only the
    'true' sub-block to be compiled.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c
M	tests/control-if.svtest
M	tests/test-allof.svtest
M	tests/test-anyof.svtest

2011-06-22 22:17:28 +0200 Stephan Bosch <stephan@rename-it.nl> (249742c5)

    Sieve tools: started using mail_namespaces_init_location instead of
    mail_namespaces_init_empty.


M	src/lib-sieve-tool/sieve-tool.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2011-06-22 19:56:29 +0200 Stephan Bosch <stephan@rename-it.nl> (939bf15e)

    lib-sieve: made sure that flags and keywords are only checked when the
    mailbox is actually opened.


M	src/lib-sieve/sieve-actions.c

2011-06-22 19:33:49 +0200 Stephan Bosch <stephan@rename-it.nl> (273cce20)

    Finished testsuite item for the imap4flags extension.


M	tests/extensions/imap4flags/execute.svtest

2011-06-21 17:18:58 +0200 Stephan Bosch <stephan@rename-it.nl> (4abd9c16)

    Fixed a few minor textual problems in the manual pages.


M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2011-06-06 16:59:39 +0200 Stephan Bosch <stephan@rename-it.nl> (59eb6248)

    Made vnd.dovecot.debug extension available to the LDA plugin instead of only
    the command line tools.


M	Makefile.am
M	configure.in
M	doc/man/sieve-test.1.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/vnd.dovecot/Makefile.am
R085	src/sieve-tools/debug/Makefile.am	src/lib-sieve/plugins/vnd.dovecot/debug/Makefile.am
R063	src/sieve-tools/debug/cmd-debug-print.c	src/lib-sieve/plugins/vnd.dovecot/debug/cmd-debug-log.c
R051	src/sieve-tools/debug/ext-debug-common.h	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug-common.h
A	src/lib-sieve/plugins/vnd.dovecot/debug/ext-debug.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/sieve-tools/Makefile.am
D	src/sieve-tools/debug/ext-debug.c
D	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-log.c
A	tests/extensions/vnd.dovecot/debug/execute.svtest

2011-05-11 19:26:57 +0200 Stephan Bosch <stephan@rename-it.nl> (7f56af7a)

    Sieve Storage: improved handling of unconfigured user home directory.


M	src/lib-sievestorage/sieve-storage.c
M	src/managesieve/managesieve-client.c

2011-05-10 21:36:47 +0200 Stephan Bosch <stephan@rename-it.nl> (0964cb6c)

    Imap4flags: previous change was inadequate.


M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-validator.c

2011-05-09 20:56:08 +0200 Stephan Bosch <stephan@rename-it.nl> (94aef858)

    Imap4flags: prevent forcibly enabling imap4flags when imapflags is enabled.


M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2011-04-14 22:45:40 +0200 Stephan Bosch <stephan@rename-it.nl> (021b7f00)

    Added signature for changeset 3ab2a125e1e2


M	.hgsigs

2011-04-14 22:44:05 +0200 Stephan Bosch <stephan@rename-it.nl> (cd48584b)

    Added tag 0.2.3 for changeset 3ab2a125e1e2


2011-04-14 22:43:50 +0200 Stephan Bosch <stephan@rename-it.nl> (1ef3f05a)

    Released v0.2.3 for Dovecot v2.0.12.


M	configure.in

2011-04-14 21:32:01 +0200 Stephan Bosch <stephan@rename-it.nl> (9dea325c)

    Prepared NEWS file for next release.


M	NEWS

2011-04-14 21:31:34 +0200 Stephan Bosch <stephan@rename-it.nl> (4eedbc27)

    Small changes to the INSTALL file regarding configuration of vacation
    extension.


M	INSTALL

2011-04-14 21:27:22 +0200 Stephan Bosch <stephan@rename-it.nl> (e4eb532d)

    Updated RFC for vacation-seconds extension.


R053	doc/rfc/draft-ietf-sieve-vacation-seconds-03.txt	doc/rfc/vacation-seconds.rfc6131.txt

2011-04-14 21:26:42 +0200 Stephan Bosch <stephan@rename-it.nl> (43706eb0)

    Restructured extension-specific install documentation.


M	doc/spamtest-virustest.txt
M	doc/vacation.txt

2011-04-13 01:00:10 +0200 Stephan Bosch <stephan@rename-it.nl> (780eded2)

    Managesieve-login: increased dump-capability time-out from 5 to 60 s.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2011-04-10 17:28:14 +0200 Stephan Bosch <stephan@rename-it.nl> (589fdabb)

    managsieve-login: Reduced the max. number of allowed bad commands.


M	src/managesieve-login/client.c

2011-03-22 22:25:11 +0100 Stephan Bosch <stephan@rename-it.nl> (2e939b67)

    Sieve tools: avoid initializing mail store (namespaces) for sievec and
    sieve-dump.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite.c

2011-03-22 22:08:55 +0100 Stephan Bosch <stephan@rename-it.nl> (f433f945)

    Fixed various compile warnings related to spurious semicolons and
    inappropriate variable initialization.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-result.c
M	src/testsuite/cmd-test-message.c

2011-03-05 14:48:20 +0100 Stephan Bosch <stephan@rename-it.nl> (d1b70d7b)

    Updated copyright notices to include year 2011.


M	doc/man/pigeonhole.7.in
M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/copy/sieve-ext-copy.h
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/sieve-tools/debug/ext-debug-common.h
M	src/sieve-tools/debug/ext-debug.c
M	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-action.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2011-03-02 17:42:53 +0100 Stephan Bosch <stephan@rename-it.nl> (1d6239be)

    Fixed segfault bug in extension configuration, triggered when unknown
    extension is mentioned in sieve_extensions setting.


M	src/lib-sieve/sieve-extensions.c

2011-02-23 22:59:40 +0100 Stephan Bosch <stephan@rename-it.nl> (508398e7)

    Sieve-filter tool: forgot to enable -u option.


M	src/sieve-tools/sieve-filter.c

2011-02-23 11:17:50 +0100 Stephan Bosch <stephan@rename-it.nl> (c51569ee)

    Fixed some more minor problems in the man pages (patch by Pascal Volk).


M	doc/man/Makefile.am
M	doc/man/sieve-filter.1.in

2011-02-23 01:26:55 +0100 Stephan Bosch <stephan@rename-it.nl> (3097e3e2)

    Fixed some minor problems in the man pages (patch by Pascal Volk).


M	doc/man/sieve-dump.1.in
M	doc/man/sieve-filter.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2011-02-20 16:42:17 +0100 Stephan Bosch <stephan@rename-it.nl> (38fb3da0)

    Vacation extension: added test for proper From: address when replying for
    Cc'd e-mail.


M	tests/extensions/vacation/smtp.svtest

2011-02-19 08:45:13 +0100 Stephan Bosch <stephan@rename-it.nl> (ac5245ff)

    ManageSieve: fixed problems in previous change; utf-8 was actually denied
    completely.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-quote.c

2011-02-18 14:03:28 +0100 Stephan Bosch <stephan@rename-it.nl> (2a321138)

    ManageSieve: now using Dovecot API for UTF-8 validity checks.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c

2011-02-18 02:58:43 +0100 Stephan Bosch <stephan@rename-it.nl> (e3d57260)

    Fixed potential segfault in extension registry.


M	src/lib-sieve/sieve-extensions.c

2011-02-17 21:12:44 +0100 Stephan Bosch <stephan@rename-it.nl> (5d67c89d)

    ManageSieve: fixed bug in UTF-8 checking of string values.


M	src/lib-managesieve/managesieve-parser.c

2011-02-13 10:27:11 +0100 Stephan Bosch <stephan@rename-it.nl> (2cbeec33)

    Sieve filter tool: finished basic functionality.


M	TODO
M	doc/man/sieve-filter.1.in
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c

2011-02-11 09:24:12 +0100 Stephan Bosch <stephan@rename-it.nl> (015073d0)

    Fixed bug in parsing of duration settings.


M	src/lib-sieve/sieve-settings.c

2011-02-09 19:38:58 +0100 Stephan Bosch <stephan@rename-it.nl> (5bae97dc)

    Testsuite: fixed prefix of -E option info log output.


M	src/testsuite/testsuite-log.c

2011-02-09 19:32:28 +0100 Stephan Bosch <stephan@rename-it.nl> (6d3c929f)

    Vacation extension: added tests for reply filtering test suite.


M	Makefile.am
A	tests/extensions/vacation/reply.svtest

2011-02-09 19:31:36 +0100 Stephan Bosch <stephan@rename-it.nl> (674599b9)

    Vacation extension: now inhibits replies to messages from sender listed in
    :addresses.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-02-09 19:29:43 +0100 Stephan Bosch <stephan@rename-it.nl> (f9b1c10e)

    Testsuite: added info log output to -E command line option.


M	src/testsuite/testsuite-log.c

2011-01-26 00:51:55 +0100 Stephan Bosch <stephan@rename-it.nl> (bc3d93c5)

    Sieve tools: prevent automatically creating mail storage.


M	src/lib-sieve-tool/sieve-tool.c

2011-01-25 02:44:29 +0100 Stephan Bosch <stephan@rename-it.nl> (db97d27a)

    Vacation-seconds extension: added specification to doc/rfc.


A	doc/rfc/draft-ietf-sieve-vacation-seconds-03.txt

2011-01-25 02:43:25 +0100 Stephan Bosch <stephan@rename-it.nl> (0d74a9e9)

    Vacation extension: implemented the (draft) vacation-seconds extension.


M	INSTALL
M	doc/vacation.txt
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
A	src/lib-sieve/plugins/vacation/ext-vacation-seconds.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	tests/extensions/vacation/execute.svtest
A	tests/extensions/vacation/execute/seconds.sieve

2011-01-25 01:27:01 +0100 Stephan Bosch <stephan@rename-it.nl> (3817e2b0)

    Vacation extension: added default period configuration setting and fixed a
    limit bug.


M	doc/vacation.txt
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h

2011-01-25 01:05:28 +0100 Stephan Bosch <stephan@rename-it.nl> (000ee266)

    Vacation extension: added min/max period configuration settings and changed
    the internal unit from days to seconds.


M	INSTALL
M	doc/Makefile.am
A	doc/vacation.txt
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
A	src/lib-sieve/plugins/vacation/ext-vacation-common.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h

2011-01-24 23:39:32 +0100 Stephan Bosch <stephan@rename-it.nl> (ccceee98)

    Restructured settings parsing and added parsing support for duration
    settings.


M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h

2011-01-23 13:44:13 +0100 Stephan Bosch <stephan@rename-it.nl> (e20025dc)

    Copy extension: previous change was incomplete and broken.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/copy/ext-copy.c

2011-01-23 13:40:33 +0100 Stephan Bosch <stephan@rename-it.nl> (e2e385f5)

    Merged concurrent changes.


2011-01-23 13:39:50 +0100 Stephan Bosch <stephan@rename-it.nl> (acf7285a)

    Copy extension: added public interface for adding the :copy tag to new
    commands.


M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/copy/ext-copy.c
A	src/lib-sieve/plugins/copy/sieve-ext-copy.h

2011-01-19 17:37:43 +0100 Stephan Bosch <stephan@rename-it.nl> (b67b1843)

    Enotify: mailto: fixed inappropriate return type in URI parse function, also
    fixing ARM compiler warning.


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2011-01-18 21:46:08 +0100 Stephan Bosch <stephan@rename-it.nl> (f22c14f5)

    Notify extension: fixed duplicate variable declaration.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2011-01-06 15:50:31 +0100 Stephan Bosch <stephan@rename-it.nl> (7f771cb4)

    ManageSieve: removed TODO status of adding ANONYMOUS SASL support, since the
    RFC specification no longer describes it.


M	README
M	TODO
M	src/managesieve-login/client-authenticate.c

2011-01-04 12:51:58 +0100 Stephan Bosch <stephan@rename-it.nl> (86eb5660)

    Vacation: fixed handling of sendmail errors.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-01-01 15:51:21 +0100 Stephan Bosch <stephan@rename-it.nl> (2153efc9)

    Deprecated notify extension: reverted previous change as address is used for
    the notification in stead of being actually parsed.


M	src/lib-sieve/plugins/notify/ext-notify-common.c

2011-01-01 15:21:44 +0100 Stephan Bosch <stephan@rename-it.nl> (adc6c8ce)

    Removed header MIME-decoding for other instances where addresses need to be
    parsed.


M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2011-01-01 14:10:53 +0100 Stephan Bosch <stephan@rename-it.nl> (a2d09e04)

    Address test: removed header MIME-decoding to prevent address parsing
    problems.


M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	tests/test-address.svtest

2010-12-07 00:05:50 +0100 Stephan Bosch <stephan@rename-it.nl> (d1b2051a)

    Added signature for changeset df8b38da248c


M	.hgsigs

2010-12-07 00:04:57 +0100 Stephan Bosch <stephan@rename-it.nl> (d70e7597)

    Added tag 0.2.2 for changeset df8b38da248c


2010-12-07 00:04:27 +0100 Stephan Bosch <stephan@rename-it.nl> (c70867fb)

    Released v0.2.2 for Dovecot v2.0.8.


M	NEWS
M	configure.in

2010-12-03 22:24:06 +0100 Stephan Bosch <stephan@rename-it.nl> (b17db543)

    Prepared NEWS file for next release.


M	NEWS

2010-12-01 00:46:31 +0100 Stephan Bosch <stephan@rename-it.nl> (35cdc868)

    LDA Sieve plugin: started using Dovecot reject API.


M	TODO
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-12-01 00:34:47 +0100 Stephan Bosch <stephan@rename-it.nl> (2f20241f)

    Fixed segfault caused by previous fix.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-11-30 22:49:57 +0100 Stephan Bosch <stephan@rename-it.nl> (e043367a)

    LDA Sieve plugin: fixed memory leak at deinitialization (patch by Timo
    Sirainen).


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-11-22 17:03:28 +0100 Stephan Bosch <stephan@rename-it.nl> (6282f9cc)

    managesieve: Fixed giving any -parameters (analogoues to Dovecot fix).


M	src/managesieve/main.c

2010-11-16 22:09:02 +0100 Stephan Bosch <stephan@rename-it.nl> (7d1c5a0a)

    Services' default vsz_limit wasn't actually using default_vsz_limit but
    rather 4 GB.


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-settings.c

2010-11-16 22:08:10 +0100 Stephan Bosch <stephan@rename-it.nl> (1ffebb22)

    "Running standalone?" check now uses a new DOVECOT_CHILD_PROCESS environment
    rather than GENERATION. The GENERATION environment was already set in some
    systems for Java.


M	src/managesieve/main.c

2010-11-03 17:54:07 +0100 Stephan Bosch <stephan@rename-it.nl> (ad495903)

    Avoids potential problems if auth process crashes and service_count > 1
    (patch by Timo Sirainen).


M	src/managesieve/main.c

2010-10-17 10:21:13 +0200 Stephan Bosch <stephan@rename-it.nl> (84d7b77c)

    Sieve-filter: minor addition to the man page.


M	doc/man/sieve-filter.1.in

2010-10-16 21:19:51 +0200 Stephan Bosch <stephan@rename-it.nl> (600afb87)

    Sieve-filter: implemented basic filtering with source mailbox actions.


M	doc/man/sieve-filter.1.in
M	src/sieve-tools/sieve-filter.c

2010-10-01 19:04:32 +0200 Stephan Bosch <stephan@rename-it.nl> (e56cdec7)

    Sieve-filter: fixed tool compilation and further developed tool design.


M	TODO
M	doc/man/sieve-filter.1.in
M	src/sieve-tools/sieve-filter.c

2010-10-01 19:03:08 +0200 Stephan Bosch <stephan@rename-it.nl> (af388430)

    Sieve tools: fixed help text for sieve-test command and some minor
    adjustments.


M	src/lib-sieve-tool/sieve-tool.c
M	src/sieve-tools/sieve-test.c

2010-09-30 23:21:54 +0200 Stephan Bosch <stephan@rename-it.nl> (65f870bf)

    Sieve-filter: updated man page.


M	doc/man/sieve-filter.1.in

2010-09-30 21:11:34 +0200 Stephan Bosch <stephan@rename-it.nl> (d751082c)

    Imap4flags: fixed segfault bug occuring in multiscript context.


M	src/lib-sieve/plugins/imap4flags/tag-flags.c

2010-09-28 22:50:04 +0200 Stephan Bosch <stephan@rename-it.nl> (2d23339a)

    Improved ManageSieve config example; 'sieve' is added to protocols setting
    in 20-managesieve.conf now.


M	doc/example-config/conf.d/20-managesieve.conf

2010-09-28 22:24:35 +0200 Stephan Bosch <stephan@rename-it.nl> (623f5a9b)

    ManageSieve: added settings plugin version checking.


M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve/managesieve-settings.c

2010-09-27 01:50:24 +0200 Stephan Bosch <stephan@rename-it.nl> (f69eeb68)

    Added signature for changeset d768f911252d


A	.hgsigs

2010-09-27 01:44:09 +0200 Stephan Bosch <stephan@rename-it.nl> (e545e840)

    Added tag 0.2.1 for changeset d768f911252d


2010-09-27 01:43:24 +0200 Stephan Bosch <stephan@rename-it.nl> (5d3a336f)

    Released v0.2.1 for Dovecot v2.0.4.


M	NEWS
M	configure.in

2010-09-27 00:19:45 +0200 Stephan Bosch <stephan@rename-it.nl> (7c2ccf0b)

    LDA Sieve plugin: added _version symbol to enable Dovecot version checking.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-23 16:54:02 +0200 Stephan Bosch <stephan@rename-it.nl> (b339695c)

    LDA Sieve plugin: updated wiki link in error message.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-23 16:46:40 +0200 Stephan Bosch <stephan@rename-it.nl> (9374a431)

    LDA Sieve plugin: turned debug message into an error and added script path
    information.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-17 23:12:05 +0200 Stephan Bosch <stephan@rename-it.nl> (36e3798d)

    Incorporated distinction between original and final envelope recipient in
    Sieve interpreter, as recently introduced in Dovecot.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-message.c

2010-09-17 22:05:33 +0200 Stephan Bosch <stephan@rename-it.nl> (59568b9d)

    Regex: added support for variable regex keys.


M	TODO
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	tests/compile/errors.svtest
M	tests/compile/errors/unsupported.sieve
M	tests/extensions/regex/basic.svtest
M	tests/extensions/regex/errors.svtest
A	tests/extensions/regex/errors/runtime.sieve

2010-09-17 21:20:37 +0200 Stephan Bosch <stephan@rename-it.nl> (52b7dd1a)

    Fixed comparator/match-type macro mixup.


M	src/lib-sieve/tst-header.c

2010-09-13 02:48:50 +0200 Stephan Bosch <stephan@rename-it.nl> (7b49dde4)

    Fixed unnecessary reporting of dummy extensions in ManageSieve SIEVE
    capability.


M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2010-09-10 02:04:17 +0200 Stephan Bosch <stephan@rename-it.nl> (c1362376)

    Added tag 0.2.0 for changeset 7bdabe6f9757


2010-09-10 02:04:11 +0200 Stephan Bosch <stephan@rename-it.nl> (7202ebb9)

    Released v0.2.0 for Dovecot v2.0.2.


M	NEWS
M	TODO
M	configure.in

2010-09-10 00:33:03 +0200 Stephan Bosch <stephan@rename-it.nl> (c275ef53)

    Updated the Compile section of the INSTALL file.


M	INSTALL

2010-09-10 00:16:10 +0200 Stephan Bosch <stephan@rename-it.nl> (8a0316ba)

    Fixed make distcheck to work.


M	configure.in
M	m4/dovecot.m4

2010-09-09 23:59:56 +0200 Stephan Bosch <stephan@rename-it.nl> (f53adf75)

    Removed --enable-header-install setting.


M	Makefile.am
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am

2010-09-09 09:24:40 +0200 Stephan Bosch <stephan@rename-it.nl> (6cc8c323)

    Fixed series of AIX compiler warnings.


M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-plugins.c

2010-09-08 23:27:57 +0200 Stephan Bosch <stephan@rename-it.nl> (7be6741e)

    Added a few missing NEWS items and fixed some formatting issues.


M	NEWS

2010-09-08 20:58:01 +0200 Stephan Bosch <stephan@rename-it.nl> (c52eebe2)

    Updated README documentation.


M	README

2010-09-08 20:52:38 +0200 Stephan Bosch <stephan@rename-it.nl> (b7df21ba)

    Updated INSTALL documentation.


M	INSTALL

2010-09-08 20:04:56 +0200 Stephan Bosch <stephan@rename-it.nl> (4467bb97)

    ManageSieve: fixed dump-capability problem occuring when using a custom
    config file (patch by Timo Sirainen).


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-09-06 18:36:25 +0200 Stephan Bosch <stephan@rename-it.nl> (f302ee17)

    Sieve-dump: added support for producing per-block hexdump output.


M	doc/man/sieve-dump.1.in
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-tools/sieve-dump.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite.c

2010-09-05 21:37:41 +0200 Stephan Bosch <stephan@rename-it.nl> (9772fd7f)

    Added support for critical runtime errors.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2010-09-05 17:57:17 +0200 Stephan Bosch <stephan@rename-it.nl> (b3f447ee)

    Error handling: don't log user message of critical error to system log.


M	src/lib-sieve/sieve-error.c

2010-09-05 17:53:16 +0200 Stephan Bosch <stephan@rename-it.nl> (8fe5d7a2)

    Sieve plugin: only refer to user log for compile error details when there is
    actually a compile error.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-05 16:27:06 +0200 Stephan Bosch <stephan@rename-it.nl> (831fd560)

    Final preparations for 0.2 release.


M	NEWS
M	TODO

2010-09-05 15:11:13 +0200 Stephan Bosch <stephan@rename-it.nl> (c31f7561)

    Sieve plugin: simplified system error handling.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/plugins/lda-sieve/Makefile.am
D	src/plugins/lda-sieve/lda-sieve-log.c
D	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-05 14:24:19 +0200 Stephan Bosch <stephan@rename-it.nl> (87c1022c)

    Simplified error handling; in particular the changes in the preceeding
    commits.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sievestorage/sieve-storage.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/testsuite/testsuite-log.c

2010-09-04 14:53:35 +0200 Stephan Bosch <stephan@rename-it.nl> (ea639eaf)

    Fixed runtime error logging not to report user-caused errors to the master
    log.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-validator.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-09-04 14:51:35 +0200 Stephan Bosch <stephan@rename-it.nl> (6eb224c4)

    Made global system error handler state part of Sieve instance.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-size.c
M	src/lib-sievestorage/sieve-storage.c
M	src/managesieve/cmd-putscript.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-mailstore.c

2010-09-03 17:58:23 +0200 Stephan Bosch <stephan@rename-it.nl> (cc2c8e27)

    Fixed default Sieve capability: extra extensions spamtest, spamtestplus and
    virustest were also enabled by default.


M	src/lib-sieve/sieve-extensions.c

2010-08-30 10:34:37 +0200 Stephan Bosch <stephan@rename-it.nl> (95154243)

    Finished FIXME review.


M	TODO

2010-08-30 10:30:47 +0200 Stephan Bosch <stephan@rename-it.nl> (25293c5a)

    Fixed FIXME: fileinto folder name utf-8 validity is now checked at
    compiletime or runtime.


M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-actions.c

2010-08-30 10:13:54 +0200 Stephan Bosch <stephan@rename-it.nl> (b75d2e74)

    Made sure that store action logs both UTF-8 and mUTF-7 names when
    applicable.


M	src/lib-sieve/sieve-actions.c

2010-08-30 09:20:44 +0200 Stephan Bosch <stephan@rename-it.nl> (4897d7b0)

    Fixed FIXME: added runtime warning for erroneous :addresses item.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2010-08-30 03:15:57 +0200 Stephan Bosch <stephan@rename-it.nl> (d0d60d62)

    Removed spurious source file.


D	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2010-08-30 03:13:29 +0200 Stephan Bosch <stephan@rename-it.nl> (741f13eb)

    Fixed FIXME: Date test now reports warning when invalid zone argument is
    encountered at runtime.


M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2010-08-30 02:52:49 +0200 Stephan Bosch <stephan@rename-it.nl> (a629c533)

    Fixed FIXME: Imap4flags extension now checks flag keyword syntax before the
    message is stored.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c

2010-08-30 02:37:07 +0200 Stephan Bosch <stephan@rename-it.nl> (66f356ab)

    Modified TODO item.


M	TODO
M	src/lib-sieve/ext-reject.c

2010-08-30 02:33:26 +0200 Stephan Bosch <stephan@rename-it.nl> (d5880b7c)

    Fixed FIXME: when redirect address is a variable, it is checked for validity
    at runtime.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-address-parts.c
M	src/managesieve/cmd-putscript.c

2010-08-30 02:18:54 +0200 Stephan Bosch <stephan@rename-it.nl> (dda5cd20)

    Simplified runtime command script location querying.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c

2010-08-29 11:34:40 +0200 Stephan Bosch <stephan@rename-it.nl> (c84b56d1)

    Testsuite: partly cleaned up test scripts (rest is post-v0.2).


M	Makefile.am
M	TODO
D	tests/address.svtest
D	tests/comparators/core.svtest
A	tests/comparators/i-ascii-casemap.svtest
A	tests/comparators/i-octet.svtest
M	tests/compile/errors.svtest
M	tests/compile/errors/match-type.sieve
M	tests/compile/recover.svtest
M	tests/compile/recover/commands-endblock.sieve
M	tests/compile/recover/commands-semicolon.sieve
M	tests/compile/recover/tests-endcomma.sieve
M	tests/compile/warnings.svtest
M	tests/compile/warnings/eof.sieve
M	tests/compile/warnings/invalid-headers.sieve
A	tests/control-if.svtest
A	tests/control-stop.svtest
D	tests/control-structures.svtest
M	tests/deprecated/imapflags/execute.svtest
M	tests/deprecated/notify/denotify.svtest
M	tests/execute/smtp.svtest
D	tests/exists.svtest
M	tests/extensions/encoded-character.svtest
M	tests/extensions/envelope.svtest
M	tests/extensions/imap4flags/basic.svtest
M	tests/extensions/imap4flags/flagstore.svtest
M	tests/extensions/imap4flags/flagstring.svtest
M	tests/extensions/imap4flags/multiscript.svtest
M	tests/extensions/imap4flags/multiscript/group-spam.sieve
M	tests/extensions/imap4flags/multiscript/sent-store.sieve
M	tests/extensions/include/included/rfc-ex1-always_allow.sieve
M	tests/extensions/include/included/rfc-ex1-mailing_lists.sieve
M	tests/extensions/regex/match-values.svtest
M	tests/extensions/relational/basic.svtest
M	tests/extensions/relational/comparators.svtest
M	tests/extensions/spamvirustest/virustest.svtest
M	tests/extensions/subaddress/basic.svtest
M	tests/extensions/subaddress/config.svtest
M	tests/extensions/vacation/execute/no-handle.sieve
D	tests/header.svtest
M	tests/match-types/contains.svtest
M	tests/multiscript/conflicts.svtest
D	tests/size.svtest
A	tests/test-address.svtest
A	tests/test-allof.svtest
A	tests/test-anyof.svtest
A	tests/test-exists.svtest
A	tests/test-header.svtest
A	tests/test-size.svtest
M	tests/testsuite.svtest

2010-08-28 13:13:16 +0200 Stephan Bosch <stephan@rename-it.nl> (329f4c13)

    Testsuite: made command syntax more uniform.


M	TODO
M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-mailbox.c
D	src/testsuite/cmd-test-result-print.c
D	src/testsuite/cmd-test-result-reset.c
A	src/testsuite/cmd-test-result.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
R076	src/testsuite/tst-test-result.c	src/testsuite/tst-test-result-action.c
M	tests/deprecated/notify/execute.svtest
M	tests/execute/actions.svtest
M	tests/execute/errors.svtest
M	tests/execute/examples.svtest
M	tests/extensions/enotify/execute.svtest
M	tests/extensions/imap4flags/execute.svtest
M	tests/extensions/include/execute.svtest
M	tests/extensions/mailbox/execute.svtest
M	tests/extensions/reject/execute.svtest
M	tests/extensions/spamvirustest/spamtest.svtest
M	tests/extensions/spamvirustest/spamtestplus.svtest
M	tests/extensions/spamvirustest/virustest.svtest
M	tests/extensions/subaddress/config.svtest
M	tests/extensions/vacation/execute.svtest
M	tests/multiscript/basic.svtest
M	tests/multiscript/conflicts.svtest

2010-08-27 22:33:52 +0200 Stephan Bosch <stephan@rename-it.nl> (0a7d1584)

    doc/man/sievec.1.in: fixed roff error caused by unescaped '-' (patch by Mike
    Abbott).


M	doc/man/sievec.1.in

2010-08-27 22:25:19 +0200 Stephan Bosch <stephan@rename-it.nl> (3e05feb7)

    ManageSieve: settings plugin, capability dump: argument array for execv was
    too short by one element.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-08-27 22:22:11 +0200 Stephan Bosch <stephan@rename-it.nl> (c03182c9)

    Forgot to add manpage preprocessor and includes to distribution.


M	doc/man/Makefile.am

2010-08-26 00:35:19 +0200 Stephan Bosch <stephan@rename-it.nl> (38837035)

    Removed spurious old stdio.h (top) includes; these cause compile issues on
    specific systems.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve.h
M	src/lib-sievestorage/sieve-storage-list.h

2010-08-23 19:26:12 +0200 Stephan Bosch <stephan@rename-it.nl> (1cbc2470)

    Fixed Sieve script name checking to properly handle length issues and added
    0x00ff as invalid character.


M	src/lib-sieve/sieve-script.c
M	src/managesieve/cmd-putscript.c

2010-08-23 19:21:04 +0200 Stephan Bosch <stephan@rename-it.nl> (97d88d9c)

    ManageSieve: fixed putscript error in previous commit.


M	src/managesieve/cmd-putscript.c

2010-08-23 18:50:58 +0200 Stephan Bosch <stephan@rename-it.nl> (b71803b2)

    Enforced ManageSieve protocol syntax better with some of the commands; some
    commands still allowed spurious extra arguments.


M	TODO
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2010-08-23 09:10:11 +0200 Stephan Bosch <stephan@rename-it.nl> (f1e6fa4b)

    Cleaned up manpages and fixed various issues (patch by Pascal Volk). - No
    longer track the generated pigeonhole.7 - Some makes don't like the 'handy'
    notation that was used. - Deleted trailing spaces - Escaped some dashes -
    Replaced some ' and " by \(aq and \(dq - Sorted manual pages in section 'See
    also'   (first list all man pages from the lowest section (1)   alphabetical
    sorted, then the next section …)


M	.hgignore
M	doc/man/Makefile.am
D	doc/man/pigeonhole.7
M	doc/man/pigeonhole.7.in
M	doc/man/sieve-dump.1.in
M	doc/man/sieve-test.1.in
M	doc/man/sievec.1.in

2010-08-23 00:27:08 +0200 Stephan Bosch <stephan@rename-it.nl> (a8e800d9)

    Update man pages to match style and content of Dovecot man pages.


M	.hgignore
M	TODO
M	doc/man/Makefile.am
A	doc/man/pigeonhole.7
A	doc/man/pigeonhole.7.in
A	doc/man/reporting-bugs.inc
A	doc/man/sed.sh
D	doc/man/sieve-dump.1
A	doc/man/sieve-dump.1.in
R097	doc/man/sieve-filter.1	doc/man/sieve-filter.1.in
D	doc/man/sieve-test.1
A	doc/man/sieve-test.1.in
D	doc/man/sievec.1
A	doc/man/sievec.1.in

2010-08-21 23:23:35 +0200 Stephan Bosch <stephan@rename-it.nl> (26d81be2)

    Added manpage redirection for sieved.


A	doc/man/sieved.1

2010-08-21 21:51:00 +0200 Stephan Bosch <stephan@rename-it.nl> (94482626)

    Renamed sieved tool to sieve-dump.


M	.hgignore
M	NEWS
M	README
M	doc/man/Makefile.am
R086	doc/man/sieved.1	doc/man/sieve-dump.1
M	doc/man/sieve-filter.1
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	src/sieve-tools/Makefile.am
R090	src/sieve-tools/sieved.c	src/sieve-tools/sieve-dump.c

2010-08-19 18:04:22 +0200 Stephan Bosch <stephan@rename-it.nl> (7358244b)

    Updated documentation for upcoming release.


M	INSTALL
M	NEWS
M	README

2010-08-17 19:03:36 +0200 Stephan Bosch <stephan@rename-it.nl> (cf7807b2)

    Added quota and limit configuration to config file examples.


M	doc/example-config/conf.d/20-managesieve.conf
M	doc/example-config/conf.d/90-sieve.conf

2010-08-17 18:48:30 +0200 Stephan Bosch <stephan@rename-it.nl> (72d4847e)

    Removed superfluous text from AUTHORS file.


M	AUTHORS

2010-08-17 18:32:23 +0200 Stephan Bosch <stephan@rename-it.nl> (0e9baf99)

    Moved finishing the ereject extension off the pre-v0.2.0 TODO list.


M	TODO

2010-08-17 18:30:17 +0200 Stephan Bosch <stephan@rename-it.nl> (62c79e4b)

    Updated documentation.


M	INSTALL
M	README

2010-08-17 17:46:12 +0200 Stephan Bosch <stephan@rename-it.nl> (ad9b5110)

    ManageSieve: changed default IMPLEMENTATION capability to 'Dovecot
    Pigeonhole'.


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-settings.c

2010-08-17 17:20:58 +0200 Stephan Bosch <stephan@rename-it.nl> (1bc1e36c)

    Renamed 'Dovecot Sieve' to 'Pigeonhole' in source file copyright headers.


M	src/lib-managesieve/managesieve-parser.c
M	src/lib-managesieve/managesieve-parser.h
M	src/lib-managesieve/managesieve-quote.c
M	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-list.h
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-quota.h
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-save.h
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve-login/client-authenticate.c
M	src/managesieve-login/client-authenticate.h
M	src/managesieve-login/client.c
M	src/managesieve-login/client.h
M	src/managesieve-login/managesieve-login-settings-plugin.c
M	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve-login/managesieve-proxy.c
M	src/managesieve-login/managesieve-proxy.h
M	src/managesieve/cmd-capability.c
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-havespace.c
M	src/managesieve/cmd-listscripts.c
M	src/managesieve/cmd-logout.c
M	src/managesieve/cmd-noop.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c
M	src/managesieve/managesieve-commands.h
M	src/managesieve/managesieve-common.h
M	src/managesieve/managesieve-quota.c
M	src/managesieve/managesieve-quota.h
M	src/managesieve/managesieve-settings.c
M	src/managesieve/managesieve-settings.h
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/sieve-tools/debug/ext-debug-common.h
M	src/sieve-tools/debug/ext-debug.c
M	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-08-14 00:57:32 +0200 Stephan Bosch <stephan@rename-it.nl> (4d24bfe0)

    Fixed source file header comments.


M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h

2010-08-14 00:42:24 +0200 Stephan Bosch <stephan@rename-it.nl> (dddd17ee)

    Testsuite: added a few test for the regex extension.


M	tests/extensions/regex/basic.svtest

2010-08-14 00:25:44 +0200 Stephan Bosch <stephan@rename-it.nl> (448b8065)

    Fixed Valgrind error.


M	src/lib-sieve-tool/sieve-tool.c

2010-08-14 00:06:22 +0200 Stephan Bosch <stephan@rename-it.nl> (8f90c58c)

    Improved runtime error handing.

    - Changed operand read functions to prove exec status return codes in stead
    of boolean.
    - Restructured optional-operand, stringlist and string-match APIs to provide
    execution status (error code) upon failure.
    - Corruption errors are only produced when the binary is actually corrupt.
    Normal failures should never cause a recompile attempt anymore.
    - Simplified optional-operand API.
    - Cleaned up test command implementations that use the string-match API.

M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-stringlist.c
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/managesieve/cmd-putscript.c
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-08-12 16:28:02 +0200 Stephan Bosch <stephan@rename-it.nl> (4022e5af)

    Produce a nicer error message when trying to load with non-lda/lmtp binary
    (patch by Timo Sirainen).


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-08-12 14:43:04 +0200 Stephan Bosch <stephan@rename-it.nl> (a9dc6837)

    Regex match: fixed segfault at deinitialization.


M	src/lib-sieve/plugins/regex/mcht-regex.c

2010-08-12 14:41:46 +0200 Stephan Bosch <stephan@rename-it.nl> (471e91b2)

    Updated TODO


M	TODO

2010-08-12 00:56:33 +0200 Stephan Bosch <stephan@rename-it.nl> (4f8c4dbc)

    Fixed compile on Solaris 10 with SunStudio 12.1 (patch by Willi Burmeister).


M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-stringlist.h

2010-08-11 18:20:41 +0200 Stephan Bosch <stephan@rename-it.nl> (6f0cf81a)

    Improved and simplified file error handling

    - Administrators now get properly notified about uncompiled global scripts
    and the inability of the sieve plugin to store global binaries.
    - Improved binary load/save error handling and fixed a few smal bugs.
    - Simplified ManageSieve error handling.

M	TODO
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-binary-file.c
M	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sievestorage/Makefile.am
D	src/lib-sievestorage/sieve-storage-error.h
M	src/lib-sievestorage/sieve-storage-list.c
M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage-quota.c
M	src/lib-sievestorage/sieve-storage-save.c
M	src/lib-sievestorage/sieve-storage-script.c
M	src/lib-sievestorage/sieve-storage-script.h
M	src/lib-sievestorage/sieve-storage.c
M	src/lib-sievestorage/sieve-storage.h
M	src/managesieve/cmd-deletescript.c
M	src/managesieve/cmd-getscript.c
M	src/managesieve/cmd-putscript.c
M	src/managesieve/cmd-renamescript.c
M	src/managesieve/cmd-setactive.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2010-08-11 18:10:46 +0200 Stephan Bosch <stephan@rename-it.nl> (36ef3b4d)

    ManageSieve/Sieve storag: fixed error handling of PUTSCRIPT commmand; save
    commit errors would not make the command fail.


M	src/lib-sievestorage/sieve-storage-save.c

2010-08-11 17:25:48 +0200 Stephan Bosch <stephan@rename-it.nl> (56ef5958)

    Fixed segfault occuring when loaded binary block turns out to be corrupt.


M	src/lib-sieve/sieve-interpreter.c

2010-08-11 16:55:11 +0200 Stephan Bosch <stephan@rename-it.nl> (285f36d4)

    Multiscript: fixed duplicate implicit keep caused by erroneous execution
    state update.


M	src/lib-sieve/sieve.c

2010-08-11 14:27:09 +0200 Stephan Bosch <stephan@rename-it.nl> (9bbcb23f)

    Prevent assertion failure due to currupt binary string representation
    (missing \0).


M	src/lib-sieve/sieve-binary-code.c

2010-08-11 13:52:59 +0200 Stephan Bosch <stephan@rename-it.nl> (27dc72bd)

    LDA Sieve plugin: fixed sieve_global_path setting; it was not recognized.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-08-08 11:21:04 +0200 Stephan Bosch <stephan@rename-it.nl> (9b0b57fa)

    Fixed segfault in tools and testsuite occuring when no username can be
    determined.


M	src/lib-sieve-tool/sieve-tool.c

2010-08-06 16:17:31 +0200 Stephan Bosch <stephan@rename-it.nl> (555a749a)

    ManageSieve: fixed SASL negotiation; mechanisms that need a roundtrip were
    broken.


M	src/managesieve-login/client-authenticate.c

2010-08-04 18:19:59 +0200 Stephan Bosch <stephan@rename-it.nl> (9cb8afb7)

    Fixed compiler warnings in tst-size.c


M	src/lib-sieve/tst-size.c

2010-08-03 18:58:36 +0200 Stephan Bosch <stephan@rename-it.nl> (5551ad02)

    Improved runtime trace debugging towards something more intuitively
    readable.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-08-03 18:30:14 +0200 Stephan Bosch <stephan@rename-it.nl> (41c3ef6a)

    Imap4flags: fixed bug in setflag command; when parameter was a stringlist,
    only the last item was actually set.


M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	tests/extensions/imap4flags/basic.svtest

2010-08-03 15:58:36 +0200 Stephan Bosch <stephan@rename-it.nl> (2faf5329)

    Fixed bug in error handling of store action.


M	src/lib-sieve/sieve-actions.c
M	tests/execute/errors.svtest
A	tests/execute/errors/fileinto-invalid-name.sieve

2010-08-03 12:29:46 +0200 Stephan Bosch <stephan@rename-it.nl> (2c57e513)

    Testsuite: prevented warning messages from showing up by default.


M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite.c

2010-08-03 03:10:22 +0200 Stephan Bosch <stephan@rename-it.nl> (00194238)

    Testsuite: fixed segfault problem.


M	src/lib-sieve-tool/sieve-tool.c

2010-08-02 16:14:10 +0200 Stephan Bosch <stephan@rename-it.nl> (a5ceb7e0)

    Testsuite: added missing test case for the size test.


M	Makefile.am
A	tests/size.svtest

2010-08-02 15:19:05 +0200 Stephan Bosch <stephan@rename-it.nl> (1245cf0c)

    Testsuite: minor cleanups.


M	src/testsuite/testsuite.c

2010-08-02 15:18:51 +0200 Stephan Bosch <stephan@rename-it.nl> (fd849304)

    Sieve tools: don't try to close stdout.


M	src/lib-sieve-tool/sieve-tool.c

2010-08-02 15:00:00 +0200 Stephan Bosch <stephan@rename-it.nl> (1753c207)

    Sieve-test tool: accidentally disabled -d option.


M	src/sieve-tools/sieve-test.c

2010-08-02 14:59:06 +0200 Stephan Bosch <stephan@rename-it.nl> (025065a9)

    Improved byte code encoding implementation of integers and offsets.


M	src/lib-sieve/sieve-binary-code.c

2010-07-30 19:03:30 +0200 Stephan Bosch <stephan@rename-it.nl> (b9be8e38)

    Sieve binary: now using better defined integer types for byte-coded data


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-binary-code.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-interpreter.c
M	src/testsuite/cmd-test-fail.c

2010-07-30 17:07:56 +0200 Stephan Bosch <stephan@rename-it.nl> (9e63fecd)

    Updated TODO.


M	TODO

2010-07-30 16:32:19 +0200 Stephan Bosch <stephan@rename-it.nl> (a7849cad)

    Variables extension: fixed :length set modifier to recognize utf8 characters
    in stead of octets.


M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	tests/extensions/variables/modifiers.svtest

2010-07-30 14:53:14 +0200 Stephan Bosch <stephan@rename-it.nl> (169dd8d4)

    Implemented generic string list interface and simplified matching API.


M	TODO
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
A	src/lib-sieve/sieve-stringlist.c
A	src/lib-sieve/sieve-stringlist.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result.c
M	tests/extensions/envelope.svtest

2010-07-30 09:16:13 +0200 Stephan Bosch <stephan@rename-it.nl> (67db254e)

    Fixed sieve-test not to start in trace mode by default.


M	src/sieve-tools/sieve-test.c

2010-07-29 11:53:26 +0200 Stephan Bosch <stephan@rename-it.nl> (a83e91bc)

    Updated extension status information.


M	README
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/sieve-tools/debug/ext-debug.c
M	src/testsuite/ext-testsuite.c

2010-07-28 15:01:26 +0200 Stephan Bosch <stephan@rename-it.nl> (d7f19d39)

    ManageSieve: fixed deinitialization problem in dump-capability plugin.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-21 21:15:12 +0200 Stephan Bosch <stephan@rename-it.nl> (9f99c4ca)

    ManageSieve: fixed dump-capability hang.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-21 17:43:16 +0200 Stephan Bosch <stephan@rename-it.nl> (a5f3a29c)

    Further developed new runtime trace debugging; test suite is also now
    included.


M	Makefile.am
M	doc/man/sieve-test.1
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/sieve-tools/sieve-test.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c

2010-07-20 13:29:46 +0200 Stephan Bosch <stephan@rename-it.nl> (23ac203c)

    Makefile fix: rhel5 still has too old automake that doesn't define
    $builddir.


M	src/lib-sieve/Makefile.am
M	src/sieve-tools/Makefile.am

2010-07-17 19:57:25 +0200 Stephan Bosch <stephan@rename-it.nl> (a539090e)

    First changes towards making `make distcheck' work.


M	Makefile.am
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/body/Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/date/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/mailto/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/imap4flags/Makefile.am
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/mailbox/Makefile.am
M	src/lib-sieve/plugins/notify/Makefile.am
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/spamvirustest/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/managesieve-login/Makefile.am
M	src/managesieve/Makefile.am
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-07-17 12:11:58 +0200 Stephan Bosch <stephan@rename-it.nl> (4dcd092f)

    Improved runtime trace debugging output for core Sieve language.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-runtime-trace.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/sieve-tools/sieve-test.c

2010-07-16 21:31:46 +0200 Stephan Bosch <stephan@rename-it.nl> (d7b179a8)

    Adjusted to Dovecot LDA API changes; implicitly fixing segfault (patch by
    Timo Sirainen).


M	src/lib-sieve/sieve-actions.c

2010-07-16 21:11:25 +0200 Stephan Bosch <stephan@rename-it.nl> (21a326f0)

    Updated dovecot.m4.


M	m4/dovecot.m4

2010-07-16 10:02:20 +0200 Stephan Bosch <stephan@rename-it.nl> (3806f628)

    Removed unused code that caused compile failure due to Dovecot API change.


M	src/lib-sieve-tool/mail-raw.c
M	src/managesieve/managesieve-capabilities.c

2010-07-15 00:45:37 +0200 Stephan Bosch <stephan@rename-it.nl> (969dec8b)

    Implemented simple runtime trace of string value matching.


M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match.c

2010-07-14 23:55:21 +0200 Stephan Bosch <stephan@rename-it.nl> (7da1cc6e)

    Adjusted string matching API tu use runtime environment.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-result.c

2010-07-13 20:08:24 +0200 Stephan Bosch <stephan@rename-it.nl> (8582f2af)

    Updated ManageSieve specification.


R057	doc/rfc/draft-ietf-sieve-managesieve-09.txt	doc/rfc/managesieve.rfc5804.txt

2010-07-13 18:15:44 +0200 Stephan Bosch <stephan@rename-it.nl> (a86e0043)

    Updated TODO list.


M	TODO

2010-07-13 18:09:32 +0200 Stephan Bosch <stephan@rename-it.nl> (e7d75edc)

    Testsuite: inappropriately removed initialization of dummy MAIL environment.


M	src/testsuite/testsuite.c

2010-07-11 17:06:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ed9c1bae)

    Sieve tools: added support for extended trace debugging and updated man
    pages.


M	doc/man/sieve-filter.1
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-runtime-trace.h
M	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-types.h
M	src/sieve-tools/sieve-test.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2010-07-11 12:40:00 +0200 Stephan Bosch <stephan@rename-it.nl> (68a275be)

    Updated documentation: Sieve tools are now using Dovecot configuration by
    default.


M	TODO
M	doc/man/sieve-filter.1
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1

2010-07-10 18:53:40 +0200 Stephan Bosch <stephan@rename-it.nl> (3322ab5a)

    Sieve-tools: use 'mail' as module name in stead of the name of the command.


M	src/lib-sieve-tool/sieve-tool.c

2010-07-10 18:06:28 +0200 Stephan Bosch <stephan@rename-it.nl> (421de7a5)

    Sieve-tools: was using wrong mail_user variable for settings acquisition.


M	src/lib-sieve-tool/sieve-tool.c

2010-07-10 13:21:14 +0200 Stephan Bosch <stephan@rename-it.nl> (002cae7e)

    Increased initial pool sieve for Sieve logfile and varexpand error handlers.


M	src/lib-sieve/sieve-error.c

2010-07-10 13:14:53 +0200 Stephan Bosch <stephan@rename-it.nl> (4702320d)

    Restructured and cleaned up the Sieve tools and the Sieve tool library.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite.c

2010-07-08 00:47:26 +0200 Stephan Bosch <stephan@rename-it.nl> (ed89527b)

    Testsuite: improved test for fileinto with non-existent mailbox.


M	tests/execute/errors.svtest

2010-07-08 00:06:42 +0200 Stephan Bosch <stephan@rename-it.nl> (6b0c7726)

    Fixed assertion failure in the keep/fileinto store actions and added
    testsuite item.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.c
M	tests/execute/errors.svtest
A	tests/execute/errors/fileinto.sieve

2010-07-05 17:18:23 +0200 Stephan Bosch <stephan@rename-it.nl> (b2be9010)

    Fixed small discrepancy in example configuration.


M	doc/example-config/conf.d/90-sieve.conf

2010-07-05 16:45:12 +0200 Stephan Bosch <stephan@rename-it.nl> (156f4a7c)

    ManageSieve: fixed fd leak caused by DUMP_CAPABILITY execution.


M	src/managesieve/main.c

2010-07-05 14:32:17 +0200 Stephan Bosch <stephan@rename-it.nl> (33e76f80)

    Updated documentation.


M	INSTALL
M	doc/example-config/conf.d/20-managesieve.conf

2010-07-04 01:22:40 +0200 Stephan Bosch <stephan@rename-it.nl> (89b9268f)

    Sieve-tools: removed KEEP_CONFIG_OPEN service flag.


M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c

2010-07-04 00:22:09 +0200 Stephan Bosch <stephan@rename-it.nl> (98e994ca)

    Fixed compiler warning caused by previous change.


M	src/managesieve/managesieve-capabilities.c

2010-07-03 23:32:28 +0200 Stephan Bosch <stephan@rename-it.nl> (91f29b82)

    Moved parsing of sieve_extensions setting to sieve engine initialization.


M	src/lib-sieve/sieve-extensions.c
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2010-07-03 22:49:21 +0200 Stephan Bosch <stephan@rename-it.nl> (ca60b0da)

    Fixed compiler warnings in previous change.


M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c

2010-07-03 22:44:49 +0200 Stephan Bosch <stephan@rename-it.nl> (cc9d3eb3)

    Sieve-Tools: fully use Dovecot service and settings API.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/sieve-script.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite.c

2010-07-03 19:07:52 +0200 Stephan Bosch <stephan@rename-it.nl> (80dd4bc6)

    Updated TODO list.


M	TODO

2010-07-03 18:32:09 +0200 Stephan Bosch <stephan@rename-it.nl> (4f487241)

    ManageSieve: reactivated reporting of NOTIFY capability.


M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-login-settings.c

2010-07-03 18:07:30 +0200 Stephan Bosch <stephan@rename-it.nl> (88b1d0dc)

    ManageSieve: removed service/managesieve-login from dynamically assinged
    settings.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-03 17:37:49 +0200 Stephan Bosch <stephan@rename-it.nl> (fda83b69)

    ManageSieve: added -k to dump capability invocation of managesieve binary.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-03 17:04:06 +0200 Stephan Bosch <stephan@rename-it.nl> (ca5e55cb)

    ManageSieve: check for DUMP_CAPABILITY=1 before executing dump capability to
    prevent infinite recursion.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-03 16:27:33 +0200 Stephan Bosch <stephan@rename-it.nl> (3451298d)

    ManageSieve: forgot to include settings in doveconf plugin.


M	src/managesieve-login/Makefile.am
M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-03 15:09:57 +0200 Stephan Bosch <stephan@rename-it.nl> (7a383a98)

    ManageSieve: doveconf went berserk with last change.


M	src/managesieve-login/managesieve-login-settings-plugin.c

2010-07-03 14:21:38 +0200 Stephan Bosch <stephan@rename-it.nl> (03c8bfc7)

    ManageSieve: enabled dynamic capability inference.


M	m4/dovecot.m4
M	src/managesieve-login/Makefile.am
A	src/managesieve-login/managesieve-login-settings-plugin.c
A	src/managesieve-login/managesieve-login-settings-plugin.h
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h

2010-07-01 11:16:45 +0200 Stephan Bosch <stephan@rename-it.nl> (21b4e147)

    managesieve: Added an assert to client_connected().


M	src/managesieve/main.c

2010-06-28 14:35:07 +0200 Stephan Bosch <stephan@rename-it.nl> (19d0fd3f)

    Updated TODO list.


M	TODO

2010-06-26 00:51:33 +0200 Stephan Bosch <stephan@rename-it.nl> (f1659db4)

    ManageSieve: forgot to change login unix socket name.


M	src/managesieve/managesieve-settings.c

2010-06-26 00:27:34 +0200 Stephan Bosch <stephan@rename-it.nl> (8fc82ea2)

    Use new LDA deliver save API (patch by Timo Sirainen).


M	src/lib-sieve/sieve-actions.c

2010-06-26 00:05:02 +0200 Stephan Bosch <stephan@rename-it.nl> (b5fe7d25)

    ManageSieve: small patch to service settings.


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-settings.c

2010-06-24 17:04:41 +0200 Stephan Bosch <stephan@rename-it.nl> (93034e37)

    ManageSieve: forgot to change protocol name to 'sieve' in login_binary
    struct.


M	src/managesieve-login/client.c

2010-06-19 17:36:18 +0200 Stephan Bosch <stephan@rename-it.nl> (b36c68bf)

    Variables extension: added proper trace support.


M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-runtime-trace.h

2010-06-19 13:07:10 +0200 Stephan Bosch <stephan@rename-it.nl> (14e91a15)

    Cleaned up mail storage-related code (modified patch by Timo Sirainen).


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2010-06-19 11:32:00 +0200 Stephan Bosch <stephan@rename-it.nl> (744b97ab)

    Updated documentation.


M	INSTALL
M	doc/example-config/conf.d/90-sieve.conf

2010-06-19 11:00:37 +0200 Stephan Bosch <stephan@rename-it.nl> (008b424c)

    Fixed error handling of failed mailbox creation (patch by Timo Sirainen).


M	src/lib-sieve/sieve-actions.c

2010-06-19 10:57:23 +0200 Stephan Bosch <stephan@rename-it.nl> (fe8fbf1f)

    Changed ManageSieve protocol name to 'sieve'.


M	doc/example-config/conf.d/20-managesieve.conf
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-settings.c

2010-05-30 09:39:19 +0200 Stephan Bosch <stephan@rename-it.nl> (d853dbb0)

    Forgot an active TODO item on the list.


M	TODO

2010-05-30 09:37:28 +0200 Stephan Bosch <stephan@rename-it.nl> (d6df4c06)

    Updated to changes in Dovecot service API.


M	src/managesieve/main.c

2010-05-19 17:04:42 +0200 Stephan Bosch <stephan@rename-it.nl> (e0afdfc6)

    Include extension: accidentally committed debug printf.


M	src/lib-sieve/plugins/include/ext-include-binary.c

2010-05-19 17:00:44 +0200 Stephan Bosch <stephan@rename-it.nl> (d6babbda)

    Explicitly set AC_CONFIG_AUX_DIR to prevent issues when compiling Pigeonhole
    in a sub-directory of the Dovecot tree.


M	configure.in

2010-05-16 18:12:56 +0200 Stephan Bosch <stephan@rename-it.nl> (d609cc7c)

    Updated TODO.


M	TODO

2010-05-16 14:43:43 +0200 Stephan Bosch <stephan@rename-it.nl> (c0c60be5)

    Restructured and cleaned up trace debugging and optional operand fetching.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
A	src/lib-sieve/sieve-runtime-trace.c
A	src/lib-sieve/sieve-runtime-trace.h
A	src/lib-sieve/sieve-runtime.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-05-14 22:57:06 +0200 Stephan Bosch <stephan@rename-it.nl> (60f2c55f)

    Added debug mode to the Sieve engine.


M	doc/man/sieve-test.1
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/managesieve/managesieve-capabilities.c
M	src/managesieve/managesieve-client.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite.c

2010-05-14 14:35:19 +0200 Stephan Bosch <stephan@rename-it.nl> (9ca03cee)

    Testsuite: forgot to add -P plugin parameter to executable.


M	src/testsuite/testsuite.c

2010-05-14 14:03:09 +0200 Stephan Bosch <stephan@rename-it.nl> (282701a9)

    Updated TODO.


M	TODO

2010-05-14 14:02:48 +0200 Stephan Bosch <stephan@rename-it.nl> (7e6c0d49)

    Made action commands use new lineinfo facility.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2010-05-14 13:08:14 +0200 Stephan Bosch <stephan@rename-it.nl> (691db805)

    Restructured binary implementation and added lineinfo debug blocks to the
    binary.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
A	src/lib-sieve/sieve-binary-code.c
A	src/lib-sieve/sieve-binary-debug.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
A	src/lib-sieve/sieve-binary-file.c
A	src/lib-sieve/sieve-binary-private.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-config.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-05-14 12:34:59 +0200 Stephan Bosch <stephan@rename-it.nl> (278b251d)

    Lexer: made sure source code positions are recorded at start of token.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c

2010-05-14 12:16:52 +0200 Stephan Bosch <stephan@rename-it.nl> (93c1be50)

    Spamtest/Virustest extensions: forgot to call extension unload handler.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c

2010-05-14 11:25:25 +0200 Stephan Bosch <stephan@rename-it.nl> (8706f5b1)

    Fixed potential deinitialization problem in interpreter.


M	src/lib-sieve/sieve-interpreter.c

2010-05-14 11:23:55 +0200 Stephan Bosch <stephan@rename-it.nl> (a915ee9b)

    Fixed potential memory leak in generator.


M	src/lib-sieve/sieve-generator.c

2010-05-14 12:37:39 +0200 Stephan Bosch <stephan@rename-it.nl> (1169fe8a)

    Updated TODO.


M	TODO

2010-05-05 21:11:18 +0200 Stephan Bosch <stephan@rename-it.nl> (ba056452)

    ManageSieve: disabled dynamic capability determination for now.


M	src/managesieve-login/managesieve-login-settings.c

2010-05-05 20:21:50 +0200 Stephan Bosch <stephan@rename-it.nl> (b969c57e)

    ManageSieve: dump_capability: simplified settings acquisition.


M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/managesieve-capabilities.c

2010-05-05 19:39:26 +0200 Stephan Bosch <stephan@rename-it.nl> (137551e9)

    ManageSieve: implemented user-independent capability dumping (untested).


M	src/managesieve/Makefile.am
M	src/managesieve/main.c
A	src/managesieve/managesieve-capabilities.c
A	src/managesieve/managesieve-capabilities.h
M	src/managesieve/managesieve-client.c

2010-05-05 17:28:13 +0200 Stephan Bosch <stephan@rename-it.nl> (164c2465)

    ManageSieve: don't use i_fatal() in doveconf plugin.


M	src/managesieve-login/managesieve-login-settings.c

2010-05-05 16:56:12 +0200 Stephan Bosch <stephan@rename-it.nl> (fc08f6b6)

    ManageSieve: fixed segfault bug in doveconf plugin and fixed compiler
    warnings.


M	src/managesieve-login/managesieve-login-settings.c

2010-05-05 16:04:31 +0200 Stephan Bosch <stephan@rename-it.nl> (28f2359f)

    ManageSieve: implemented dynamic capability determination at login.


M	src/managesieve-login/Makefile.am
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve-login/managesieve-login-settings.h
M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h

2010-05-05 15:43:54 +0200 Stephan Bosch <stephan@rename-it.nl> (f5df2f66)

    ManageSieve: fixed compile error in previous change.


M	src/managesieve/managesieve-client.c

2010-05-05 15:42:44 +0200 Stephan Bosch <stephan@rename-it.nl> (1403221c)

    ManageSieve: forgot to initialize Sieve extensions.


M	src/managesieve/managesieve-client.c

2010-05-03 20:02:55 +0200 Stephan Bosch <stephan@rename-it.nl> (eab3d162)

    Made command line tools return proper exit status upon failure.


M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2010-05-02 10:23:14 +0200 Stephan Bosch <stephan@rename-it.nl> (5fe046cf)

    managesieve: updated to changes in Dovecot (IMAP/POP3).


M	src/managesieve/main.c
M	src/managesieve/managesieve-client.c
M	src/managesieve/managesieve-client.h
M	src/managesieve/managesieve-commands.c

2010-05-02 09:30:37 +0200 Stephan Bosch <stephan@rename-it.nl> (1298095c)

    sieve-storage: made auto-creation code match implementation of maildir
    storage from Dovecot.


M	src/lib-sievestorage/sieve-storage-private.h
M	src/lib-sievestorage/sieve-storage.c

2010-05-02 09:29:54 +0200 Stephan Bosch <stephan@rename-it.nl> (327f0c28)

    managesieve: changed static IMAP error massage in main.c to ManageSieve
    protocol.


M	src/managesieve/main.c

2010-04-29 00:34:31 +0200 Stephan Bosch <stephan@rename-it.nl> (16e692f0)

    Compiler warning fix.


M	src/managesieve/main.c

2010-04-28 16:31:03 +0200 Stephan Bosch <stephan@rename-it.nl> (e5306691)

    Changed result execution logging to use a var_expand_table created by liblda
    to avoid code duplication (patch by Timo Sirainen).


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-result.c
M	src/managesieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-04-28 16:26:14 +0200 Stephan Bosch <stephan@rename-it.nl> (7c8fc2b1)

    Updated dovecot.m4.


M	m4/dovecot.m4

2010-04-28 16:21:57 +0200 Stephan Bosch <stephan@rename-it.nl> (11b7e197)

    Made var_expand_table argument of sieve_varexpand_ehandler_create const
    (patch by Timo Sirainen).


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2010-04-28 16:16:50 +0200 Stephan Bosch <stephan@rename-it.nl> (d0555478)

    Fix CFLAGS and LIBS defines (patch by Timo Sirainen).


M	configure.in

2010-04-20 01:16:18 +0200 Stephan Bosch <stephan@rename-it.nl> (3478bfb5)

    Testsuite: avoid using existing e-mail addresses and domains in tests.


M	tests/address.svtest
M	tests/comparators/core.svtest
M	tests/compile/errors/address-part.sieve
M	tests/compile/errors/envelope.sieve
M	tests/compile/errors/match-type.sieve
M	tests/compile/errors/out-address.sieve
M	tests/compile/errors/unsupported.sieve
M	tests/compile/recover/commands-semicolon.sieve
M	tests/compile/redirect.sieve
M	tests/compile/warnings/invalid-headers.sieve
M	tests/control-structures.svtest
M	tests/deprecated/notify/basic.svtest
M	tests/deprecated/notify/denotify.svtest
M	tests/deprecated/notify/errors/options.sieve
M	tests/deprecated/notify/execute/duplicates.sieve
M	tests/deprecated/notify/mailto.svtest
M	tests/execute/actions.svtest
M	tests/execute/actions/fileinto.sieve
M	tests/execute/actions/redirect.sieve
M	tests/execute/mailstore.svtest
M	tests/execute/smtp.svtest
M	tests/exists.svtest
M	tests/extensions/body/basic.svtest
M	tests/extensions/body/match-values.svtest
M	tests/extensions/date/basic.svtest
M	tests/extensions/date/date-parts.svtest
M	tests/extensions/date/zones.svtest
M	tests/extensions/enotify/basic.svtest
M	tests/extensions/enotify/errors/from-mailto.sieve
M	tests/extensions/enotify/errors/options.sieve
M	tests/extensions/enotify/errors/uri-mailto.sieve
M	tests/extensions/enotify/errors/uri.sieve
M	tests/extensions/enotify/execute/duplicates.sieve
M	tests/extensions/enotify/mailto.svtest
M	tests/extensions/enotify/notify_method_capability.svtest
M	tests/extensions/enotify/valid_notify_method.svtest
M	tests/extensions/envelope.svtest
M	tests/extensions/include/execute.svtest
M	tests/extensions/include/included/rfc-ex1-mailing_lists.sieve
M	tests/extensions/mailbox/execute.svtest
M	tests/extensions/regex/basic.svtest
M	tests/extensions/regex/errors/compile.sieve
M	tests/extensions/regex/match-values.svtest
M	tests/extensions/reject/execute.svtest
M	tests/extensions/reject/execute/basic.sieve
M	tests/extensions/reject/smtp.svtest
M	tests/extensions/relational/basic.svtest
M	tests/extensions/spamvirustest/spamtest.svtest
M	tests/extensions/spamvirustest/spamtestplus.svtest
M	tests/extensions/spamvirustest/virustest.svtest
M	tests/extensions/subaddress/basic.svtest
M	tests/extensions/subaddress/config.svtest
M	tests/extensions/subaddress/rfc.svtest
M	tests/extensions/vacation/execute/action.sieve
M	tests/extensions/vacation/execute/no-handle.sieve
M	tests/extensions/vacation/message.svtest
M	tests/extensions/vacation/smtp.svtest
M	tests/extensions/vacation/utf-8.svtest
M	tests/extensions/variables/basic.svtest
M	tests/extensions/variables/match.svtest
M	tests/header.svtest
M	tests/match-types/contains.svtest
M	tests/match-types/is.svtest
M	tests/match-types/matches.svtest
M	tests/multiscript/basic.svtest
M	tests/multiscript/conflicts.svtest
M	tests/multiscript/notify.sieve
M	tests/testsuite.svtest

2010-04-19 23:38:54 +0200 Stephan Bosch <stephan@rename-it.nl> (76f0f1f4)

    Vacation extension: from address of reply is now by default equal to
    whatever known recipient alias matched the headers of the message.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/smtp.svtest

2010-04-19 14:18:17 +0200 Stephan Bosch <stephan@rename-it.nl> (0b1d5db1)

    Removed --install flag from ACLOCAL_AMFLAGS; RHEL uses automake 1.9 and 
    won't compile.


M	Makefile.am

2010-04-14 23:38:44 +0200 Stephan Bosch <stephan@rename-it.nl> (1f8e87b4)

    Added --with-docs configure option.


M	Makefile.am
M	configure.in
M	doc/Makefile.am

2010-04-14 22:05:15 +0200 Stephan Bosch <stephan@rename-it.nl> (35729065)

    Started using dovecot.m4 for linking against Dovecot (patch by Timo
    Sirainen).


M	.hgignore
M	Makefile.am
M	configure.in
A	m4/dovecot.m4

2010-04-14 21:48:01 +0200 Stephan Bosch <stephan@rename-it.nl> (2559a3c0)

    Switched to cleaner way to create a raw storage.


M	src/lib-sieve-tool/mail-raw.c

2010-04-14 21:45:54 +0200 Stephan Bosch <stephan@rename-it.nl> (2395912f)

    ManageSieve: adjusted to Dovecot login API change.


M	src/managesieve-login/client.c

2010-04-14 17:34:30 +0200 Stephan Bosch <stephan@rename-it.nl> (fdce3523)

    Started using tar-ustar for release packaging to prevent crossing path
    length limits.


M	configure.in

2010-04-14 17:06:33 +0200 Stephan Bosch <stephan@rename-it.nl> (237d092b)

    Assigned temporary version number to avoid confusion with releases for
    Dovecot v1.2.


M	configure.in

2010-04-14 16:47:05 +0200 Stephan Bosch <stephan@rename-it.nl> (d4031724)

    Changed config file names to match Dovecot numeric config file names.


R100	doc/example-config/conf.d/managesieve.conf	doc/example-config/conf.d/20-managesieve.conf
R100	doc/example-config/conf.d/sieve.conf	doc/example-config/conf.d/90-sieve.conf
M	doc/example-config/conf.d/Makefile.am

2010-04-08 09:13:54 +0200 Stephan Bosch <stephan@rename-it.nl> (ecab4fa1)

    Mailbox extension: fixed memory leak in the mailboxexists test.


M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2010-04-01 09:41:37 +0200 Stephan Bosch <stephan@rename-it.nl> (408ec9fa)

    ManageSieve: adjusted to changes in service API; added login failure
    handler.


M	src/managesieve/main.c

2010-03-28 18:16:21 +0200 Stephan Bosch <stephan@rename-it.nl> (f7ed659b)

    Updated TODO list.


M	TODO

2010-03-28 18:39:56 +0200 Stephan Bosch <stephan@rename-it.nl> (7928627d)

    Spamtest and virustest: added documentation to the distribution.


M	doc/Makefile.am

2010-03-28 18:21:55 +0200 Stephan Bosch <stephan@rename-it.nl> (ad9206ec)

    Spamtest and virustest extensions: added documentation.


M	INSTALL
A	doc/spamtest-virustest.txt

2010-03-14 17:13:49 +0100 Stephan Bosch <stephan@rename-it.nl> (6a9ad97d)

    Spamtest and virustest extensions: changed setting names.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	tests/extensions/spamvirustest/spamtest.svtest
M	tests/extensions/spamvirustest/spamtestplus.svtest

2010-03-14 12:34:13 +0100 Stephan Bosch <stephan@rename-it.nl> (b98e08cc)

    Spamtest and virustest extensions: now not available by default.


M	src/lib-sieve/sieve-extensions.c

2010-03-14 12:19:51 +0100 Stephan Bosch <stephan@rename-it.nl> (9f020ec3)

    Spamtest and virustest extensions: discarded whitespace at beginning of
    regexp and added syntax testsuite tests.


M	Makefile.am
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
A	tests/extensions/spamvirustest/errors.svtest
A	tests/extensions/spamvirustest/errors/syntax-errors.sieve
M	tests/extensions/spamvirustest/spamtest.svtest

2010-03-27 19:11:09 +0100 Stephan Bosch <stephan@rename-it.nl> (fc22abee)

    Changed ManageSieve client limit to match IMAP/POP3.


M	src/managesieve/managesieve-settings.c

2010-03-08 18:48:54 +0100 Stephan Bosch <stephan@rename-it.nl> (beea3d8f)

    Fixed memset argument mixup in enotify extension.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c

2010-02-28 21:50:04 +0100 Stephan Bosch <stephan@rename-it.nl> (e80633e4)

    Fixed ManageSieve login crash at startup (patch by Timo Sirainen).


M	src/managesieve-login/client.c

2010-02-13 12:48:32 +0100 Stephan Bosch <stephan@rename-it.nl> (140dca54)

    ManageSieve: changed default login user to '' substitution.


M	src/managesieve-login/managesieve-login-settings.c

2010-02-13 11:48:02 +0100 Stephan Bosch <stephan@rename-it.nl> (52750c58)

    Adjusted to changes in Dovecot mailbox API.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/sieve-actions.c
M	src/sieve-tools/sieve-filter.c
M	src/testsuite/testsuite-mailstore.c

2010-02-10 17:15:41 +0100 Stephan Bosch <stephan@rename-it.nl> (cb2c985d)

    Adjusted to changes in dovecot-config (patch by Timo Sirainen).


M	configure.in
M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/enotify/mailto/Makefile.am
M	src/managesieve-login/Makefile.am
M	src/managesieve/Makefile.am
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-02-07 17:45:55 +0100 Stephan Bosch <stephan@rename-it.nl> (b02faa15)

    Adjusted to change in Dovecot Storage API.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/sieve-actions.c
M	src/testsuite/testsuite-mailstore.c

2010-01-31 17:06:24 +0100 Stephan Bosch <stephan@rename-it.nl> (c5b63ec5)

    Let configure automatically infer path to installed Dovecot and don't rely
    on installed libtool .la files anymore (patch by Timo Sirainen).


M	configure.in
M	src/managesieve-login/Makefile.am
M	src/managesieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-01-31 16:12:46 +0100 Stephan Bosch <stephan@rename-it.nl> (c6805328)

    Deprecated notify extension: fixed compiler warning.


M	src/lib-sieve/plugins/notify/ext-notify-common.c

2010-01-31 16:31:49 +0100 Stephan Bosch <stephan@rename-it.nl> (909e7e83)

    Simplified package configuration with respect to linking against Dovecot
    (patch by Timo Sirainen).


M	configure.in
M	src/lib-sieve/plugins/enotify/mailto/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-01-31 12:37:46 +0100 Stephan Bosch <stephan@rename-it.nl> (7cb7df25)

    Restructured and optimized lexical scanner.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c

2010-01-28 22:15:00 +0100 Stephan Bosch <stephan@rename-it.nl> (bb309113)

    Fixed spelling of 'existent' in various testsuite scripts.


M	tests/exists.svtest
M	tests/extensions/body/basic.svtest
M	tests/extensions/environment/rfc.svtest
M	tests/extensions/include/errors/generic.sieve
M	tests/extensions/subaddress/basic.svtest
M	tests/header.svtest

2010-01-28 22:09:07 +0100 Stephan Bosch <stephan@rename-it.nl> (29bbcb7b)

    Fixed copy-paste error in previous change regarding inet_listener.


M	src/managesieve-login/managesieve-login-settings.c

2010-01-28 11:00:41 +0100 Stephan Bosch <stephan@rename-it.nl> (c64b646f)

    Added default inet_listener for managesieve-login.


M	doc/example-config/conf.d/managesieve.conf
M	src/managesieve-login/managesieve-login-settings.c

2010-01-28 09:38:36 +0100 Stephan Bosch <stephan@rename-it.nl> (d10c177e)

    Reverted ManageSieve protocol name back from 'sieve' to 'managesieve'.


M	INSTALL
M	doc/example-config/conf.d/managesieve.conf
M	src/managesieve-login/client.c
M	src/managesieve-login/managesieve-login-settings.c
M	src/managesieve/main.c
M	src/managesieve/managesieve-settings.c

2010-01-27 19:59:34 +0100 Stephan Bosch <stephan@rename-it.nl> (701339a0)

    Deprecated imapflags extension: added proper tests to the test suite.


M	Makefile.am
R100	tests/extensions/imap4flags/errors.svtest	tests/deprecated/imapflags/errors.svtest
R100	tests/extensions/imap4flags/errors/imapflags.sieve	tests/deprecated/imapflags/errors/imapflags.sieve
A	tests/deprecated/imapflags/execute.svtest
A	tests/deprecated/imapflags/execute/flags.sieve
A	tests/deprecated/imapflags/execute/mark.sieve
D	tests/extensions/imap4flags/execute/imapflags.sieve

2010-01-27 19:02:12 +0100 Stephan Bosch <stephan@rename-it.nl> (7de56e84)

    Deprecated imapflags extension: fixed implicit assignment of flags.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c

2010-01-28 09:20:28 +0100 Stephan Bosch <stephan@rename-it.nl> (86149cdf)

    Updated TODO list.


M	TODO

2010-01-25 21:03:46 +0100 Stephan Bosch <stephan@rename-it.nl> (c4f8cf92)

    Omitted 'extern' in two declarations of global variables in header files,
    causing compile failures on certain systems.


M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/notify/ext-notify-common.h

2010-01-25 18:42:30 +0100 Stephan Bosch <stephan@rename-it.nl> (600adae0)

    Added spamtest and virustest extensions to the default build.


M	Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/sieve-extensions.c

2010-01-25 18:22:07 +0100 Stephan Bosch <stephan@rename-it.nl> (ee4e1271)

    Spamtest and virustest extensions: finished configuration.


M	Makefile.am
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	tests/extensions/spamvirustest/spamtest.svtest
A	tests/extensions/spamvirustest/spamtestplus.svtest
A	tests/extensions/spamvirustest/virustest.svtest

2010-01-25 10:02:36 +0100 Stephan Bosch <stephan@rename-it.nl> (47796d77)

    Enotify extension: removed location from action log messages.


M	src/lib-sieve/plugins/enotify/cmd-notify.c

2010-01-25 01:57:54 +0100 Stephan Bosch <stephan@rename-it.nl> (b08dc028)

    Fixed newly introduced compiler warning.


M	src/lib-sieve/sieve-settings.c

2010-01-24 22:01:07 +0100 Stephan Bosch <stephan@rename-it.nl> (160ac4c0)

    Added boolean settings parser.


M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h

2010-01-24 11:15:38 +0100 Stephan Bosch <stephan@rename-it.nl> (ba49af27)

    Testsuite: added a few more tests for the i;ascii-numeric comparator (patch
    by Julian Cowley).


M	tests/extensions/relational/comparators.svtest

2010-01-23 00:37:21 +0100 Stephan Bosch <stephan@rename-it.nl> (766303db)

    Fixed bugs in parser recovery and added corresponding tests in the test
    suite.


M	Makefile.am
M	src/lib-sieve/sieve-parser.c
A	tests/compile/recover.svtest
A	tests/compile/recover/commands-endblock.sieve
A	tests/compile/recover/commands-semicolon.sieve
A	tests/compile/recover/tests-endcomma.sieve

2010-01-22 15:28:07 +0100 Stephan Bosch <stephan@rename-it.nl> (e93a5fee)

    Enotify extension: set default importance to normal as required.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	tests/extensions/enotify/mailto.svtest

2010-01-23 00:45:11 +0100 Stephan Bosch <stephan@rename-it.nl> (a0b5c2fc)

    Fixed '-' in man pages.


M	doc/man/sieve-filter.1
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1

2010-01-19 16:32:48 +0100 Stephan Bosch <stephan@rename-it.nl> (f94b9f6a)

    Fixed small bug in the i;ascii-numeric comparator and added extensive
    relational tests to the testsuite.


M	Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
A	tests/extensions/relational/comparators.svtest

2010-01-19 10:12:00 +0100 Stephan Bosch <stephan@rename-it.nl> (a1117a11)

    Fixed spelling mistake in error messages.


M	src/lib-sieve/sieve-message.c

2010-01-19 10:11:42 +0100 Stephan Bosch <stephan@rename-it.nl> (b55dc255)

    Envelope paths with only a mailbox part are now allowed.


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address.c
M	tests/extensions/envelope.svtest

2010-01-18 01:35:16 +0100 Stephan Bosch <stephan@rename-it.nl> (21e7f1e0)

    Added TODO list item.


M	TODO

2010-01-18 00:51:46 +0100 Stephan Bosch <stephan@rename-it.nl> (7d12af2a)

    Fixed small bug in plugin support.


M	src/lib-sieve/sieve-plugins.c

2010-01-15 22:56:52 +0100 Stephan Bosch <stephan@rename-it.nl> (11338868)

    Slightly improved error messages during binary save.


M	src/lib-sieve/sieve-binary.c

2010-01-15 18:36:43 +0100 Stephan Bosch <stephan@rename-it.nl> (b6f0a3a1)

    Error handling: now only the topmost parent error handler will copy to the
    master log.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c

2010-01-15 16:58:53 +0100 Stephan Bosch <stephan@rename-it.nl> (ce498a00)

    Fixed compile problem in previous change.


M	src/lib-sieve/sieve-error.c

2010-01-15 16:46:45 +0100 Stephan Bosch <stephan@rename-it.nl> (2b9f718c)

    Made child error handlers inherit master_log status from parent.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c

2010-01-14 10:21:34 +0100 Stephan Bosch <stephan@rename-it.nl> (37aab05f)

    Fixed bug in the logging of action results. The new varexpand error handler
    was not properly tested.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-result.c

2010-01-13 21:07:26 +0100 Stephan Bosch <stephan@rename-it.nl> (d369700c)

    Merged Sieve and ManageSieve for Dovecot v2.0 into one Pigeonhole package.


M	.hgignore
M	AUTHORS
M	INSTALL
M	Makefile.am
M	NEWS
M	README
M	TODO
M	configure.in
M	doc/example-config/conf.d/Makefile.am
A	doc/example-config/conf.d/managesieve.conf
M	doc/man/sieve-filter.1
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1
A	doc/rfc/draft-ietf-sieve-managesieve-09.txt
D	dsieve-config.h.in
A	pigeonhole-config.h.in
M	src/Makefile.am
A	src/lib-managesieve/Makefile.am
A	src/lib-managesieve/managesieve-parser.c
A	src/lib-managesieve/managesieve-parser.h
A	src/lib-managesieve/managesieve-quote.c
A	src/lib-managesieve/managesieve-quote.h
M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-plugins.c
A	src/lib-sievestorage/Makefile.am
A	src/lib-sievestorage/sieve-storage-error.h
A	src/lib-sievestorage/sieve-storage-list.c
A	src/lib-sievestorage/sieve-storage-list.h
A	src/lib-sievestorage/sieve-storage-private.h
A	src/lib-sievestorage/sieve-storage-quota.c
A	src/lib-sievestorage/sieve-storage-quota.h
A	src/lib-sievestorage/sieve-storage-save.c
A	src/lib-sievestorage/sieve-storage-save.h
A	src/lib-sievestorage/sieve-storage-script.c
A	src/lib-sievestorage/sieve-storage-script.h
A	src/lib-sievestorage/sieve-storage.c
A	src/lib-sievestorage/sieve-storage.h
A	src/managesieve-login/Makefile.am
A	src/managesieve-login/client-authenticate.c
A	src/managesieve-login/client-authenticate.h
A	src/managesieve-login/client.c
A	src/managesieve-login/client.h
A	src/managesieve-login/managesieve-login-settings.c
A	src/managesieve-login/managesieve-login-settings.h
A	src/managesieve-login/managesieve-proxy.c
A	src/managesieve-login/managesieve-proxy.h
A	src/managesieve/Makefile.am
A	src/managesieve/cmd-capability.c
A	src/managesieve/cmd-deletescript.c
A	src/managesieve/cmd-getscript.c
A	src/managesieve/cmd-havespace.c
A	src/managesieve/cmd-listscripts.c
A	src/managesieve/cmd-logout.c
A	src/managesieve/cmd-noop.c
A	src/managesieve/cmd-putscript.c
A	src/managesieve/cmd-renamescript.c
A	src/managesieve/cmd-setactive.c
A	src/managesieve/main.c
A	src/managesieve/managesieve-client.c
A	src/managesieve/managesieve-client.h
A	src/managesieve/managesieve-commands.c
A	src/managesieve/managesieve-commands.h
A	src/managesieve/managesieve-common.h
A	src/managesieve/managesieve-quota.c
A	src/managesieve/managesieve-quota.h
A	src/managesieve/managesieve-settings.c
A	src/managesieve/managesieve-settings.h
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am
M	tests/extensions/environment/basic.svtest

2010-01-13 09:16:04 +0100 Stephan Bosch <stephan@rename-it.nl> (0649733b)

    Fixed off-by-one bug in extension reloading.


M	src/lib-sieve/sieve-extensions.c

2010-01-13 08:57:10 +0100 Stephan Bosch <stephan@rename-it.nl> (d08c5d27)

    Improved extension unloading.


M	src/lib-sieve/sieve-extensions.c

2010-01-13 01:16:20 +0100 Stephan Bosch <stephan@rename-it.nl> (81942d5b)

    Fixed segfault bug caused by previous change, occuring when a plugin is
    unloaded.


M	src/lib-sieve/sieve-extensions.c

2010-01-13 09:02:53 +0100 Stephan Bosch <stephan@rename-it.nl> (ba8fb890)

    Improved various aspects of the plugin-related extension API.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve.c

2010-01-12 16:55:12 +0100 Stephan Bosch <stephan@rename-it.nl> (fd7746d6)

    Forgot to add dsieve-config.h to installed headers.


M	Makefile.am

2010-01-12 11:47:18 +0100 Stephan Bosch <stephan@rename-it.nl> (43e1519c)

    Variables extension: removed public dependency on ext-variables-limits.h.


M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2010-01-11 19:03:37 +0100 Stephan Bosch <stephan@rename-it.nl> (e756f4c5)

    Fixed a few memleaks caused by previous changes in error handling.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/sieve-result.c

2010-01-10 03:00:42 +0100 Stephan Bosch <stephan@rename-it.nl> (0ed8aab4)

    Enotify extension: mailto method: fixed small uri validation glitch.


M	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c

2010-01-10 02:39:19 +0100 Stephan Bosch <stephan@rename-it.nl> (3c42f48c)

    Enotify extension: cleaned up notify method API (part is in previous
    change).


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2010-01-12 00:23:08 +0100 Stephan Bosch <stephan@rename-it.nl> (d2ef2e6d)

    Reworked error handler implementation and cleaned up enotify extension
    implementation.


M	configure.in
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
A	src/lib-sieve/plugins/enotify/mailto/Makefile.am
A	src/lib-sieve/plugins/enotify/mailto/ntfy-mailto.c
A	src/lib-sieve/plugins/enotify/mailto/uri-mailto.c
A	src/lib-sieve/plugins/enotify/mailto/uri-mailto.h
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2010-01-08 12:18:20 +0100 Stephan Bosch <stephan@rename-it.nl> (f32da22a)

    Vacation extension: subject is now only MIME-encoded when it contains 8bit
    characters.


M	Makefile.am
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	tests/extensions/vacation/utf-8.svtest

2010-01-08 01:27:00 +0100 Stephan Bosch <stephan@rename-it.nl> (fa3e26d0)

    Fixed compile problems on systems with older autotools installed.


M	configure.in

2010-01-07 23:57:16 +0100 Stephan Bosch <stephan@rename-it.nl> (ea83a088)

    Sieve-filter: made tool compile with Dovecot v2.0 (not working).


M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c

2010-01-07 23:04:23 +0100 Stephan Bosch <stephan@rename-it.nl> (0b46c130)

    Plugin support: added -P parameter to all sieve tools and enabled dict
    support.


M	configure.in
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/testsuite.c

2010-01-07 22:26:29 +0100 Stephan Bosch <stephan@rename-it.nl> (0127ed29)

    Plugin support: fixed unloading problem.


M	src/lib-sieve/sieve.c

2010-01-07 02:56:11 +0100 Stephan Bosch <stephan@rename-it.nl> (f7a3ced7)

    Variables extension: finished namespaces support.


M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2010-01-03 23:25:25 +0100 Stephan Bosch <stephan@rename-it.nl> (d1c9ee43)

    Spamtest extension: added yesno-type header matching tests to the testsuite.


M	tests/extensions/spamvirustest/spamtest.svtest

2010-01-03 23:22:25 +0100 Stephan Bosch <stephan@rename-it.nl> (4583ec5f)

    Spamtest extension: fixed small bug in yesno-type spam header matching.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c

2010-01-03 23:08:21 +0100 Stephan Bosch <stephan@rename-it.nl> (bbf50be8)

    Testsuite: fixed panic occuring when unsetting an unknown configuration
    setting.


M	src/testsuite/testsuite-settings.c

2010-01-03 22:29:04 +0100 Stephan Bosch <stephan@rename-it.nl> (0cb3a96d)

    Spamtest extension: added tests for strlen values to the testsuite.


M	tests/extensions/spamvirustest/spamtest.svtest

2010-01-03 22:28:33 +0100 Stephan Bosch <stephan@rename-it.nl> (d0f9c920)

    Spamtest extension: fixed bugs in extension unloading and in strlen value
    extraction.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c

2010-01-03 22:24:33 +0100 Stephan Bosch <stephan@rename-it.nl> (ae507162)

    Testsuite: added support for removed settings.


M	src/testsuite/cmd-test-config.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h

2010-01-03 21:41:45 +0100 Stephan Bosch <stephan@rename-it.nl> (7b36cdba)

    Spamtest extension: added various value tests to the testsuite.


M	tests/extensions/spamvirustest/spamtest.svtest

2010-01-03 21:41:21 +0100 Stephan Bosch <stephan@rename-it.nl> (446ee0cb)

    Spamtest extension: fixed result when over the maximum score.


M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c

2010-01-03 19:26:23 +0100 Stephan Bosch <stephan@rename-it.nl> (46c23635)

    Spamtest extension: further developed configuration loading and testing.


M	Makefile.am
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
A	tests/extensions/spamvirustest/spamtest.svtest

2010-01-03 17:09:01 +0100 Stephan Bosch <stephan@rename-it.nl> (a9078e5b)

    Testsuite: enabled warnings in testsuite error handler.


M	src/testsuite/testsuite-log.c

2010-01-07 22:22:08 +0100 Stephan Bosch <stephan@rename-it.nl> (f6930c08)

    Testsuite: added command line parameter for copying errors to stderr.


M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite.c

2010-01-03 13:33:45 +0100 Stephan Bosch <stephan@rename-it.nl> (648cb538)

    Testsuite: added support for changing and testing an extension's
    configuration.


M	Makefile.am
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-config.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
A	tests/extensions/subaddress/config.svtest

2010-01-02 19:06:03 +0100 Stephan Bosch <stephan@rename-it.nl> (13bca4d5)

    Adjusted tag parameter validation API.


M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/testsuite/cmd-test-message.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-result.c

2010-01-02 16:16:24 +0100 Stephan Bosch <stephan@rename-it.nl> (14a3169a)

    Restructured handling of Dovecot includes in makefiles.


M	configure.in
M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/body/Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/date/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/imap4flags/Makefile.am
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/mailbox/Makefile.am
M	src/lib-sieve/plugins/notify/Makefile.am
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/spamvirustest/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/sieve-tools/debug/Makefile.am
M	src/testsuite/Makefile.am

2010-01-02 13:56:11 +0100 Stephan Bosch <stephan@rename-it.nl> (2e1a06c2)

    Forgot to update two makefiles.


M	src/lib-sieve/plugins/imap4flags/Makefile.am
M	src/sieve-tools/debug/Makefile.am

2010-01-02 13:50:52 +0100 Stephan Bosch <stephan@rename-it.nl> (d3c2735b)

    Set default dovecot directory to ../dovecot-2.0


M	configure.in

2010-01-02 13:39:38 +0100 Stephan Bosch <stephan@rename-it.nl> (f07845fc)

    Added support for fully compiling against installed Dovecot libraries.


M	Makefile.am
M	configure.in
M	src/Makefile.am
M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/body/Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/date/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/mailbox/Makefile.am
M	src/lib-sieve/plugins/notify/Makefile.am
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/spamvirustest/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2010-01-02 02:56:45 +0100 Stephan Bosch <stephan@rename-it.nl> (5309cd46)

    Updated all copyright messages to the new year.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify-limits.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
M	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
M	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
M	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-plugins.c
M	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-smtp.c
M	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/plugins/lda-sieve/lda-sieve-log.c
M	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/sieve-tools/debug/ext-debug-common.h
M	src/sieve-tools/debug/ext-debug.c
M	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-mailstore.c
M	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2010-01-01 14:22:13 +0100 Stephan Bosch <stephan@rename-it.nl> (75647f79)

    Plugin support: removed ability to have duplicate plugins in different
    directories.


M	src/lib-sieve/sieve-plugins.c

2009-12-31 20:02:40 +0100 Stephan Bosch <stephan@rename-it.nl> (04ac8bb0)

    Fixed yet another small textual error in the README file.


M	README

2009-12-31 19:57:09 +0100 Stephan Bosch <stephan@rename-it.nl> (6cc56d70)

    Fixed small textual error in the README file.


M	README

2009-12-31 19:47:01 +0100 Stephan Bosch <stephan@rename-it.nl> (02ea6992)

    Further developed support for Sieve engine plugins.


M	src/lib-sieve/sieve-plugins.c

2009-12-31 18:10:46 +0100 Stephan Bosch <stephan@rename-it.nl> (65920901)

    Further developed support for Sieve engine plugins.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-common.h
A	src/lib-sieve/sieve-plugins.c
A	src/lib-sieve/sieve-plugins.h
M	src/lib-sieve/sieve.c

2009-12-31 18:42:36 +0100 Stephan Bosch <stephan@rename-it.nl> (8c92c80e)

    dded preliminary support for plugins.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve.c

2009-12-31 04:40:09 +0100 Stephan Bosch <stephan@rename-it.nl> (31e40815)

    Enotify extension: adjusted notify method registration API.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2009-12-30 04:44:27 +0100 Stephan Bosch <stephan@rename-it.nl> (b05726fc)

    Imap4flags extension: added tests to verify removeflag behavior.


M	tests/extensions/imap4flags/basic.svtest

2009-12-30 04:43:02 +0100 Stephan Bosch <stephan@rename-it.nl> (dbcfa2e7)

    Imap4flags extension: fixed bug in removeflag: removing a single flag failed
    due to off-by-one error.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c

2009-12-30 04:40:04 +0100 Stephan Bosch <stephan@rename-it.nl> (59cf3adf)

    Imap4flags extension: added tests for flag string management.


M	Makefile.am
A	tests/extensions/imap4flags/flagstring.svtest

2009-12-31 18:16:03 +0100 Stephan Bosch <stephan@rename-it.nl> (cc4f65c4)

    Updated README file.


M	README

2009-12-30 00:16:30 +0100 Stephan Bosch <stephan@rename-it.nl> (2a541e80)

    Built basic implementation of the spamtest, spamtestplus and virustest
    extensions (unfinished).


M	TODO
M	configure.in
A	doc/rfc/spamvirustest.rfc5235.txt
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/spamvirustest/Makefile.am
A	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c
A	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.h
A	src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c
A	src/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2009-12-29 23:49:27 +0100 Stephan Bosch <stephan@rename-it.nl> (e9e6a82c)

    Improved EACCES error messages for stat() and lstat() syscalls.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-12-29 23:24:15 +0100 Stephan Bosch <stephan@rename-it.nl> (9c8a25f0)

    Renamed sieve_callbacks to sieve_environment and restructured settings API.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/testsuite/testsuite.c

2009-12-29 23:14:28 +0100 Stephan Bosch <stephan@rename-it.nl> (641e1c06)

    Deprecated notify extension: implemented denotify command.


M	Makefile.am
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
A	tests/deprecated/notify/denotify.svtest

2009-12-26 20:39:53 +0100 Stephan Bosch <stephan@rename-it.nl> (99b455a0)

    Moved size limit enforcement to script compilation (lexer) in stead of
    during opening the stream.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2009-12-25 15:30:51 +0100 Stephan Bosch <stephan@rename-it.nl> (23147756)

    LDA Sieve plugin: log messages now include the lda session ID; forgot to set
    master error handler.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-12-25 14:38:27 +0100 Stephan Bosch <stephan@rename-it.nl> (cf5516e0)

    Previous commit was broken.


M	src/plugins/lda-sieve/Makefile.am
M	src/plugins/lda-sieve/lda-sieve-log.c

2009-12-25 14:11:38 +0100 Stephan Bosch <stephan@rename-it.nl> (e72e053d)

    Added LDA session ID to log messages produced by the Sieve plugin.


A	src/plugins/lda-sieve/lda-sieve-log.c
A	src/plugins/lda-sieve/lda-sieve-log.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-12-25 10:38:30 +0100 Stephan Bosch <stephan@rename-it.nl> (4f877644)

    Fixed compiler warning.


M	src/lib-sieve/sieve-script.c

2009-12-23 15:12:37 +0100 Stephan Bosch <stephan@rename-it.nl> (76dfa64d)

    Include extension: global command may now appear anywhere in a script.


M	TODO
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	tests/extensions/include/errors.svtest
M	tests/extensions/include/errors/variables.sieve
M	tests/extensions/include/variables.svtest

2009-12-23 14:17:53 +0100 Stephan Bosch <stephan@rename-it.nl> (ca5912f2)

    Vacation extension: fixed typo in runtime log message (patch by Julian
    Cowley).


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2009-12-23 14:12:59 +0100 Stephan Bosch <stephan@rename-it.nl> (d0aefe8a)

    Testsuite: added tests for new features of the include extension.


M	tests/extensions/include/errors.svtest
A	tests/extensions/include/errors/global-namespace.sieve
A	tests/extensions/include/errors/scriptname.sieve
M	tests/extensions/include/included/variables-included1.sieve
M	tests/extensions/include/included/variables-included2.sieve

2009-12-23 12:28:03 +0100 Stephan Bosch <stephan@rename-it.nl> (e86e039c)

    Updated specification of include extension to latest version.


R068	doc/rfc/draft-ietf-sieve-include-01.txt	doc/rfc/draft-ietf-sieve-include-03.txt

2009-12-23 12:27:38 +0100 Stephan Bosch <stephan@rename-it.nl> (5523de35)

    Include extension: implemented global variables namespace.


M	TODO
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c

2009-12-23 12:26:04 +0100 Stephan Bosch <stephan@rename-it.nl> (1670193a)

    Variables extension: added basic namespace support.


M	TODO
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
A	src/lib-sieve/plugins/variables/ext-variables-namespaces.c
A	src/lib-sieve/plugins/variables/ext-variables-namespaces.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2009-12-22 11:21:34 +0100 Stephan Bosch <stephan@rename-it.nl> (4ebf931a)

    Variables extension: improved source code comment.


M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h

2009-12-24 11:03:14 +0100 Stephan Bosch <stephan@rename-it.nl> (7726ed36)

    Added configurable script size limit.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2009-12-20 10:25:08 +0100 Stephan Bosch <stephan@rename-it.nl> (12a317ad)

    Implemented script name checking using the requirements specified in the
    ManageSieve draft.


M	TODO
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2009-12-17 11:17:18 +0100 Stephan Bosch <stephan@rename-it.nl> (d61ff631)

    Another Dovecot lib-storage API change (patch by Timo Sirainen).


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.c
M	src/sieve-tools/sieve-filter.c
M	src/testsuite/testsuite-mailstore.c

2009-12-13 21:16:10 +0100 Stephan Bosch <stephan@rename-it.nl> (1d3a73aa)

    Adjusted to changes in Dovecot buffer API (patch by Pascal Volk).


M	src/lib-sieve/sieve-binary.c

2009-11-19 21:22:56 +0100 Stephan Bosch <stephan@rename-it.nl> (545ba98e)

    Made homedir aquisition a callback.


M	TODO
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/testsuite/testsuite.c

2009-11-19 18:03:19 +0100 Stephan Bosch <stephan@rename-it.nl> (924f83b7)

    A warning is now produced when parsing invalid integer settings.


M	src/lib-sieve/sieve-settings.c

2009-11-19 18:13:41 +0100 Stephan Bosch <stephan@rename-it.nl> (a2ae237a)

    Made limits on the number of redirects and the number of actions in general
    configurable.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-common.h
D	src/lib-sieve/sieve-limits.c
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-result.c
A	src/lib-sieve/sieve-settings.c
A	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve.c

2009-11-18 23:27:12 +0100 Stephan Bosch <stephan@rename-it.nl> (90d420e1)

    Fixed homedir expansion bug in the include extension.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-11-17 14:46:04 +0100 Stephan Bosch <stephan@rename-it.nl> (191c465d)

    Made sure that scripts are only recompiled when the script file - or the
    symlink pointing to it - is strictly newer.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2009-11-16 00:34:13 +0100 Stephan Bosch <stephan@rename-it.nl> (45a3462d)

    Fixed comment errors in date extension.


M	src/lib-sieve/plugins/date/tst-date.c

2009-11-11 18:51:13 +0100 Stephan Bosch <stephan@rename-it.nl> (fd46aec5)

    LDA Sieve plugin: small cosmetic changes in the sources.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-11-11 17:38:29 +0100 Stephan Bosch <stephan@rename-it.nl> (66d90e53)

    Subaddress extension: now uses Dovecot's recipient_delimiter setting in
    stead of its own sieve_subaddress_sep setting.


M	src/lib-sieve/plugins/subaddress/ext-subaddress.c

2009-11-08 23:35:48 +0100 Stephan Bosch <stephan@rename-it.nl> (aeca3e5b)

    (Hopefully) fixed home expansion in LDA Sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-11-08 23:35:16 +0100 Stephan Bosch <stephan@rename-it.nl> (ea1e83d8)

    Fixed dovecot doc dir.


M	configure.in

2009-11-08 22:43:01 +0100 Stephan Bosch <stephan@rename-it.nl> (35bc88d6)

    Forgot to add sieve_debug after porting logging change from v1.2.


M	src/lib-sieve/sieve-error.c

2009-11-08 21:43:28 +0100 Stephan Bosch <stephan@rename-it.nl> (b49c5731)

    Fixed install location of example config.


M	configure.in
M	doc/example-config/conf.d/Makefile.am

2009-11-08 21:23:55 +0100 Stephan Bosch <stephan@rename-it.nl> (1e1b251b)

    Made LDA Sieve plugin recognize the deliver_log_format setting.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-11-08 21:03:30 +0100 Stephan Bosch <stephan@rename-it.nl> (fb5b443c)

    Added i_debug support.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-11-08 19:50:46 +0100 Stephan Bosch <stephan@rename-it.nl> (3535f14e)

    Fixed a bug in configure.in.


M	configure.in

2009-11-08 18:49:37 +0100 Stephan Bosch <stephan@rename-it.nl> (67957b91)

    Corrected install directories for headers and libraries.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/sieve-tools/Makefile.am

2009-11-08 16:02:59 +0100 Stephan Bosch <stephan@rename-it.nl> (cf4cfd97)

    Made Sieve library a shared library.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/environment/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/plugins/lda-sieve/Makefile.am
M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2009-10-31 22:36:41 +0100 Stephan Bosch <stephan@rename-it.nl> (4ef0c80a)

    Fixed bug in result printing (untroduced in large rework).


M	src/lib-sieve/sieve-result.c

2009-10-31 22:36:14 +0100 Stephan Bosch <stephan@rename-it.nl> (c72834e9)

    Fixed bug in the extensions configuration (untroduced in large rework).


M	src/lib-sieve/sieve-extensions.c

2009-11-05 16:42:28 +0100 Stephan Bosch <stephan@rename-it.nl> (a9a234f3)

    Fixed logging of mailbox names. It logged the converted mUTF7 version in
    stead of the original UTF8.


M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2009-10-31 01:01:58 +0100 Stephan Bosch <stephan@rename-it.nl> (1b257ba4)

    Fixed minor memory leak in the multiscript support.


M	src/lib-sieve/sieve.c

2009-11-05 16:13:37 +0100 Stephan Bosch <stephan@rename-it.nl> (7d0e3eb1)

    Adjusted to changes in Dovecot v2.0's LDA duplicate checking API.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c

2009-11-05 15:47:24 +0100 Stephan Bosch <stephan@rename-it.nl> (852f7bf1)

    Fixed v2.0-specific settings-related bugs remaining in the port from v1.2.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-settings.c
M	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite.c

2009-11-05 15:46:48 +0100 Stephan Bosch <stephan@rename-it.nl> (e455b1d6)

    Adjusted to API changes in Dovecot v2.0.


M	src/lib-sieve-tool/mail-raw.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-mailstore.c

2009-11-05 15:29:42 +0100 Stephan Bosch <stephan@rename-it.nl> (3368ba14)

    Merged concurrent changes.


2009-11-05 15:29:20 +0100 Stephan Bosch <stephan@rename-it.nl> (0bbc0790)

    Properly implemented settings retrieval API.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-common.h
D	src/lib-sieve/sieve-settings.c
D	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sievec.c
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite.c

2009-11-05 15:28:26 +0100 Stephan Bosch <stephan@rename-it.nl> (e8d9d151)

    Fixed compiler warning in imap4flags extension.


M	src/lib-sieve/plugins/imap4flags/tag-flags.c

2009-11-02 01:01:08 +0100 Stephan Bosch <stephan@rename-it.nl> (65583101)

    Major rework of extension handling, making sure that no global state is
    maintained.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/ext-environment-common.h
M	src/lib-sieve/plugins/environment/ext-environment.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/debug/cmd-debug-print.c
M	src/sieve-tools/debug/ext-debug-common.h
M	src/sieve-tools/debug/ext-debug.c
M	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/cmd-test-binary.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-binary.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-multiscript.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c
M	tests/compile/errors/typos.sieve
M	tests/extensions/environment/basic.svtest
M	tests/extensions/imap4flags/multiscript.svtest

2009-10-28 12:23:05 +0100 Stephan Bosch <stephan@rename-it.nl> (b3bb899f)

    Message headers produced from user-supplied data are now RFC2047-encoded if
    necessary for outgoing messages.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
A	tests/extensions/vacation/utf-8.svtest

2009-10-23 00:17:34 +0200 Stephan Bosch <stephan@rename-it.nl> (6a2dbda5)

    Adjusted to changes in the Dovecot service API.


M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2009-10-22 23:12:04 +0200 Stephan Bosch <stephan@rename-it.nl> (7eba6db1)

    Set Dovecot version to v2.0 in configure.in.


M	configure.in

2009-10-22 23:11:25 +0200 Stephan Bosch <stephan@rename-it.nl> (212a4172)

    Added example configuration.


M	Makefile.am
M	configure.in
A	doc/Makefile.am
A	doc/example-config/Makefile.am
A	doc/example-config/conf.d/Makefile.am
A	doc/example-config/conf.d/sieve.conf
A	doc/man/Makefile.am

2009-10-21 22:39:31 +0200 Stephan Bosch <stephan@rename-it.nl> (5a7a227e)

    Moved Sieve plugin installation from modules/lda to modules.


M	src/plugins/lda-sieve/Makefile.am

2009-10-20 22:54:11 +0200 Stephan Bosch <stephan@rename-it.nl> (f2a167f7)

    Notify (deprecated): added support for the $text$ substitution.


M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	tests/deprecated/notify/mailto.svtest

2009-10-20 20:25:49 +0200 Stephan Bosch <stephan@rename-it.nl> (58b43b15)

    Fixed indentation problems in obsolete notify extension.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-10-21 12:52:53 +0200 Stephan Bosch <stephan@rename-it.nl> (f2d1d0a6)

    Adjusted to master service changes in the Dovecot API.


M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2009-10-21 11:52:52 +0200 Stephan Bosch <stephan@rename-it.nl> (8410ec51)

    Adjusted to changes in Dovecot Master Service API.


M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2009-10-19 11:58:11 +0200 Stephan Bosch <stephan@rename-it.nl> (a781e577)

    Finished new settings handling, including debugging support.


M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/sieve-settings.c
M	src/lib-sieve/sieve-settings.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-script.c
A	src/testsuite/testsuite-settings.c
A	src/testsuite/testsuite-settings.h
M	src/testsuite/testsuite.c

2009-10-18 23:22:51 +0200 Stephan Bosch <stephan@rename-it.nl> (273f6b4c)

    Implemented Sieve settings handling (debug not working yet).


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
A	src/lib-sieve/sieve-settings.c
A	src/lib-sieve/sieve-settings.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2009-10-18 18:17:42 +0200 Stephan Bosch <stephan@rename-it.nl> (ec74124a)

    Cleaned up TODO file.


M	TODO

2009-10-18 16:44:23 +0200 Stephan Bosch <stephan@rename-it.nl> (58fb9103)

    Testsuite: added multiscript flag tests for the imap4flags extension.


M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-script.c
M	tests/extensions/imap4flags/multiscript.svtest
A	tests/extensions/imap4flags/multiscript/fileinto.sieve
A	tests/extensions/imap4flags/multiscript/setflag.sieve

2009-10-17 23:05:03 +0200 Stephan Bosch <stephan@rename-it.nl> (9cd8ef59)

    Test suite: added multiscript support and added some new tests with the new
    feature.


M	Makefile.am
M	TODO
M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
A	src/testsuite/tst-test-multiscript.c
A	tests/extensions/imap4flags/multiscript.svtest
A	tests/extensions/imap4flags/multiscript/group-spam.sieve
A	tests/extensions/imap4flags/multiscript/sent-store.sieve
A	tests/extensions/imap4flags/multiscript/spam.sieve

2009-10-17 19:40:18 +0200 Stephan Bosch <stephan@rename-it.nl> (793f4f7a)

    Updated TODO.


M	TODO

2009-10-17 16:35:32 +0200 Stephan Bosch <stephan@rename-it.nl> (c2d28f3a)

    Updated TODO.


M	TODO

2009-10-17 16:15:22 +0200 Stephan Bosch <stephan@rename-it.nl> (851d9d64)

    Fixed race condition occuring when multiple instances are saving the same
    binary (patch by Timo Sirainen).


M	src/lib-sieve/sieve-binary.c

2009-10-11 15:51:54 +0200 Stephan Bosch <stephan@rename-it.nl> (17f472f2)

    Test suite: added tests for not yet working body extension features.


M	tests/extensions/body/content.svtest

2009-10-11 15:51:52 +0200 Stephan Bosch <stephan@rename-it.nl> (cf2d54d5)

    Body extension: minor code cleanups.


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-10-11 12:20:38 +0200 Stephan Bosch <stephan@rename-it.nl> (43ebae99)

    Body extension: fixed minor comment error.


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-10-11 12:08:02 +0200 Stephan Bosch <stephan@rename-it.nl> (45d8d199)

    Test suite: restructured tests for body extension.


M	tests/extensions/body/basic.svtest
M	tests/extensions/body/content.svtest

2009-10-11 12:07:45 +0200 Stephan Bosch <stephan@rename-it.nl> (9520455c)

    Body extension: made parsing of content-type header more robust.


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-10-11 10:46:06 +0200 Stephan Bosch <stephan@rename-it.nl> (ecf0634c)

    Test suite: added tests for basic use of :content with body test.


M	Makefile.am
A	tests/extensions/body/content.svtest

2009-10-10 11:16:08 +0200 Stephan Bosch <stephan@rename-it.nl> (08255724)

    Added TODO item.


M	TODO

2009-10-10 11:14:58 +0200 Stephan Bosch <stephan@rename-it.nl> (c4b07aac)

    Body extension: implemented proper handling of the :raw transform.


M	Makefile.am
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/tst-body.c
M	tests/extensions/body/basic.svtest
A	tests/extensions/body/raw.svtest

2009-10-04 23:18:16 +0200 Stephan Bosch <stephan@rename-it.nl> (7c77a9bd)

    Made compiler more lenient towars missing CRLF at the end of the script in a
    hash comment.


M	Makefile.am
M	src/lib-sieve/sieve-lexer.c
A	tests/compile/warnings.svtest
A	tests/compile/warnings/eof.sieve

2009-09-02 23:17:50 +0200 Stephan Bosch <stephan@rename-it.nl> (8d6882e2)

    Body extension: don't give SKIP_BODY_BLOCK flag to message parser, we want
    the body! (patch by Timo Sirainen).


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-09-02 23:38:57 +0200 Stephan Bosch <stephan@rename-it.nl> (726146c1)

    Added TODO item.


M	TODO

2009-09-02 23:10:59 +0200 Stephan Bosch <stephan@rename-it.nl> (53221b6d)

    Fixed handling of implicit side effects for multiscript execution.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2009-09-02 21:57:48 +0200 Stephan Bosch <stephan@rename-it.nl> (c861ba46)

    Fixed bug in multiscript support; subsequent keep actions were not always
    merged correctly.


M	src/lib-sieve/sieve-result.c

2009-09-02 20:48:53 +0200 Stephan Bosch <stephan@rename-it.nl> (646b649e)

    Fixed segfault bug in the sieve-test tool.


M	src/sieve-tools/sieve-test.c

2009-09-02 20:36:19 +0200 Stephan Bosch <stephan@rename-it.nl> (30b8858d)

    Fixed segfault bug triggered by merging side effects in duplicate actions.


M	src/lib-sieve/sieve-result.c

2009-10-13 20:34:41 +0200 Stephan Bosch <stephan@rename-it.nl> (9a91c518)

    Sieve plugin: don't try stat the user's personal script if it is not
    specified (NULL).


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-10-13 20:32:25 +0200 Stephan Bosch <stephan@rename-it.nl> (8c91dc7d)

    Mailbox extension: mailboxexists source file had wrong name; it is a test
    and not a command.


M	src/lib-sieve/plugins/mailbox/Makefile.am
R100	src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c	src/lib-sieve/plugins/mailbox/tst-mailboxexists.c

2009-08-21 16:30:49 +0200 Stephan Bosch <stephan@rename-it.nl> (33d248f6)

    Enotify: removed spurious extern declaration of notify_extension.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.h

2009-08-21 16:24:07 +0200 Stephan Bosch <stephan@rename-it.nl> (34076558)

    Notify (deprecated): removed spurious source file.


D	src/lib-sieve/plugins/notify/ext-enotify.c

2009-08-21 01:29:32 +0200 Stephan Bosch <stephan@rename-it.nl> (11e752a0)

    Fixed compile warnings in test suite.


M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-script.c

2009-08-16 01:34:37 +0200 Stephan Bosch <stephan@rename-it.nl> (495c8fe7)

    Updated TODO.


M	TODO

2009-08-16 01:34:09 +0200 Stephan Bosch <stephan@rename-it.nl> (ebefaf9f)

    Testsuite: added action execution test for the include extension with stored
    binaries.


M	Makefile.am
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c
A	tests/extensions/include/execute.svtest
A	tests/extensions/include/execute/actions-fileinto.sieve
A	tests/extensions/include/execute/included/actions-fileinto1.sieve
A	tests/extensions/include/execute/included/actions-fileinto2.sieve
A	tests/extensions/include/execute/included/actions-fileinto3.sieve

2009-08-16 01:33:32 +0200 Stephan Bosch <stephan@rename-it.nl> (5a6f9c5b)

    Made sure script can be compared to NULL.


M	src/lib-sieve/sieve-script.c

2009-08-16 00:59:56 +0200 Stephan Bosch <stephan@rename-it.nl> (5e20f16e)

    Fixed bug in error reporting when binary-related script object is not set.


M	src/lib-sieve/sieve-error.c

2009-08-16 01:00:41 +0200 Stephan Bosch <stephan@rename-it.nl> (21697375)

    Testsuite: added support for testing binaries stored on disk.


M	Makefile.am
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-binary.c
M	src/testsuite/ext-testsuite.c
A	src/testsuite/testsuite-binary.c
A	src/testsuite/testsuite-binary.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
R056	tests/compile/examples.svtest	tests/execute/examples.svtest

2009-08-15 19:55:58 +0200 Stephan Bosch <stephan@rename-it.nl> (bf2b918d)

    Updated TODO list.


M	TODO

2009-10-13 20:22:40 +0200 Stephan Bosch <stephan@rename-it.nl> (a60edb07)

    Updated documentation.


M	README

2009-08-15 19:54:56 +0200 Stephan Bosch <stephan@rename-it.nl> (76be3c64)

    Testsuite: added tests for the new date extension.


M	Makefile.am
A	tests/extensions/date/basic.svtest
A	tests/extensions/date/date-parts.svtest
A	tests/extensions/date/zones.svtest

2009-08-15 19:54:34 +0200 Stephan Bosch <stephan@rename-it.nl> (2cbfffad)

    Date extension: now included in default compile.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/sieve-extensions.c

2009-08-15 19:36:02 +0200 Stephan Bosch <stephan@rename-it.nl> (4aec8d11)

    Date extension: accidentally committed debug printf.


M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 19:30:33 +0200 Stephan Bosch <stephan@rename-it.nl> (afd82d40)

    Date extension: fixed problems in time zone handling.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 19:29:39 +0200 Stephan Bosch <stephan@rename-it.nl> (eee29780)

    Testsuite: added some debug code.\n


M	src/testsuite/testsuite-message.c

2009-08-15 16:55:29 +0200 Stephan Bosch <stephan@rename-it.nl> (bbe06f29)

    Date extension: fixed bug in julian date calculation.


M	src/lib-sieve/plugins/date/ext-date-common.c

2009-08-15 16:40:28 +0200 Stephan Bosch <stephan@rename-it.nl> (b3b6c0e4)

    Date extension: fixed a few bugs related to date part extraction.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 14:43:28 +0200 Stephan Bosch <stephan@rename-it.nl> (418bd097)

    Date extension: fixed errorhandling of gmtime() call.


M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 14:34:21 +0200 Stephan Bosch <stephan@rename-it.nl> (2a84d7ca)

    Date extension: completed implementation.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 14:13:03 +0200 Stephan Bosch <stephan@rename-it.nl> (d88c5f03)

    Date extension: all simple integer date parts are fixed-length strings.


M	src/lib-sieve/plugins/date/ext-date-common.c

2009-08-15 14:09:23 +0200 Stephan Bosch <stephan@rename-it.nl> (1f89a586)

    Date extension: implemented time zone handling.


M	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/tst-date.c

2009-08-15 13:37:24 +0200 Stephan Bosch <stephan@rename-it.nl> (b6d41c88)

    Date extension: implemented iso8601 date part.


M	src/lib-sieve/plugins/date/ext-date-common.c

2009-08-15 13:17:59 +0200 Stephan Bosch <stephan@rename-it.nl> (89db87d7)

    Date extension: implemented a few more date parts.


M	src/lib-sieve/plugins/date/ext-date-common.c

2009-10-13 20:10:57 +0200 Stephan Bosch <stephan@rename-it.nl> (47f917af)

    Adjusted to changes in smtp_client API in Dovecot.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-08-12 23:20:43 +0200 Stephan Bosch <stephan@rename-it.nl> (15296322)

    Fixed segfault occuring when message was stored. Namespace was not properly
    initialized.


M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-mailstore.c

2009-08-10 09:55:36 +0200 Stephan Bosch <stephan@rename-it.nl> (103ea620)

    Fixed distribution of unfinished features.


M	Makefile.am

2009-08-09 18:47:13 +0200 Stephan Bosch <stephan@rename-it.nl> (3765cf1c)

    Date extension: built infrastructure for date part testing.


M	src/lib-sieve/plugins/date/Makefile.am
A	src/lib-sieve/plugins/date/ext-date-common.c
M	src/lib-sieve/plugins/date/ext-date-common.h
M	src/lib-sieve/plugins/date/ext-date.c
M	src/lib-sieve/plugins/date/tst-date.c

2009-08-07 21:50:32 +0200 Stephan Bosch <stephan@rename-it.nl> (43271274)

    Sieve-filter: created man-page a design for the command line options.


M	Makefile.am
A	doc/man/sieve-filter.1

2009-08-07 17:42:48 +0200 Stephan Bosch <stephan@rename-it.nl> (2e57e896)

    Include: compare execution result to SIEVE_EXEC_OK and not to zero.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-08-07 17:24:28 +0200 Stephan Bosch <stephan@rename-it.nl> (0ca5d58b)

    Include: fixed return type of execution function.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h

2009-08-07 17:10:30 +0200 Stephan Bosch <stephan@rename-it.nl> (6c9046de)

    Fixed erroneous comment in binary implementation.


M	src/lib-sieve/plugins/include/ext-include-binary.c

2009-08-06 21:46:10 +0200 Stephan Bosch <stephan@rename-it.nl> (951ed92e)

    Fixed typo in TODO file.


M	TODO

2009-08-05 23:40:35 +0200 Stephan Bosch <stephan@rename-it.nl> (7097f58c)

    Updated TODO.


M	TODO

2009-08-05 23:38:20 +0200 Stephan Bosch <stephan@rename-it.nl> (f0166f99)

    Built skeleton implementation for the date extension (RFC 5260).


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/date/Makefile.am
A	src/lib-sieve/plugins/date/ext-date-common.h
A	src/lib-sieve/plugins/date/ext-date.c
A	src/lib-sieve/plugins/date/tst-date.c
M	src/lib-sieve/sieve-extensions.c

2009-08-05 23:28:21 +0200 Stephan Bosch <stephan@rename-it.nl> (0a245504)

    Body: fixed erroneous return code for invalid optional operand.


M	src/lib-sieve/plugins/body/tst-body.c

2009-08-05 13:18:08 +0200 Stephan Bosch <stephan@rename-it.nl> (51cf7daa)

    Be explicit about signedness of data in binary code representation. Some
    architectures, like ARM, differ in this respect.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-interpreter.c

2009-08-05 12:47:27 +0200 Stephan Bosch <stephan@rename-it.nl> (68f65845)

    Side-effect argumennt registrations were not using the SIEVE_OPT_SIDE_EFFECT
    constant.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-code.h

2009-08-05 09:07:14 +0200 Stephan Bosch <stephan@rename-it.nl> (cd4d36c3)

    Removed direct stdint.h includes to prevent portability issues.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-common.h

2009-08-04 22:18:53 +0200 Stephan Bosch <stephan@rename-it.nl> (d317639a)

    Reprioritized and reformatted TODO file.


M	TODO

2009-08-04 19:35:11 +0200 Stephan Bosch <stephan@rename-it.nl> (729452a5)

    Fixed segfault bug in the handling of script open failures.


M	src/lib-sieve/sieve.c

2009-08-04 19:34:18 +0200 Stephan Bosch <stephan@rename-it.nl> (4d9f374d)

    Include: further adjusted log and user messages.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c

2009-08-11 18:13:18 +0200 Stephan Bosch <stephan@rename-it.nl> (88ff726c)

    Mailbox extension: ported mailboxexists test to Dovecot v2.0.


M	src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c

2009-08-04 18:53:50 +0200 Stephan Bosch <stephan@rename-it.nl> (0c230819)

    LDA-Sieve plugin: fixed copy-paste mixup between sieve_after and
    sieve_before. If only a sieve_after script was active, nothing would have
    been executed. Patch by Mike Abbott.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-08-04 18:45:02 +0200 Stephan Bosch <stephan@rename-it.nl> (22c1bca7)

    Include: fixed bug in /home/stephan substitution in sieve_dir path.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-08-04 17:46:30 +0200 Stephan Bosch <stephan@rename-it.nl> (3f844674)

    Include: improved error messages for include failures.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.h

2009-08-04 17:13:50 +0200 Stephan Bosch <stephan@rename-it.nl> (2fcf65a7)

    Include: removed variables-related FIXME and substituted a permanent error
    message.


M	src/lib-sieve/plugins/include/cmd-include.c

2009-08-03 17:48:11 +0200 Stephan Bosch <stephan@rename-it.nl> (d636abe1)

    Forgot to add header in Makefile.am for testsuite.


M	src/testsuite/Makefile.am

2009-08-03 16:43:55 +0200 Stephan Bosch <stephan@rename-it.nl> (9512ce58)

    Fixed automake bug in new maibox extension sources.


M	src/lib-sieve/plugins/mailbox/Makefile.am

2009-08-02 16:34:35 +0200 Stephan Bosch <stephan@rename-it.nl> (b07bf640)

    Testsuite: made valgrind report all allocated blocks that remain at program
    end.


M	Makefile.am

2009-08-02 16:03:13 +0200 Stephan Bosch <stephan@rename-it.nl> (7d7ce23e)

    Testsuite: properly deallocated test name string buffer upon close.


M	src/testsuite/testsuite-common.c

2009-08-02 15:41:08 +0200 Stephan Bosch <stephan@rename-it.nl> (3bf779b0)

    Fixed memory leak in matching code caused by earlier fix.


M	src/lib-sieve/sieve-match.c

2009-08-02 15:26:33 +0200 Stephan Bosch <stephan@rename-it.nl> (a611b483)

    Made proper API for loading a binary directly.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-tools/sieved.c

2009-08-02 14:40:46 +0200 Stephan Bosch <stephan@rename-it.nl> (2c2926aa)

    Testsuite: added an important test for the imap4flags extension.


M	tests/extensions/imap4flags/flagstore.svtest

2009-08-02 11:00:24 +0200 Stephan Bosch <stephan@rename-it.nl> (d03211b9)

    Imap4flags: added flag storage tests using mailbox loopback.


M	Makefile.am
M	TODO
A	tests/extensions/imap4flags/flagstore.svtest

2009-08-02 10:42:58 +0200 Stephan Bosch <stephan@rename-it.nl> (e78f1905)

    Imap4flags: now reads initial flags and keywords from supplied mail. Upon
    delivery this is empty, which still matches the specification.


M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	tests/extensions/imap4flags/basic.svtest

2009-08-02 10:40:12 +0200 Stephan Bosch <stephan@rename-it.nl> (a61fb923)

    Added access methods for message data en script environment to result
    object.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2009-08-02 00:58:47 +0200 Stephan Bosch <stephan@rename-it.nl> (055ade7b)

    Testsuite: added support for testing delivered messages by looping these
    back as the evaluated message. Added tests for the fileinto command.


M	Makefile.am
M	TODO
M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-mailstore.c
A	tests/execute/mailstore.svtest
M	tests/extensions/mailbox/execute.svtest

2009-08-11 18:00:47 +0200 Stephan Bosch <stephan@rename-it.nl> (092ac281)

    Updated README.


M	README

2009-08-01 22:40:21 +0200 Stephan Bosch <stephan@rename-it.nl> (45e64f2c)

    Updated TODO and added a FIXME to the mailbox extension (no ACL support yet,
    but required by RFC).


M	TODO
M	src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c

2009-08-01 22:33:37 +0200 Stephan Bosch <stephan@rename-it.nl> (322597a8)

    Testsuite: added tests for the mailbox extension.


M	Makefile.am
A	tests/extensions/mailbox/execute.svtest

2009-08-01 22:28:50 +0200 Stephan Bosch <stephan@rename-it.nl> (742c8bf0)

    Mailbox extension: finished implementation.


M	src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c
M	src/lib-sieve/plugins/mailbox/ext-mailbox.c

2009-08-01 19:37:24 +0200 Stephan Bosch <stephan@rename-it.nl> (dd677db8)

    Small code cleanup in the lexer code.


M	src/lib-sieve/sieve-lexer.c

2009-08-01 13:33:35 +0200 Stephan Bosch <stephan@rename-it.nl> (a594d8f1)

    Updated man pages.


M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1

2009-07-31 17:35:51 +0200 Stephan Bosch <stephan@rename-it.nl> (f99a83f1)

    Fixed bug in the derivation of the binary path from the script path. A bare
    filename would yield a path relative to root.


M	src/lib-sieve/sieve-script.c

2009-08-11 17:56:48 +0200 Stephan Bosch <stephan@rename-it.nl> (fc41bc1a)

    Testsuite: added support for testing mailbox operations.


M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-mailbox.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite-mailstore.c
A	src/testsuite/testsuite-mailstore.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite.c
M	tests/execute/actions.svtest
M	tests/extensions/imap4flags/execute.svtest

2009-08-11 17:56:02 +0200 Stephan Bosch <stephan@rename-it.nl> (456fd6e0)

    Fixed indent problems.


M	src/lib-sieve/sieve-actions.c
M	src/sieve-tools/sieve-test.c

2009-07-31 00:13:03 +0200 Stephan Bosch <stephan@rename-it.nl> (4b749557)

    Use foreign automake option so it doesn't complain about missing ChangeLog.


M	autogen.sh
M	configure.in

2009-07-30 01:15:00 +0200 Stephan Bosch <stephan@rename-it.nl> (033a28eb)

    Regex: documented source code a little better.


M	src/lib-sieve/plugins/regex/mcht-regex.c

2009-07-30 01:00:14 +0200 Stephan Bosch <stephan@rename-it.nl> (7c2116f7)

    Made sieve_match_context use a proper pool in stead of the datastack.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-result.c

2009-07-29 02:24:34 +0200 Stephan Bosch <stephan@rename-it.nl> (c72624bc)

    Added TODO item.


M	TODO

2009-07-29 01:56:09 +0200 Stephan Bosch <stephan@rename-it.nl> (36963417)

    Include: fixed assertion fail caused by missing initialization (bug surfaces
    only for stored binaries).


M	src/lib-sieve/plugins/include/ext-include.c

2009-07-29 01:04:09 +0200 Stephan Bosch <stephan@rename-it.nl> (1d8fb774)

    Include: include error message for failed :global include.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-07-27 17:51:13 +0200 Stephan Bosch <stephan@rename-it.nl> (b24b7269)

    Sieve-filter: removed unnecessary MAILBOX_TRANSACTION_FLAG_REFRESH flag for
    mailbox_transaction_begin().


M	src/sieve-tools/sieve-filter.c

2009-07-27 00:28:31 +0200 Stephan Bosch <stephan@rename-it.nl> (89ec2c30)

    Reprioritized TODO.


M	TODO

2009-08-07 23:57:52 +0200 Stephan Bosch <stephan@rename-it.nl> (71197d41)

    Fixed compile warnings introduced by porting from v1.2.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2009-08-07 23:50:27 +0200 Stephan Bosch <stephan@rename-it.nl> (dd70d665)

    Mailbox extension: implemented the :create tagged argument for the fileinto
    command.


M	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2009-08-07 23:23:33 +0200 Stephan Bosch <stephan@rename-it.nl> (2b6dacc5)

    Fixed compile error introduced by porting from v1.2.


M	src/lib-sieve/sieve-actions.c

2009-08-07 23:21:07 +0200 Stephan Bosch <stephan@rename-it.nl> (99cf7d64)

    Sieve-filter: added support for setting flags on message in the source
    folder.


M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2009-07-26 14:23:02 +0200 Stephan Bosch <stephan@rename-it.nl> (e1f2abc0)

    Sieve-filter: corrected and optimized mail filter loop.


M	src/sieve-tools/sieve-filter.c

2009-08-07 23:19:51 +0200 Stephan Bosch <stephan@rename-it.nl> (f002157d)

    Fixed broken wiki reference in error message.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-07-26 02:37:58 +0200 Stephan Bosch <stephan@rename-it.nl> (81a4e22d)

    Implemented skeleton of the mailbox extension.


M	configure.in
M	src/lib-sieve/Makefile.am
A	src/lib-sieve/plugins/mailbox/Makefile.am
A	src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c
A	src/lib-sieve/plugins/mailbox/ext-mailbox-common.h
A	src/lib-sieve/plugins/mailbox/ext-mailbox.c
A	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c
M	src/lib-sieve/sieve-extensions.c

2009-07-26 02:37:46 +0200 Stephan Bosch <stephan@rename-it.nl> (f83b6345)

    Notify (deprecated): fixed compiler warnings.


M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/notify/cmd-denotify.c

2009-07-25 22:44:49 +0200 Stephan Bosch <stephan@rename-it.nl> (a8af380a)

    Sieve-filter: implemented alternative discard actions.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h
M	src/sieve-tools/sieve-filter.c

2009-07-25 20:12:18 +0200 Stephan Bosch <stephan@rename-it.nl> (a8c1aca0)

    Sieve-filter: implemented expunging filtered messages in the source folder
    (move).


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h
M	src/sieve-tools/sieve-filter.c

2009-07-25 01:42:50 +0200 Stephan Bosch <stephan@rename-it.nl> (a584bec0)

    Added means to get keep status from sieve execution through main Sieve
    library API.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c

2009-07-25 00:39:35 +0200 Stephan Bosch <stephan@rename-it.nl> (565eb918)

    Minor changes to the sieve-filter tool.


M	src/sieve-tools/sieve-filter.c

2009-08-07 23:17:00 +0200 Stephan Bosch <stephan@rename-it.nl> (b5f343d8)

    Restructured store action implementation to properly handle an attempt to
    store (keep) a message in the folder it originates from.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2009-08-07 23:11:14 +0200 Stephan Bosch <stephan@rename-it.nl> (ace3f5a4)

    Notify (deprecated): implemented skeleton of the denotify command.


M	src/lib-sieve/plugins/notify/Makefile.am
M	src/lib-sieve/plugins/notify/cmd-denotify.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
A	src/lib-sieve/plugins/notify/ext-notify-common.c
M	src/lib-sieve/plugins/notify/ext-notify-common.h
M	src/lib-sieve/plugins/notify/ext-notify.c

2009-07-24 12:36:17 +0200 Stephan Bosch <stephan@rename-it.nl> (aebf3eee)

    Fallback to INBOX when storing into a namespace prefix used wrong storage.


M	src/lib-sieve/sieve-actions.c

2009-07-24 04:19:44 +0200 Stephan Bosch <stephan@rename-it.nl> (580a1330)

    Separated source and destination mail store for sieve-filter tool.


M	src/sieve-tools/sieve-filter.c

2009-08-07 23:07:35 +0200 Stephan Bosch <stephan@rename-it.nl> (1ee0aea6)

    Showed wrong folder name upon INBOX fallback.


M	src/lib-sieve/sieve-actions.c

2009-08-07 23:05:25 +0200 Stephan Bosch <stephan@rename-it.nl> (633c5a18)

    Fixed some code indent problems.


M	src/lib-sieve/sieve-actions.c

2009-08-07 23:04:06 +0200 Stephan Bosch <stephan@rename-it.nl> (12b28e57)

    Made attempt to store in a namespace prefix fall back into INBOX.


M	src/lib-sieve/sieve-actions.c

2009-08-07 23:01:03 +0200 Stephan Bosch <stephan@rename-it.nl> (e4c6a900)

    Fixed logging of folder namespace prefix in store action.


M	src/lib-sieve/sieve-actions.c

2009-07-22 00:51:36 +0200 Stephan Bosch <stephan@rename-it.nl> (59c13056)

    Fixed potential segfault argument parameter validation.


M	src/lib-sieve/sieve-validator.c

2009-07-21 13:09:06 +0200 Stephan Bosch <stephan@rename-it.nl> (4ad98f80)

    Testsuite: added tests on the envelope of outgoing messages produced by
    redirect, enotify:mailto, reject and vacation.


M	Makefile.am
M	src/testsuite/testsuite.c
A	tests/execute/smtp.svtest
M	tests/extensions/enotify/mailto.svtest
A	tests/extensions/reject/smtp.svtest
A	tests/extensions/vacation/smtp.svtest

2009-08-07 22:48:19 +0200 Stephan Bosch <stephan@rename-it.nl> (66cddf8e)

    Major rework of envelope address handling: a normalized version of the
    envelope addresses is maintained in the message context and message context
    is now also available during action execution.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite.c

2009-08-07 22:36:04 +0200 Stephan Bosch <stephan@rename-it.nl> (085cad82)

    Fixed segfault bug: made sure return_path is never used without checking for
    NULL first.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/notify/cmd-notify.c
M	src/lib-sieve/sieve-address.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-smtp.c

2009-08-07 22:33:35 +0200 Stephan Bosch <stephan@rename-it.nl> (72d3a452)

    Removed the sieve-filter tool from the default build. Need to specify
    --with-unfinished-features to get this tool built.


M	src/sieve-tools/Makefile.am

2009-07-19 23:18:34 +0200 Stephan Bosch <stephan@rename-it.nl> (d88b39dc)

    Added compilation support for ereject extension. It is unfinished right now
    and performs exactly the same action as reject.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-extensions.c

2009-07-19 23:17:46 +0200 Stephan Bosch <stephan@rename-it.nl> (d1763395)

    Fixed bugs in the autoconf structure regarding enabling/disabling unfinished
    features.


M	configure.in
M	dsieve-config.h.in

2009-07-19 21:57:13 +0200 Stephan Bosch <stephan@rename-it.nl> (1d3c285b)

    Downloaded RFC for reject and ereject extensions.


D	doc/rfc/draft-ietf-sieve-refuse-reject-07.txt
A	doc/rfc/reject-ereject.rfc5429.txt

2009-07-19 16:59:47 +0200 Stephan Bosch <stephan@rename-it.nl> (18d4325f)

    Improved file manipulation error messages regarding EACCES error.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-script.c

2009-07-18 11:35:46 +0200 Stephan Bosch <stephan@rename-it.nl> (4ce148eb)

    Testsuite: added tests for envelope/address test behavior with non-existant
    subaddress :detail part.


M	tests/extensions/subaddress/basic.svtest

2009-07-18 11:34:52 +0200 Stephan Bosch <stephan@rename-it.nl> (5542d373)

    Envelope: fixed bug in application of address parts; failure to obtain the
    part would cause inappropriate match success (bug reported by Ron Lee)


M	src/lib-sieve/ext-envelope.c

2009-07-18 11:14:18 +0200 Stephan Bosch <stephan@rename-it.nl> (aeaec526)

    Added additional headers to the list of allowed headers for the address
    test.


M	src/lib-sieve/tst-address.c

2009-07-17 21:52:13 +0200 Stephan Bosch <stephan@rename-it.nl> (2310bf8d)

    Notify (deprecated): added FIXME notice with missing compatibility features.


M	src/lib-sieve/plugins/notify/ext-notify.c

2009-07-17 21:46:00 +0200 Stephan Bosch <stephan@rename-it.nl> (fb59caa7)

    Testsuite: added tests for deprecated notify extension.


M	Makefile.am
A	tests/deprecated/notify/basic.svtest
A	tests/deprecated/notify/errors.svtest
A	tests/deprecated/notify/errors/options.sieve
A	tests/deprecated/notify/execute.svtest
A	tests/deprecated/notify/execute/duplicates.sieve
A	tests/deprecated/notify/mailto.svtest

2009-07-19 17:20:17 +0200 Stephan Bosch <stephan@rename-it.nl> (3451d5e6)

    Notify (deprecated): fixed compile error due to inappropriate use of SMTP
    API.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-07-19 17:19:25 +0200 Stephan Bosch <stephan@rename-it.nl> (cb2dddc6)

    Testsuite: added support for specifying the available extensions at the
    commandline.


M	src/testsuite/testsuite.c

2009-07-17 21:38:40 +0200 Stephan Bosch <stephan@rename-it.nl> (23a5f9c8)

    Testsuite: Notify: added test with empty :from argument for notify command.


M	tests/extensions/enotify/errors.svtest
M	tests/extensions/enotify/errors/from-mailto.sieve

2009-07-17 21:37:23 +0200 Stephan Bosch <stephan@rename-it.nl> (96090a84)

    Notify (deprecated): fixed segfault bug in the :options argument validation.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-07-17 21:01:03 +0200 Stephan Bosch <stephan@rename-it.nl> (7bf26c2a)

    Notify (deprecated): added runtime check for recipient limit.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-07-17 20:47:22 +0200 Stephan Bosch <stephan@rename-it.nl> (e6586cb7)

    Notify (deprecated): added runtime check for duplicate recipients.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-07-17 20:32:39 +0200 Stephan Bosch <stephan@rename-it.nl> (445934a2)

    Notify (deprecated): added support for substitutions in the notification
    message.


M	src/lib-sieve/plugins/notify/cmd-notify.c

2009-07-17 03:28:04 +0200 Stephan Bosch <stephan@rename-it.nl> (f5268a9c)

    Made deprecated notify extension implementation compatible with cmusieve,
    except for the denotify command.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/enotify/Makefile.am
D	src/lib-sieve/plugins/enotify/ext-notify.c
A	src/lib-sieve/plugins/notify/Makefile.am
A	src/lib-sieve/plugins/notify/cmd-denotify.c
A	src/lib-sieve/plugins/notify/cmd-notify.c
A	src/lib-sieve/plugins/notify/ext-enotify.c
A	src/lib-sieve/plugins/notify/ext-notify-common.h
A	src/lib-sieve/plugins/notify/ext-notify-limits.h
A	src/lib-sieve/plugins/notify/ext-notify.c

2009-07-08 19:37:24 +0200 Stephan Bosch <stephan@rename-it.nl> (dd412acb)

    Added partial support for the depricated notify extension.


M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
A	src/lib-sieve/plugins/enotify/ext-notify.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-extensions.c

2009-07-17 03:14:45 +0200 Stephan Bosch <stephan@rename-it.nl> (1c8106f0)

    Fixed validator extension validation. It validated the first non-require
    command before validating the extensions, which produced useless error
    messages.


M	src/lib-sieve/sieve-validator.c

2009-07-17 01:04:19 +0200 Stephan Bosch <stephan@rename-it.nl> (a11b7ade)

    Made discard action log a message to avoid confusion about disappearing
    messages.


M	src/lib-sieve/cmd-discard.c

2009-07-15 19:36:17 +0200 Stephan Bosch <stephan@rename-it.nl> (e7a1f2e1)

    Inappropriately ignored return value from fwrite in outgoing message
    construction.


M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h

2009-07-14 23:08:09 +0200 Stephan Bosch <stephan@rename-it.nl> (8c55bae5)

    Adjusted to Dovecot mail API changes.


M	src/lib-sieve/sieve-actions.c

2009-07-08 17:08:23 +0200 Stephan Bosch <stephan@rename-it.nl> (646cd2c1)

    Apparently, deprecated is spelled with an 'e'.


M	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/sieve-extensions.c

2009-07-06 15:05:25 +0200 Stephan Bosch <stephan@rename-it.nl> (9621cd92)

    Fixed AIX compile problem provisionally.


M	src/lib-sieve/sieve-ast.c

2009-07-05 09:45:48 +0200 Stephan Bosch <stephan@rename-it.nl> (31b9138b)

    Updated TODO.


M	TODO

2009-07-05 10:12:52 +0200 Stephan Bosch <stephan@rename-it.nl> (125bacfe)

    Added item to .hgignore.


M	.hgignore

2009-07-05 10:11:13 +0200 Stephan Bosch <stephan@rename-it.nl> (7ec4862e)

    Improved consistency of sieve tool documentation.


M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c

2009-07-04 14:08:39 +0200 Stephan Bosch <stephan@rename-it.nl> (591ba090)

    Enhanced extensions configuration, allowing to specify the enabled
    extensions relatively to the default.


M	src/lib-sieve/sieve-extensions.c

2009-07-04 11:26:01 +0200 Stephan Bosch <stephan@rename-it.nl> (242ee570)

    Sieve plugin: forgot to initialize script execution status.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-07-05 10:05:32 +0200 Stephan Bosch <stephan@rename-it.nl> (532f630e)

    Sieve plugin: fixed logging for execution of default main script (went to
    STDERR).


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-06-28 15:57:09 +0200 Stephan Bosch <stephan@rename-it.nl> (e7905807)

    Added support for CRLF line breaks in strbuf error handler (ManageSieve
    fix).


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2009-06-21 13:35:00 +0200 Stephan Bosch <stephan@rename-it.nl> (05cfe989)

    Adjusted to mailbox API changes in Dovecot.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve/sieve-actions.c

2009-06-01 10:20:14 +0200 Stephan Bosch <stephan@rename-it.nl> (7d664b76)

    Body: fixed potential problems wil NUL characters in body parts.


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-06-01 10:00:07 +0200 Stephan Bosch <stephan@rename-it.nl> (16372f50)

    Body: fixed assert failure caused by ugly code and a change in dovecot.


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-05-29 23:50:53 +0200 Stephan Bosch <stephan@rename-it.nl> (6d5c81d5)

    Body: fixed part of the assert fail problems (Dovecot change).


M	src/lib-sieve/plugins/body/ext-body-common.c

2009-05-29 23:49:30 +0200 Stephan Bosch <stephan@rename-it.nl> (8d04eab3)

    Adjusted to changes in Dovecot regarding opening a raw stream.


M	src/lib-sieve-tool/mail-raw.c
M	src/sieve-tools/sieve-test.c

2009-05-24 18:48:44 +0200 Stephan Bosch <stephan@rename-it.nl> (e701fa64)

    Started using v2.0 settings interface to get plugin settings.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-05-23 13:11:17 +0200 Stephan Bosch <stephan@rename-it.nl> (e5648819)

    Migrated Dovecot Sieve to Dovecot v2.0.


M	.hgignore
M	src/lib-sieve-tool/Makefile.am
M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
A	src/lib-sieve/sieve-smtp.c
A	src/lib-sieve/sieve-smtp.h
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/Makefile.am
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/Makefile.am
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c

2009-05-18 08:54:26 +0200 Stephan Bosch <stephan@rename-it.nl> (f639cbb5)

    Fixed compiler warning.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-05-17 20:05:44 +0200 Stephan Bosch <stephan@rename-it.nl> (fe48395e)

    Made default of sieve_dir setting match the ManageSieve implementation.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-05-17 19:54:10 +0200 Stephan Bosch <stephan@rename-it.nl> (72aa0c23)

    Fixed indent problems.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-04-18 19:54:33 +0200 Stephan Bosch <stephan@rename-it.nl> (798f2181)

    Released v0.1.5 for Dovecot v1.2.rc3.


M	NEWS
M	configure.in

2009-04-18 10:15:24 +0200 Stephan Bosch <stephan@rename-it.nl> (55414588)

    Increased binary version number.


M	src/lib-sieve/sieve-binary.c

2009-04-18 10:10:21 +0200 Stephan Bosch <stephan@rename-it.nl> (d76b84ac)

    Improved error message for unknown Sieve extension to account for core
    commands included as an extension.


M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	tests/compile/errors.svtest
M	tests/compile/errors/require.sieve

2009-04-14 18:54:17 +0200 Stephan Bosch <stephan@rename-it.nl> (35608790)

    Fixed bug in the Sieve plugin's return value that caused omission of
    delivery when no Sieve scripts are present. Bug spotted by Matthijs
    Kooijman.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-04-13 23:18:11 +0200 Stephan Bosch <stephan@rename-it.nl> (abe5e27a)

    Environment: fixed compiler warning.


M	src/lib-sieve/plugins/environment/ext-environment-common.c

2009-04-13 21:31:39 +0200 Stephan Bosch <stephan@rename-it.nl> (27dc5d4c)

    Updated NEWS file for upcoming v1.2 release.


M	NEWS

2009-04-13 21:30:00 +0200 Stephan Bosch <stephan@rename-it.nl> (b6ee35f9)

    Testsuite: forgot to add new testcase file.


A	tests/extensions/environment/rfc.svtest

2009-04-12 15:01:45 +0200 Stephan Bosch <stephan@rename-it.nl> (27317986)

    Environment: fixed segfault and fixed some rfc deviations.


M	Makefile.am
M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/tst-environment.c

2009-04-12 14:10:40 +0200 Stephan Bosch <stephan@rename-it.nl> (a87632e2)

    Environment: activated host environment item.


M	src/lib-sieve/plugins/environment/ext-environment-common.c
M	src/lib-sieve/plugins/environment/sieve-ext-environment.h
M	src/testsuite/testsuite.c
M	tests/extensions/environment/basic.svtest

2009-04-12 12:09:18 +0200 Stephan Bosch <stephan@rename-it.nl> (dfc1ce09)

    Implemented core support for the environment extension.


M	Makefile.am
M	TODO
M	configure.in
A	doc/rfc/environment.rfc5183.txt
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/environment/Makefile.am
A	src/lib-sieve/plugins/environment/ext-environment-common.c
A	src/lib-sieve/plugins/environment/ext-environment-common.h
A	src/lib-sieve/plugins/environment/ext-environment.c
A	src/lib-sieve/plugins/environment/sieve-ext-environment.h
A	src/lib-sieve/plugins/environment/tst-environment.c
M	src/lib-sieve/sieve-extensions.c
A	tests/extensions/environment/basic.svtest

2009-04-11 00:10:37 +0200 Stephan Bosch <stephan@rename-it.nl> (a8380918)

    Include: added various tests to the testsuite.


M	Makefile.am
A	tests/extensions/include/included-global/rfc-ex1-spam_tests.sieve
A	tests/extensions/include/included/rfc-ex1-always_allow.sieve
A	tests/extensions/include/included/rfc-ex1-mailing_lists.sieve
A	tests/extensions/include/included/rfc-ex1-spam_tests.sieve
A	tests/extensions/include/included/rfc-ex2-spam_filter_script.sieve
A	tests/extensions/include/included/twice-1.sieve
A	tests/extensions/include/included/twice-2.sieve
A	tests/extensions/include/rfc-ex1-default.sieve
A	tests/extensions/include/rfc-ex2-default.sieve
A	tests/extensions/include/rfc.svtest
A	tests/extensions/include/twice.svtest

2009-04-11 00:10:00 +0200 Stephan Bosch <stephan@rename-it.nl> (89baff27)

    Include: fixed bug in binary save of global variable scope.


M	src/lib-sieve/plugins/include/ext-include-variables.c

2009-04-10 23:30:15 +0200 Stephan Bosch <stephan@rename-it.nl> (538adede)

    Include: implemented :once modifier for the include command.


M	Makefile.am
M	README
M	TODO
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	tests/extensions/include/included/once-2.sieve
A	tests/extensions/include/included/once-3.sieve
A	tests/extensions/include/included/once-4.sieve
M	tests/extensions/include/once.svtest

2009-04-10 23:15:51 +0200 Stephan Bosch <stephan@rename-it.nl> (d8d0f6f6)

    Testsuite: fixed minor result passing problem in test code generation.


M	src/testsuite/cmd-test.c

2009-04-10 20:27:18 +0200 Stephan Bosch <stephan@rename-it.nl> (f91b1ee6)

    Include: improved runtime script handling.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-04-10 19:30:01 +0200 Stephan Bosch <stephan@rename-it.nl> (fa900dea)

    Include: added runtime check for circular include.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-04-10 19:19:46 +0200 Stephan Bosch <stephan@rename-it.nl> (59192a4e)

    Fixed a few small indent problems.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-04-10 19:16:07 +0200 Stephan Bosch <stephan@rename-it.nl> (47ce4d8c)

    Include: added skeleton :once modifier.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/sieve-binary-dumper.c
A	tests/extensions/include/included/once-1.sieve
A	tests/extensions/include/included/once-2.sieve
A	tests/extensions/include/once.svtest

2009-04-10 19:11:54 +0200 Stephan Bosch <stephan@rename-it.nl> (0c984f4c)

    Include: fixed bug in sub-sub include.


M	src/lib-sieve/plugins/include/ext-include-common.c

2009-04-10 19:10:25 +0200 Stephan Bosch <stephan@rename-it.nl> (768bc087)

    Fixed warnings in revised plugin code.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-04-10 17:39:10 +0200 Stephan Bosch <stephan@rename-it.nl> (0b247829)

    Minor update to the sieve-test manpage


M	doc/man/sieve-test.1

2009-04-10 15:29:01 +0200 Stephan Bosch <stephan@rename-it.nl> (f7de6816)

    Include: updated implementation status.


M	README
M	src/lib-sieve/plugins/include/ext-include.c

2009-04-10 15:26:01 +0200 Stephan Bosch <stephan@rename-it.nl> (e8eb2131)

    Replaced include specification with latest draft.


D	doc/rfc/draft-daboo-sieve-include-05.txt
A	doc/rfc/draft-ietf-sieve-include-01.txt

2009-04-10 15:24:48 +0200 Stephan Bosch <stephan@rename-it.nl> (528faeeb)

    Include: replaced import/export commands with global command as specified in
    latest draft. Import/export are now DEPRICATED.


M	src/lib-sieve/plugins/include/Makefile.am
R067	src/lib-sieve/plugins/include/cmd-import.c	src/lib-sieve/plugins/include/cmd-global.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	tests/extensions/include/errors.svtest
D	tests/extensions/include/errors/import-runtime.sieve
M	tests/extensions/include/errors/variables-inactive.sieve
M	tests/extensions/include/errors/variables.sieve
M	tests/extensions/include/included/variables-included1.sieve
M	tests/extensions/include/included/variables-included2.sieve
M	tests/extensions/include/included/variables-included3.sieve
M	tests/extensions/include/variables.svtest

2009-04-10 14:13:35 +0200 Stephan Bosch <stephan@rename-it.nl> (bece6db9)

    Definitively fixed handling group specifications in mailbox lists of address
    headers.


M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	tests/address.svtest
M	tests/extensions/subaddress/basic.svtest

2009-04-10 02:37:34 +0200 Stephan Bosch <stephan@rename-it.nl> (1a998318)

    Fixed minor typo in sieve-test man page.


M	doc/man/sieve-test.1

2009-04-10 01:27:22 +0200 Stephan Bosch <stephan@rename-it.nl> (50a63dd8)

    Updated TODO.


M	TODO

2009-04-10 00:56:15 +0200 Stephan Bosch <stephan@rename-it.nl> (e6379fcc)

    Major rework of the multiscript support for better error handling.


M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c

2009-04-09 01:14:42 +0200 Stephan Bosch <stephan@rename-it.nl> (a7d63599)

    Improved plugin debug message.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-04-08 18:56:40 +0200 Stephan Bosch <stephan@rename-it.nl> (c61d3920)

    Fixed problem of unexecuted before/after global scripts when user script is
    missing.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-04-07 00:05:55 +0200 Stephan Bosch <stephan@rename-it.nl> (72d99bb2)

    Adjusted to signal handler API changes in Dovecot.


M	src/lib-sieve-tool/sieve-tool.c

2009-04-06 00:40:03 +0200 Stephan Bosch <stephan@rename-it.nl> (4a46ebdb)

    Fixed segfault bug caused by undisclosed-recipients:; when fed to the
    subaddress extension.


M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c

2009-03-21 15:56:27 +0100 Stephan Bosch <stephan@rename-it.nl> (77282a29)

    Added tag 0.1.4 for changeset b7eb19f14fa7


2009-03-21 15:56:15 +0100 Stephan Bosch <stephan@rename-it.nl> (1dd42d50)

    Released v0.1.4 for Dovecot v1.2.beta3.


M	NEWS
M	configure.in

2009-03-20 20:00:38 +0100 Stephan Bosch <stephan@rename-it.nl> (f8e708b6)

    Documented vnd.dovecot.debug in the sieve-test man page.


M	doc/man/sieve-test.1

2009-03-20 19:47:38 +0100 Stephan Bosch <stephan@rename-it.nl> (67e76294)

    Updated NEWS file.


M	NEWS

2009-03-20 19:30:37 +0100 Stephan Bosch <stephan@rename-it.nl> (3d4541e6)

    Improved error handling and added debug extension to all applicable Sieve
    tools.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/sieve-tools/sieve-filter.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c

2009-03-14 19:21:21 +0100 Stephan Bosch <stephan@rename-it.nl> (3f6045df)

    Created replaceable error handler for system errors.


M	NEWS
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2009-03-14 18:15:39 +0100 Stephan Bosch <stephan@rename-it.nl> (720ef3aa)

    Added Dovecot-specific debug extension to the sieve-test tool.


M	TODO
M	configure.in
M	src/sieve-tools/Makefile.am
A	src/sieve-tools/debug/Makefile.am
A	src/sieve-tools/debug/cmd-debug-print.c
A	src/sieve-tools/debug/ext-debug-common.h
A	src/sieve-tools/debug/ext-debug.c
A	src/sieve-tools/debug/sieve-ext-debug.h
M	src/sieve-tools/sieve-test.c

2009-03-14 17:07:27 +0100 Stephan Bosch <stephan@rename-it.nl> (b9cd2210)

    Sieve-filter: implemented basic filtering.


M	TODO
M	src/sieve-tools/sieve-filter.c

2009-03-05 20:39:56 +0100 Stephan Bosch <stephan@rename-it.nl> (8ed87679)

    Removed unnecessary linker flags that break Solaris compilation.


M	src/sieve-tools/Makefile.am
M	src/testsuite/Makefile.am

2009-02-24 13:56:46 +0100 Stephan Bosch <stephan@rename-it.nl> (d8696f98)

    Fixed MAC OSX compile problems: forgot extern modifier at various places.


M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2009-02-23 22:06:58 +0100 Stephan Bosch <stephan@rename-it.nl> (27eff17b)

    Fixed issue with opening relative paths as a mail file.


M	src/lib-sieve-tool/mail-raw.c

2009-02-23 18:41:34 +0100 Stephan Bosch <stephan@rename-it.nl> (77844c3f)

    Fixed tmp file name for raw storage used for sieve tools.


M	src/lib-sieve-tool/mail-raw.c

2009-02-19 19:35:32 +0100 Stephan Bosch <stephan@rename-it.nl> (8a946c8a)

    Updated TODO.


M	TODO

2009-02-19 19:31:32 +0100 Stephan Bosch <stephan@rename-it.nl> (8a09768f)

    Removed inappropriate ACAP rfc for i;ascii-numeric comparator and
    substituted rfc4790 in stead.


A	doc/rfc/collation.rfc4790.txt
D	doc/rfc/i-ascii-numeric.rfc2244.txt

2009-02-15 14:10:55 +0100 Stephan Bosch <stephan@rename-it.nl> (32456894)

    Sieve-filter: developed listing messages in a folder a little further.


M	src/sieve-tools/sieve-filter.c

2009-02-15 13:17:52 +0100 Stephan Bosch <stephan@rename-it.nl> (280b3158)

    Started work on sieve-filter tool.


M	.hgignore
M	src/sieve-tools/Makefile.am
A	src/sieve-tools/sieve-filter.c

2009-02-14 10:10:56 +0100 Stephan Bosch <stephan@rename-it.nl> (31e29a26)

    Testsuite: added a few final important tests for the enotify extension.


M	TODO
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	tests/extensions/enotify/mailto.svtest

2009-02-13 00:19:43 +0100 Stephan Bosch <stephan@rename-it.nl> (a877a6b5)

    Added tag 0.1.3 for changeset 8bdff47ab3f0


2009-02-13 00:19:36 +0100 Stephan Bosch <stephan@rename-it.nl> (d6e7b70f)

    Released v0.1.3 for Dovecot v1.2.beta1.


M	configure.in

2009-02-12 22:19:39 +0100 Stephan Bosch <stephan@rename-it.nl> (d3afdf0c)

    Added items to the TODO list.


M	TODO

2009-02-12 22:02:27 +0100 Stephan Bosch <stephan@rename-it.nl> (54155f42)

    Minor changes to the sievec man page.


M	doc/man/sievec.1

2009-02-12 21:07:58 +0100 Stephan Bosch <stephan@rename-it.nl> (49fd5448)

    Saved binary now has at most the same permissions as the script file itself.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2009-02-12 01:14:52 +0100 Stephan Bosch <stephan@rename-it.nl> (882e35b3)

    Fixed bug the code generation of extensions.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-extensions.c

2009-02-12 01:14:14 +0100 Stephan Bosch <stephan@rename-it.nl> (8da93e37)

    Added -x parameter to sieved tool.


M	doc/man/sieved.1
M	src/sieve-tools/sieved.c

2009-02-11 23:22:34 +0100 Stephan Bosch <stephan@rename-it.nl> (f42e9d1b)

    Fixed small bug in the extension validation.


M	src/lib-sieve/sieve-validator.c

2009-02-11 22:39:48 +0100 Stephan Bosch <stephan@rename-it.nl> (79ea9888)

    Imapflags: marked as depricated and disabled by default.


M	src/lib-sieve/sieve-extensions.c

2009-02-11 22:35:59 +0100 Stephan Bosch <stephan@rename-it.nl> (9b109792)

    Properly implemented verification of loaded extensions after last require
    command is validated.


M	src/lib-sieve/sieve-validator.c

2009-02-11 22:35:24 +0100 Stephan Bosch <stephan@rename-it.nl> (7455ba6b)

    Testsuite: added small test for ?* match values.


M	tests/extensions/variables/match.svtest

2009-02-11 22:10:14 +0100 Stephan Bosch <stephan@rename-it.nl> (f915a0c9)

    Updated NEWS file for next release.


M	NEWS

2009-02-08 18:21:26 +0100 Stephan Bosch <stephan@rename-it.nl> (1fa1740c)

    Testsuite: added message tests for the vacation extension.


M	Makefile.am
A	tests/extensions/vacation/message.svtest
D	tests/extensions/vacation/references.svtest

2009-02-08 18:06:46 +0100 Stephan Bosch <stephan@rename-it.nl> (2aad47e4)

    Testsuite: added support for resetting the result.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-result-reset.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/tst-test-script-run.c
M	tests/extensions/enotify/mailto.svtest

2009-02-08 00:32:47 +0100 Stephan Bosch <stephan@rename-it.nl> (8488591c)

    Testsuite: added tests for enotify with multiple recipients.


M	tests/extensions/enotify/mailto.svtest

2009-02-08 00:10:26 +0100 Stephan Bosch <stephan@rename-it.nl> (a6a59602)

    Testsuite: added support for looping back outgoing SMTP messages back into
    the test.


M	Makefile.am
M	TODO
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-message.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-message.c
M	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-smtp.c
M	src/testsuite/testsuite-smtp.h
M	src/testsuite/tst-test-result-execute.c
A	tests/extensions/enotify/mailto.svtest

2009-02-07 18:26:50 +0100 Stephan Bosch <stephan@rename-it.nl> (3f573f87)

    Defined very basic function for address comparison.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h

2009-02-07 00:44:59 +0100 Stephan Bosch <stephan@rename-it.nl> (acb82aab)

    Adjusted store action to API changes in Dovecot.


M	src/lib-sieve/sieve-actions.c

2009-02-06 18:28:47 +0100 Stephan Bosch <stephan@rename-it.nl> (31bc8a9f)

    Vacation: made addresses comparison case-insensitive.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-address.c
M	tests/extensions/vacation/execute/action.sieve

2009-02-05 00:24:29 +0100 Stephan Bosch <stephan@rename-it.nl> (741b295b)

    Updated documentation.


M	README

2009-02-05 00:21:29 +0100 Stephan Bosch <stephan@rename-it.nl> (214d41be)

    Imap4flags: fixed dumping of \flagged flag in flags side effect.


M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	tests/extensions/imap4flags/execute/imapflags.sieve

2009-02-05 00:17:28 +0100 Stephan Bosch <stephan@rename-it.nl> (87c64daf)

    Imap4flags: added support for obsolete imapflags extension for backwards
    compatibility with CMUSieve.


M	Makefile.am
M	src/lib-sieve/plugins/imap4flags/Makefile.am
A	src/lib-sieve/plugins/imap4flags/ext-imapflags.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/testsuite.c
A	tests/extensions/imap4flags/errors.svtest
A	tests/extensions/imap4flags/errors/imapflags.sieve
A	tests/extensions/imap4flags/execute/imapflags.sieve

2009-02-04 22:43:33 +0100 Stephan Bosch <stephan@rename-it.nl> (a4176570)

    Validator: added support for checking loaded extensions.


M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2009-02-04 22:13:48 +0100 Stephan Bosch <stephan@rename-it.nl> (06949d2b)

    Added facilities for requiring extensions and making extensions mutually
    exclusive.


M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2009-02-04 21:32:17 +0100 Stephan Bosch <stephan@rename-it.nl> (542e9489)

    Imap4flags: gave testsuite directory proper name.


M	Makefile.am
R100	tests/extensions/imapflags/basic.svtest	tests/extensions/imap4flags/basic.svtest
R100	tests/extensions/imapflags/execute.svtest	tests/extensions/imap4flags/execute.svtest
R100	tests/extensions/imapflags/execute/flags-side-effect.sieve	tests/extensions/imap4flags/execute/flags-side-effect.sieve
R100	tests/extensions/imapflags/hasflag.svtest	tests/extensions/imap4flags/hasflag.svtest

2009-02-04 20:24:43 +0100 Stephan Bosch <stephan@rename-it.nl> (0e048ed6)

    Imap4flags: properly named extension objects.


M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c
M	src/lib-sieve/sieve-extensions.c

2009-02-04 20:18:13 +0100 Stephan Bosch <stephan@rename-it.nl> (aa8eb737)

    Imap4flags: properly named functions.


M	src/lib-sieve/plugins/imap4flags/cmd-flag.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
M	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
M	src/lib-sieve/plugins/imap4flags/tag-flags.c
M	src/lib-sieve/plugins/imap4flags/tst-hasflag.c

2009-02-04 19:59:56 +0100 Stephan Bosch <stephan@rename-it.nl> (c051208b)

    Imap4flags: properly named extension directory and source files.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
R066	src/lib-sieve/plugins/imapflags/Makefile.am	src/lib-sieve/plugins/imap4flags/Makefile.am
R099	src/lib-sieve/plugins/imapflags/cmd-flag.c	src/lib-sieve/plugins/imap4flags/cmd-flag.c
R099	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c
R097	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h	src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.h
R098	src/lib-sieve/plugins/imapflags/ext-imapflags.c	src/lib-sieve/plugins/imap4flags/ext-imap4flags.c
R099	src/lib-sieve/plugins/imapflags/tag-flags.c	src/lib-sieve/plugins/imap4flags/tag-flags.c
R099	src/lib-sieve/plugins/imapflags/tst-hasflag.c	src/lib-sieve/plugins/imap4flags/tst-hasflag.c

2009-02-03 21:06:34 +0100 Stephan Bosch <stephan@rename-it.nl> (bd16e831)

    Fixed README: now mentions the naming differences of the imap4flags and
    enotify extensions compared to the old CMU Sieve plugin.


M	README

2009-02-02 11:03:07 +0100 Stephan Bosch <stephan@rename-it.nl> (e54e3922)

    Fixed compile warning caused by missing include.


M	src/lib-sieve/cmd-redirect.c

2009-02-01 19:49:03 +0100 Stephan Bosch <stephan@rename-it.nl> (448d8db5)

    Installed RFC documents for notify extension and corresponding mailto
    method.


D	doc/rfc/draft-ietf-sieve-notify-12.txt
R051	doc/rfc/draft-ietf-sieve-notify-mailto-10.txt	doc/rfc/notify-mailto.rfc5436.txt
A	doc/rfc/notify.rfc5435.txt
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2009-02-01 14:06:47 +0100 Stephan Bosch <stephan@rename-it.nl> (97c1dc8d)

    Cleaned up :matches match-type code.


M	src/lib-sieve/mcht-matches.c
M	tests/match-types/matches.svtest

2009-02-01 13:30:11 +0100 Stephan Bosch <stephan@rename-it.nl> (8d4f5015)

    Fixed bug in the :matches match type.


M	src/lib-sieve/mcht-matches.c
M	tests/match-types/matches.svtest

2009-01-27 17:19:22 +0100 Stephan Bosch <stephan@rename-it.nl> (ab6177dd)

    Added important TODO item.


M	TODO

2009-01-27 10:54:31 +0100 Stephan Bosch <stephan@rename-it.nl> (826c4ef8)

    Changed SMTP message generation back to CRLF, because the Sieve engine uses
    CRLF internally.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/rfc2822.c

2009-01-27 00:32:20 +0100 Stephan Bosch <stephan@rename-it.nl> (8e33424b)

    Fixed use of data stack by binary dumping code.


M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c

2009-01-27 00:31:57 +0100 Stephan Bosch <stephan@rename-it.nl> (37ed7849)

    Regex: fixed segfault bug occuring when regex is freed.


M	src/lib-sieve/plugins/regex/mcht-regex.c

2009-01-27 00:31:05 +0100 Stephan Bosch <stephan@rename-it.nl> (6b604fd1)

    Testsuite: fixed warning.


M	src/testsuite/tst-test-script-compile.c

2009-01-27 00:30:43 +0100 Stephan Bosch <stephan@rename-it.nl> (286d42d4)

    Increased various initial pool sizes.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-validator.c

2009-01-26 23:21:36 +0100 Stephan Bosch <stephan@rename-it.nl> (d4bc6cce)

    Increased initial size of binary's lazy_file pool.


M	src/lib-sieve/sieve-binary.c

2009-01-26 22:58:30 +0100 Stephan Bosch <stephan@rename-it.nl> (cc9ea513)

    Fixed error in the SMTP message composition that caused mixing of CRLF and
    LF in redirected messages.


M	src/lib-sieve/rfc2822.c

2009-01-22 23:17:06 +0100 Stephan Bosch <stephan@rename-it.nl> (751e4095)

    Updated NEWS file.


M	NEWS

2009-01-22 23:16:30 +0100 Stephan Bosch <stephan@rename-it.nl> (dbadda3a)

    Updated NEWS file.


M	NEWS

2009-01-22 22:02:30 +0100 Stephan Bosch <stephan@rename-it.nl> (7527d467)

    Updated README file.


M	README

2009-01-22 21:55:27 +0100 Stephan Bosch <stephan@rename-it.nl> (8687fe89)

    Prepared NEWS file for next release.


M	NEWS

2009-01-22 20:43:52 +0100 Stephan Bosch <stephan@rename-it.nl> (6d2522d0)

    Updated documentation.


M	INSTALL

2009-01-22 00:20:10 +0100 Stephan Bosch <stephan@rename-it.nl> (cf33f358)

    Testsuite: added simple tests for the match values produced by the :regex
    match.


M	Makefile.am
A	tests/extensions/regex/match-values.svtest

2009-01-22 00:19:41 +0100 Stephan Bosch <stephan@rename-it.nl> (8fa2ee03)

    Regex: fixed bug in the match value indexes.


M	src/lib-sieve/plugins/regex/mcht-regex.c

2009-01-18 17:52:40 +0100 Stephan Bosch <stephan@rename-it.nl> (2919e2d0)

    Added multiscript draft to the doc/rfc directory.


A	doc/rfc/draft-degener-sieve-multiscript-00.txt

2009-01-18 17:32:15 +0100 Stephan Bosch <stephan@rename-it.nl> (bfbd7d01)

    Testsuite: added storage of outgoing SMTP messages.


M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-message.c
A	src/testsuite/testsuite-smtp.c
A	src/testsuite/testsuite-smtp.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-script-run.c

2009-01-18 14:07:46 +0100 Stephan Bosch <stephan@rename-it.nl> (fc011a3e)

    Testsuite: exported message handling to separate module.


M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite-message.c
A	src/testsuite/testsuite-message.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite.c

2009-01-16 19:56:15 +0100 Stephan Bosch <stephan@rename-it.nl> (b4e7dc74)

    Enotify: cleaned up method API.


M	TODO
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2009-01-16 19:20:22 +0100 Stephan Bosch <stephan@rename-it.nl> (2f8711f9)

    Testsuite: improved testsuite with respect to testing of setflag, addflag
    and removeflag commands.


M	tests/extensions/imapflags/basic.svtest
M	tests/extensions/imapflags/hasflag.svtest

2009-01-16 19:19:46 +0100 Stephan Bosch <stephan@rename-it.nl> (b9ba12b3)

    Imap4flags: merged setflag, addflag and removeflag implementations.


M	TODO
M	src/lib-sieve/plugins/imapflags/Makefile.am
D	src/lib-sieve/plugins/imapflags/cmd-addflag.c
A	src/lib-sieve/plugins/imapflags/cmd-flag.c
D	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
D	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h

2009-01-16 18:32:12 +0100 Stephan Bosch <stephan@rename-it.nl> (3eb9eaed)

    Added sieve_subaddress_sep setting.


M	INSTALL
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c

2009-01-11 12:14:38 +0100 Stephan Bosch <stephan@rename-it.nl> (e46dea37)

    Fixed bug in the outgoing mail address verification.


M	src/lib-sieve/sieve-address.c
M	tests/compile/errors.svtest
M	tests/compile/errors/out-address.sieve

2009-01-11 11:56:13 +0100 Stephan Bosch <stephan@rename-it.nl> (7dab1255)

    Enotify/Mailto: prevented single recipient from receiving multiple
    notifications on the same message.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	tests/extensions/enotify/execute.svtest
M	tests/extensions/enotify/execute/duplicates.sieve

2009-01-11 11:53:13 +0100 Stephan Bosch <stephan@rename-it.nl> (5ef4fda9)

    Testsuite: fixed segfault bugs in the error handling.


M	src/testsuite/testsuite.c

2009-01-10 23:57:03 +0100 Stephan Bosch <stephan@rename-it.nl> (8c07be8e)

    Small project status update to the README.


M	README

2009-01-10 23:50:24 +0100 Stephan Bosch <stephan@rename-it.nl> (3f157f00)

    Enotify: added API for detecting and killing duplicate notification
    recipients.


M	TODO
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	tests/extensions/enotify/execute.svtest
A	tests/extensions/enotify/execute/duplicates.sieve

2009-01-10 23:19:48 +0100 Stephan Bosch <stephan@rename-it.nl> (935133cc)

    Multiscript: implemented sorting of script files in script directories for
    Sieve plugin.


M	TODO
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-01-10 23:07:59 +0100 Stephan Bosch <stephan@rename-it.nl> (702921e7)

    Updated documentation.


M	INSTALL
M	README
M	TODO
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-01-10 22:22:17 +0100 Stephan Bosch <stephan@rename-it.nl> (d60ea1a8)

    Reprioritized TODO.


M	TODO

2009-01-10 21:54:06 +0100 Stephan Bosch <stephan@rename-it.nl> (a48cf926)

    Got array_get_pool() integrated into Dovecot.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2009-01-10 21:14:50 +0100 Stephan Bosch <stephan@rename-it.nl> (ac14b30e)

    Updated documentation.


M	README
M	TODO

2009-01-10 20:37:42 +0100 Stephan Bosch <stephan@rename-it.nl> (d5c70708)

    Fixed segfault in lda sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2009-01-10 19:28:28 +0100 Stephan Bosch <stephan@rename-it.nl> (b54aac45)

    Enotify/Mailto: fixed bug in the generation of the SMTP envelope sender.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2009-01-10 19:18:13 +0100 Stephan Bosch <stephan@rename-it.nl> (77eb7de3)

    Enotify: fixed various indent mishaps in ntfy-mailto.c.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2009-01-10 19:15:05 +0100 Stephan Bosch <stephan@rename-it.nl> (5c0e1898)

    Multiscript: added untested multiscript support to the lda sieve plugin.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c

2009-01-09 21:37:37 +0100 Stephan Bosch <stephan@rename-it.nl> (a301c3c1)

    Added a few accessors to the binary object for convenience.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2009-01-09 21:37:03 +0100 Stephan Bosch <stephan@rename-it.nl> (a69ec7dd)

    Testsuite: fixed warning.


M	src/testsuite/testsuite.c

2009-01-09 02:31:19 +0100 Stephan Bosch <stephan@rename-it.nl> (37288bc4)

    Testsuite: fixed result handling.


M	src/testsuite/testsuite.c

2009-01-09 01:37:28 +0100 Stephan Bosch <stephan@rename-it.nl> (b4a41703)

    Removed remaining references to sieve-exec.


M	TODO

2009-01-07 01:14:05 +0100 Stephan Bosch <stephan@rename-it.nl> (b3f7c89e)

    Extended sievec command to allow compiling an entire directory.


M	doc/man/sievec.1
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2009-01-06 23:42:30 +0100 Stephan Bosch <stephan@rename-it.nl> (c9ae3e44)

    Minor revisions to the sieved man page.


M	doc/man/sieved.1

2009-01-06 23:40:00 +0100 Stephan Bosch <stephan@rename-it.nl> (e1c090fe)

    Made outfile argument of the sievec command optional.


M	doc/man/sievec.1
M	src/sieve-tools/sievec.c

2009-01-06 23:16:32 +0100 Stephan Bosch <stephan@rename-it.nl> (338121cb)

    Updated README.


M	README

2009-01-06 22:48:48 +0100 Stephan Bosch <stephan@rename-it.nl> (1e538582)

    Merged sieve-exec tool into sieve-test.


M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	doc/man/sieved.1
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/sieve-tools/Makefile.am
D	src/sieve-tools/sieve-exec.c
M	src/sieve-tools/sieve-test.c

2009-01-06 01:30:55 +0100 Stephan Bosch <stephan@rename-it.nl> (3792833c)

    Fixed various result error messages.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2009-01-06 00:28:56 +0100 Stephan Bosch <stephan@rename-it.nl> (f75b4a61)

    Fixed a theoretical security hole occuring when directory is opened as a
    Sieve binary.


M	src/lib-sieve/sieve-binary.c

2009-01-04 19:17:14 +0100 Stephan Bosch <stephan@rename-it.nl> (8763c8d1)

    Updated TODO.


M	TODO
M	src/sieve-tools/sieve-test.c

2009-01-04 18:08:23 +0100 Stephan Bosch <stephan@rename-it.nl> (d717b880)

    Multiscript: fixed small bug in result printing.


M	src/lib-sieve/sieve-result.c
M	src/sieve-tools/sieve-test.c

2009-01-04 17:54:12 +0100 Stephan Bosch <stephan@rename-it.nl> (11eb119a)

    Multiscript: improved handling of the keep action.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-tools/sieve-test.c

2009-01-04 01:00:50 +0100 Stephan Bosch <stephan@rename-it.nl> (82d7857b)

    Updated TODO.


M	TODO

2009-01-04 00:55:07 +0100 Stephan Bosch <stephan@rename-it.nl> (bcbb3217)

    Multiscript: implemented execution of multiple scripts for the sieve-test
    command.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-tools/sieve-test.c

2009-01-03 21:54:29 +0100 Stephan Bosch <stephan@rename-it.nl> (9f5a9b7c)

    Multiscript: implemented API.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2009-01-03 20:26:41 +0100 Stephan Bosch <stephan@rename-it.nl> (8c269b44)

    Multiscript: various changes to the interpreter to facilitate multiscript
    support.


M	doc/man/sieve-test.1
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-exec.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite.c

2009-01-02 23:23:06 +0100 Stephan Bosch <stephan@rename-it.nl> (92a22a1a)

    Multiscript: added keep status evaluation to result object.


M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2009-01-02 22:57:51 +0100 Stephan Bosch <stephan@rename-it.nl> (1d773826)

    Updated copyright messages to 2009.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/mail-raw.h
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve-tool/sieve-tool.h
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/cmd-stop.c
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-limits.c
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/lib-sieve/tst-truefalse.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-tools/sieve-exec.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c
M	src/sieve-tools/sieved.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-result-print.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-arguments.c
M	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-log.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/testsuite-script.c
M	src/testsuite/testsuite-script.h
M	src/testsuite/testsuite-substitutions.c
M	src/testsuite/testsuite-substitutions.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-error.c
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-result.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c

2009-01-02 21:48:57 +0100 Stephan Bosch <stephan@rename-it.nl> (60a4708a)

    Testsuite: extended multiscript testing.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-result.c
M	tests/multiscript/conflicts.svtest
A	tests/multiscript/fileinto-frop.sieve
A	tests/multiscript/keep.sieve

2009-01-02 14:51:03 +0100 Stephan Bosch <stephan@rename-it.nl> (3285d7b9)

    Testsuite: added multiscript tests and required support.


M	Makefile.am
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-result-print.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-log.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
M	src/testsuite/tst-test-result-execute.c
M	src/testsuite/tst-test-script-compile.c
M	src/testsuite/tst-test-script-run.c
A	tests/multiscript/basic.svtest
A	tests/multiscript/conflicts.svtest
A	tests/multiscript/fileinto-inbox.sieve
A	tests/multiscript/notify.sieve
A	tests/multiscript/reject-1.sieve
A	tests/multiscript/reject-2.sieve
A	tests/multiscript/vacation.sieve

2009-01-02 14:12:33 +0100 Stephan Bosch <stephan@rename-it.nl> (0d907631)

    Enotify: removed conflicting action flag.


M	src/lib-sieve/plugins/enotify/cmd-notify.c

2009-01-02 14:11:27 +0100 Stephan Bosch <stephan@rename-it.nl> (1cdc4fab)

    Testsuite: forgot to add new files.


A	src/testsuite/testsuite-log.c
A	src/testsuite/testsuite-log.h
A	src/testsuite/testsuite-script.c
A	src/testsuite/testsuite-script.h

2009-01-02 12:35:13 +0100 Stephan Bosch <stephan@rename-it.nl> (bff1bf54)

    Testsuite: split off script and error handler implementations into separate
    modules.


M	src/testsuite/Makefile.am
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-result.c
M	src/testsuite/tst-test-error.c
M	tests/extensions/enotify/basic.svtest

2009-01-01 22:27:19 +0100 Stephan Bosch <stephan@rename-it.nl> (3c46a10a)

    Fixed warning caused by previous changes.


M	src/lib-sieve/plugins/enotify/cmd-notify.c

2009-01-01 19:37:26 +0100 Stephan Bosch <stephan@rename-it.nl> (6cdfe4f4)

    Multiscript: resolved inter-script action conflict situations.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-result.c

2009-01-01 19:14:40 +0100 Stephan Bosch <stephan@rename-it.nl> (643e8901)

    Cleaned up action interface.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2009-01-01 18:12:08 +0100 Stephan Bosch <stephan@rename-it.nl> (4a2e1f72)

    Multiscript: adjusted result object for sequential execution.


M	TODO
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/testsuite/tst-test-result.c
M	tests/execute/actions.svtest
M	tests/extensions/vacation/execute.svtest

2008-12-29 17:32:34 +0100 Stephan Bosch <stephan@rename-it.nl> (a5744734)

    Updated TODO.


M	TODO

2008-12-28 21:09:49 +0100 Stephan Bosch <stephan@rename-it.nl> (b73e9222)

    Testsuite: added basic result execution tests for various extensions.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c
M	src/testsuite/testsuite-result.c
M	tests/execute/actions.svtest
M	tests/extensions/imapflags/execute.svtest
M	tests/extensions/reject/execute.svtest
M	tests/extensions/vacation/execute.svtest

2008-12-28 20:00:26 +0100 Stephan Bosch <stephan@rename-it.nl> (84b5f74b)

    Testsuite: added support for executing results.


M	src/lib-sieve/sieve-result.h
M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-result.c
M	src/testsuite/testsuite-result.h
A	src/testsuite/tst-test-result-execute.c
M	tests/extensions/enotify/execute.svtest

2008-12-28 18:49:06 +0100 Stephan Bosch <stephan@rename-it.nl> (0e272ca2)

    Testsuite: forgot committing rename in previous commit.


R074	src/testsuite/tst-test-compile.c	src/testsuite/tst-test-script-compile.c
R065	src/testsuite/tst-test-execute.c	src/testsuite/tst-test-script-run.c

2008-12-28 18:47:27 +0100 Stephan Bosch <stephan@rename-it.nl> (09137580)

    Testsuite: renamed script compile and run commands to be more intuitive.


M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/tst-test-result.c
M	tests/compile/compile.svtest
M	tests/compile/errors.svtest
M	tests/compile/examples.svtest
M	tests/execute/actions.svtest
M	tests/execute/errors.svtest
M	tests/extensions/enotify/errors.svtest
M	tests/extensions/enotify/execute.svtest
M	tests/extensions/imapflags/execute.svtest
M	tests/extensions/include/errors.svtest
M	tests/extensions/regex/errors.svtest
M	tests/extensions/reject/execute.svtest
M	tests/extensions/relational/errors.svtest
M	tests/extensions/vacation/errors.svtest
M	tests/extensions/vacation/execute.svtest
M	tests/extensions/variables/errors.svtest
M	tests/testsuite.svtest

2008-12-28 18:06:38 +0100 Stephan Bosch <stephan@rename-it.nl> (27844839)

    Testsuite: started implementing support for testsuite-specific string
    substitutions.


M	src/lib-sieve/sieve-code.c
M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
A	src/testsuite/testsuite-arguments.c
A	src/testsuite/testsuite-arguments.h
M	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite-substitutions.c
A	src/testsuite/testsuite-substitutions.h
M	tests/testsuite.svtest

2008-12-28 13:37:18 +0100 Stephan Bosch <stephan@rename-it.nl> (d622ff1a)

    Exported variable string argument into the Sieve engine itself as 'catenated
    string' (for similar use in other extensions like the testsuite).


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h

2008-12-28 12:21:09 +0100 Stephan Bosch <stephan@rename-it.nl> (9c996b7e)

    Exported variable string operand into the Sieve engine itself as 'catenated
    string' (for similar use in other extensions like the testsuite).


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-12-28 01:56:48 +0100 Stephan Bosch <stephan@rename-it.nl> (0cd98756)

    Updated TODO.


M	TODO

2008-12-28 01:56:39 +0100 Stephan Bosch <stephan@rename-it.nl> (2d214818)

    Enotify: mailto: forgot to add 'from' header to list of reserved headers.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-28 01:49:39 +0100 Stephan Bosch <stephan@rename-it.nl> (48d8584d)

    Updated TODO list.


M	TODO

2008-12-28 01:48:32 +0100 Stephan Bosch <stephan@rename-it.nl> (124df196)

    Enotify: added enotify extension to default compile.


M	Makefile.am
M	TODO
M	configure.in
M	dsieve-config.h.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/sieve-extensions.c

2008-12-28 01:31:35 +0100 Stephan Bosch <stephan@rename-it.nl> (3023a857)

    Enotify: mailto: enforced limits on number of recipients and headers.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-28 00:48:17 +0100 Stephan Bosch <stephan@rename-it.nl> (9b5384db)

    Enotify: mailto: finished URI parsing.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	tests/extensions/enotify/errors.svtest
M	tests/extensions/enotify/errors/uri-mailto.sieve

2008-12-27 23:57:52 +0100 Stephan Bosch <stephan@rename-it.nl> (18e89e3a)

    Enotify: mailto: fixed various bugs introduced by previous enthousiastic
    commit.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-27 23:47:26 +0100 Stephan Bosch <stephan@rename-it.nl> (8e50743d)

    Enotify: mailto: added check for duplicates of unique headers in the mailto
    URI.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-27 22:47:45 +0100 Stephan Bosch <stephan@rename-it.nl> (ec0368c2)

    Enotify: previous change did not distinguish Cc recipients.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-27 22:43:33 +0100 Stephan Bosch <stephan@rename-it.nl> (877ba290)

    Enotify: added check for duplicate recipients within URI.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-27 21:57:43 +0100 Stephan Bosch <stephan@rename-it.nl> (9b37865e)

    Updated TODO.


M	TODO

2008-12-27 21:52:31 +0100 Stephan Bosch <stephan@rename-it.nl> (a3ab3278)

    Enotify: added FIXME.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c

2008-12-27 21:33:53 +0100 Stephan Bosch <stephan@rename-it.nl> (6c1b2dff)

    Enotify: added runtime support for options and performed some minor
    cleanups.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2008-12-27 19:25:43 +0100 Stephan Bosch <stephan@rename-it.nl> (ec0a0295)

    Enotify: added parsing support for the :options argument.


M	TODO
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	tests/extensions/enotify/errors.svtest
A	tests/extensions/enotify/errors/options.sieve

2008-12-27 14:24:52 +0100 Stephan Bosch <stephan@rename-it.nl> (924f35f9)

    Fixed semantic bug in extension handling.


M	src/lib-sieve/sieve-extensions.c

2008-12-27 14:11:20 +0100 Stephan Bosch <stephan@rename-it.nl> (c744cea0)

    Fixed segfault bug in extension handling.


M	src/lib-sieve/sieve-extensions.c

2008-12-27 00:09:43 +0100 Stephan Bosch <stephan@rename-it.nl> (e86e6068)

    Moved new_message_id function to sieve-message.c where it is more
    appropriate.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h

2008-12-27 00:08:55 +0100 Stephan Bosch <stephan@rename-it.nl> (eac31301)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/enotify/ext-enotify.c

2008-12-25 23:31:31 +0100 Stephan Bosch <stephan@rename-it.nl> (4bf97c70)

    Updated TODO.


M	TODO

2008-12-25 23:26:59 +0100 Stephan Bosch <stephan@rename-it.nl> (031af6a2)

    Enotify: implemented notify_method_capability test.


M	Makefile.am
M	TODO
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c
A	tests/extensions/enotify/notify_method_capability.svtest
R077	tests/extensions/enotify/valid-notify-method.svtest	tests/extensions/enotify/valid_notify_method.svtest

2008-12-25 21:07:02 +0100 Stephan Bosch <stephan@rename-it.nl> (887c8f69)

    Enotify: implemented the valid_notify_method test.


M	TODO
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	tests/extensions/enotify/errors.svtest
R100	tests/extensions/enotify/errors/url-mailto.sieve	tests/extensions/enotify/errors/uri-mailto.sieve
R100	tests/extensions/enotify/errors/url.sieve	tests/extensions/enotify/errors/uri.sieve
A	tests/extensions/enotify/valid-notify-method.svtest

2008-12-25 18:02:06 +0100 Stephan Bosch <stephan@rename-it.nl> (8e29831d)

    Simplified handling of extension ids.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/ext-testsuite.c

2008-12-25 15:26:34 +0100 Stephan Bosch <stephan@rename-it.nl> (c2a70097)

    Renamed extension object registry.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-objects.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h

2008-12-21 20:50:54 +0100 Stephan Bosch <stephan@rename-it.nl> (2d060bda)

    Merged concurrent changes.


2008-12-21 20:49:19 +0100 Stephan Bosch <stephan@rename-it.nl> (9ea68a04)

    Implemented support for configuring the available extensions.


M	TODO
M	doc/man/sieve-test.1
M	doc/man/sievec.1
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-tools/sieve-test.c
M	src/sieve-tools/sievec.c

2008-12-21 16:32:07 +0100 Stephan Bosch <stephan@rename-it.nl> (590bcfd9)

    Vacation: changed location of X-Sieve header.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-12-21 16:30:16 +0100 Stephan Bosch <stephan@rename-it.nl> (5eabe7ae)

    Vacation: last change used wrong address.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-12-21 16:11:52 +0100 Stephan Bosch <stephan@rename-it.nl> (a5264617)

    Vacation: properly implemented use of :from address argument.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-12-21 15:55:07 +0100 Stephan Bosch <stephan@rename-it.nl> (63ed66d9)

    Fixed accidental paste in sieve-address.c.


M	src/lib-sieve/sieve-address.c

2008-12-21 14:26:22 +0100 Stephan Bosch <stephan@rename-it.nl> (1d830b2d)

    Enotify: added recipient verification and implemented proper To and Cc
    header composition.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	tests/extensions/enotify/errors.svtest
M	tests/extensions/enotify/errors/url-mailto.sieve

2008-12-21 12:35:11 +0100 Stephan Bosch <stephan@rename-it.nl> (d7b2fe30)

    Enotify: forgot to add new file to the test suite.


A	tests/extensions/enotify/errors/from-mailto.sieve

2008-12-21 12:33:46 +0100 Stephan Bosch <stephan@rename-it.nl> (19b76ef1)

    Enotify: implemented verification of the :from address.


M	TODO
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	tests/extensions/enotify/errors.svtest

2008-12-21 11:38:38 +0100 Stephan Bosch <stephan@rename-it.nl> (2277d1c6)

    Enotify: made log struct name shorter.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2008-12-21 11:37:24 +0100 Stephan Bosch <stephan@rename-it.nl> (73ca4dbd)

    Fixed compiler warning about signed char.


M	src/lib-sieve/rfc2822.c

2008-12-21 02:18:51 +0100 Stephan Bosch <stephan@rename-it.nl> (9a045825)

    Enotify: corrected mailto URI error messages.


M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-21 01:30:02 +0100 Stephan Bosch <stephan@rename-it.nl> (60e726c4)

    Enotify: cleaned up URI error handling.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-21 01:08:38 +0100 Stephan Bosch <stephan@rename-it.nl> (43d53ad3)

    Enotify: shielded most of the method API from compiler internals.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2008-12-20 21:45:13 +0100 Stephan Bosch <stephan@rename-it.nl> (392dc84a)

    Enotify: added owner email to auto-submitted header.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-19 18:04:11 +0100 Stephan Bosch <stephan@rename-it.nl> (084ea434)

    Updated TODO.


M	TODO

2008-12-19 17:27:56 +0100 Stephan Bosch <stephan@rename-it.nl> (1c0ad81a)

    Small cosmetic changes to lexer sources.


M	src/lib-sieve/sieve-lexer.c

2008-12-19 17:20:13 +0100 Stephan Bosch <stephan@rename-it.nl> (57b1da62)

    Enotify: mailto: excluded body 'header' in URI from the header field body
    verification.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-19 17:06:02 +0100 Stephan Bosch <stephan@rename-it.nl> (9e32d835)

    Enotify: mailto: implemented verification of (unstructured) header field
    bodies and improved URI syntax checking.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h

2008-12-19 16:12:57 +0100 Stephan Bosch <stephan@rename-it.nl> (87a9a696)

    Substituted mail_get_headers for mail_get_headers_utf8 for those occasions
    where utf8 is of no concern.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/tst-exists.c

2008-12-19 16:07:03 +0100 Stephan Bosch <stephan@rename-it.nl> (a2968815)

    Improved result execution and prevented failure on store action on dry run
    (with no specified namespace).


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2008-12-19 16:06:09 +0100 Stephan Bosch <stephan@rename-it.nl> (419fec52)

    Enotify: avoided sending notifications on auto-submitted messages.


M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-19 10:25:46 +0100 Stephan Bosch <stephan@rename-it.nl> (d67280b3)

    Adapted to changes in the Dovecot API.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c

2008-12-18 00:23:05 +0100 Stephan Bosch <stephan@rename-it.nl> (06e78525)

    Merged concurrent changes.


2008-12-18 00:22:17 +0100 Stephan Bosch <stephan@rename-it.nl> (7f6dcb03)

    Updated TODO: listed what remains to be done for the enotify extension and
    its mailto method.


M	TODO

2008-12-18 00:21:34 +0100 Stephan Bosch <stephan@rename-it.nl> (ff5efcaa)

    Updated enotify:mailto draft RFC.


R081	doc/rfc/draft-ietf-sieve-notify-mailto-09.txt	doc/rfc/draft-ietf-sieve-notify-mailto-10.txt

2008-12-14 20:08:47 +0100 Stephan Bosch <stephan@rename-it.nl> (d44d2500)

    Enotify: mailto: added filtering of reserved headers.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-14 18:39:36 +0100 Stephan Bosch <stephan@rename-it.nl> (d3fdab9f)

    Enotify: changed notify message to match the latest draft specification
    better (not yet compliant).


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-14 14:12:55 +0100 Stephan Bosch <stephan@rename-it.nl> (64353ac9)

    Enotify: now using new message composition functions.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-14 14:12:22 +0100 Stephan Bosch <stephan@rename-it.nl> (0f4adc23)

    Fixed message typo in sieve-exec tool.


M	src/sieve-tools/sieve-exec.c

2008-12-14 13:51:23 +0100 Stephan Bosch <stephan@rename-it.nl> (7e21211c)

    Reject: now using new message composition functions.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/rfc2822.c

2008-12-14 12:59:47 +0100 Stephan Bosch <stephan@rename-it.nl> (74a29965)

    Change to configure.in caused compile error.


M	configure.in

2008-12-14 12:44:53 +0100 Stephan Bosch <stephan@rename-it.nl> (f8de116f)

    Fixed bug in configure script that emitted Dovecot version in config header
    in stead of Sieve version.


M	configure.in

2008-12-14 12:40:38 +0100 Stephan Bosch <stephan@rename-it.nl> (05145e75)

    Added X-Sieve header to redirected messages.


M	src/lib-sieve/cmd-redirect.c

2008-12-14 11:05:36 +0100 Stephan Bosch <stephan@rename-it.nl> (8b9941f5)

    Vacation: now using new message composition functions.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-12-14 11:05:19 +0100 Stephan Bosch <stephan@rename-it.nl> (d2101dad)

    Created basic internet mail message composition functionality.


M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h

2008-12-14 00:06:38 +0100 Stephan Bosch <stephan@rename-it.nl> (78580a2c)

    Vacation: added support for properly updating references header.


M	Makefile.am
M	TODO
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
A	tests/extensions/vacation/references.sieve
A	tests/extensions/vacation/references.svtest

2008-12-13 20:34:04 +0100 Stephan Bosch <stephan@rename-it.nl> (7a38f1a5)

    Enotify: implemented basic notify mailto: execution.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-13 18:41:20 +0100 Stephan Bosch <stephan@rename-it.nl> (7f6f9208)

    Enotify: implemented construction and printing of action object.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2008-12-13 18:18:57 +0100 Stephan Bosch <stephan@rename-it.nl> (33da3e49)

    Enotify: implemented runtime part.


M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h

2008-12-12 19:50:11 +0100 Stephan Bosch <stephan@rename-it.nl> (97450ea5)

    Enotify: restructured mailto url parsing to use arrays for the results.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-12-12 19:40:27 +0100 Stephan Bosch <stephan@rename-it.nl> (3230382e)

    Enotify: added verification of header field names in mailto url.


M	Makefile.am
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
A	tests/extensions/enotify/errors.svtest
A	tests/extensions/enotify/errors/url-mailto.sieve
A	tests/extensions/enotify/errors/url.sieve

2008-12-10 13:42:03 +0100 Stephan Bosch <stephan@rename-it.nl> (c4c589b1)

    Reject: improved message rejection log message.


M	src/lib-sieve/ext-reject.c

2008-12-09 19:06:27 +0100 Stephan Bosch <stephan@rename-it.nl> (25db5e1a)

    Compiler now warns about syntactically invalid header field names.


M	TODO
M	src/lib-sieve/rfc2822.c
M	src/lib-sieve/rfc2822.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
A	tests/compile/warnings/invalid-headers.sieve

2008-12-09 18:20:20 +0100 Stephan Bosch <stephan@rename-it.nl> (8bc9fddf)

    Exported true and false commands to separate file.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
A	src/lib-sieve/tst-truefalse.c

2008-11-30 21:04:54 +0100 Stephan Bosch <stephan@rename-it.nl> (d55cc35f)

    Fixed bug in improved capability string composition.


M	src/lib-sieve/sieve-extensions.c

2008-11-30 21:02:18 +0100 Stephan Bosch <stephan@rename-it.nl> (0c039f4e)

    Enotify: further developed URI parsing.


M	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c

2008-11-30 21:01:54 +0100 Stephan Bosch <stephan@rename-it.nl> (d59421e5)

    Added support for header verification.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/rfc2822.c
A	src/lib-sieve/rfc2822.h

2008-11-30 01:30:14 +0100 Stephan Bosch <stephan@rename-it.nl> (979b0e8e)

    Enotify: implemented coarse mailto URI parsing.


M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	tests/extensions/enotify/basic.svtest

2008-11-30 00:45:05 +0100 Stephan Bosch <stephan@rename-it.nl> (ef717dbc)

    Added new draft-bis version of mailto RFC to doc/rfc.


A	doc/rfc/draft-duerst-mailto-bis-05.txt

2008-11-30 00:25:23 +0100 Stephan Bosch <stephan@rename-it.nl> (5c6fb4d8)

    Activated unload handler for extensions.


M	src/lib-sieve/sieve-extensions.c

2008-11-30 00:14:45 +0100 Stephan Bosch <stephan@rename-it.nl> (041b39df)

    Enotify: implemented uri scheme verification.


M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
A	src/lib-sieve/plugins/enotify/ext-enotify-limits.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	tests/extensions/enotify/execute.svtest

2008-11-29 21:27:50 +0100 Stephan Bosch <stephan@rename-it.nl> (fc8896f8)

    Added unload method to extension object.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/ext-testsuite.c

2008-11-28 23:04:40 +0100 Stephan Bosch <stephan@rename-it.nl> (4145d299)

    Reprioritized TODO.


M	TODO

2008-11-26 20:50:33 +0100 Stephan Bosch <stephan@rename-it.nl> (a00f056c)

    Added tag 0.1.2 for changeset f01fe5f1e816


2008-11-26 20:50:20 +0100 Stephan Bosch <stephan@rename-it.nl> (171e3bfa)

    Added tag 0.1.1 for changeset e534276ecf10


2008-11-26 20:49:50 +0100 Stephan Bosch <stephan@rename-it.nl> (cf2ad5bb)

    Released v0.1.2 for Dovecot v1.2.alpha4.


M	NEWS
M	configure.in

2008-11-26 17:14:40 +0100 Stephan Bosch <stephan@rename-it.nl> (02092823)

    Vacation: improved log message for discarded vacation response.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-11-26 14:35:21 +0100 Stephan Bosch <stephan@rename-it.nl> (c8d13dac)

    Fixed bug in the handling of context during result execution, which resulted
    in broken redirect action.


M	src/lib-sieve/sieve-result.c

2008-11-25 00:03:23 +0100 Stephan Bosch <stephan@rename-it.nl> (bd9e1b23)

    Released v0.1.1 for Dovecot v1.2.alpha4.


M	configure.in

2008-11-24 23:38:56 +0100 Stephan Bosch <stephan@rename-it.nl> (510ee56c)

    Updated NEWS file.


M	NEWS

2008-11-22 15:29:29 +0100 Stephan Bosch <stephan@rename-it.nl> (13716444)

    Added registry for extension capabilities like the available notify methods
    and adjusted the enotify extension accordingly.


M	src/lib-sieve/plugins/enotify/Makefile.am
A	src/lib-sieve/plugins/enotify/ext-enotify-common.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/plugins/enotify/ntfy-mailto.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2008-11-21 23:40:14 +0100 Stephan Bosch <stephan@rename-it.nl> (671f9be3)

    Forgot to move RFC 2244 to proper place in doc/rfc.


R100	src/lib-sieve/plugins/comparator-i-ascii-numeric/rfc2244.txt	doc/rfc/i-ascii-numeric.rfc2244.txt

2008-11-21 23:34:40 +0100 Stephan Bosch <stephan@rename-it.nl> (be698fd0)

    Enotify: implemented :encodeurl variables modifier.


M	Makefile.am
A	doc/rfc/uri.rfc3986.txt
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
A	tests/extensions/enotify/encodeurl.svtest

2008-11-21 22:45:08 +0100 Stephan Bosch <stephan@rename-it.nl> (3d3aa53e)

    Added TODO item.


M	TODO

2008-11-21 19:59:00 +0100 Stephan Bosch <stephan@rename-it.nl> (7964f451)

    Adapted to changes in the mailbox_open() API.


M	src/lib-sieve-tool/mail-raw.c
M	src/lib-sieve-tool/sieve-tool.c
M	src/lib-sieve/sieve-actions.c
M	src/sieve-tools/sieve-exec.c
M	src/sieve-tools/sieve-test.c
M	src/testsuite/testsuite.c

2008-11-20 00:54:54 +0100 Stephan Bosch <stephan@rename-it.nl> (bbe95b34)

    Merged concurrent changes.


2008-11-20 00:54:38 +0100 Stephan Bosch <stephan@rename-it.nl> (90f4fed4)

    Enotify: copied action implementation from old plugin.


A	doc/rfc/mailto.rfc2368.txt
M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
A	src/lib-sieve/plugins/enotify/ntfy-mailto.c
A	src/lib-sieve/plugins/enotify/sieve-ext-enotify.h
M	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c

2008-11-20 00:54:14 +0100 Stephan Bosch <stephan@rename-it.nl> (f461b22e)

    Fixed error handling of actions that send mail.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-11-20 00:06:58 +0100 Stephan Bosch <stephan@rename-it.nl> (0c1b149c)

    Enabled (optional) support for Valgrind in the testsuite and fixed a few
    intricate bugs in the process.


M	Makefile.am
M	configure.in
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2008-11-19 21:24:10 +0100 Stephan Bosch <stephan@rename-it.nl> (e58d90ca)

    Changed acquisition of usernames in sieve command line tools.


M	src/lib-sieve-tool/sieve-tool.c

2008-11-19 20:59:45 +0100 Stephan Bosch <stephan@rename-it.nl> (bdc8a61f)

    Testsuite: added test for header folding.


M	tests/header.svtest

2008-11-19 20:50:11 +0100 Stephan Bosch <stephan@rename-it.nl> (35e1b03b)

    Fixed bug in mail_raw implementation: mail_namespaces_deinit() must not be
    called explicitly for v1.2.


M	src/lib-sieve-tool/mail-raw.c

2008-11-17 22:44:19 +0100 Stephan Bosch <stephan@rename-it.nl> (c7e0c93e)

    Previous change did not compile.


M	src/lib-sieve/sieve-actions.c

2008-11-17 22:38:28 +0100 Stephan Bosch <stephan@rename-it.nl> (f7c37a6b)

    Matched changes in Dovecot to properly handle/ignore the new mailbox ACL
    support.


M	src/lib-sieve/sieve-actions.c

2008-11-16 23:31:32 +0100 Stephan Bosch <stephan@rename-it.nl> (590b593b)

    Added notify mailto draft.


A	doc/rfc/draft-ietf-sieve-notify-mailto-09.txt

2008-11-16 18:27:34 +0100 Stephan Bosch <stephan@rename-it.nl> (59a3a988)

    Enotify: finished skeleton by addin empty :encodeurl implementation.


M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
A	src/lib-sieve/plugins/enotify/vmodf-encodeurl.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	tests/extensions/enotify/execute.svtest

2008-11-16 16:28:15 +0100 Stephan Bosch <stephan@rename-it.nl> (cdcba6c7)

    Testsuite: added draft RFC examples as execution tests.


M	Makefile.am
A	tests/extensions/enotify/execute.svtest
A	tests/extensions/enotify/execute/draft-rfc-ex1.sieve
A	tests/extensions/enotify/execute/draft-rfc-ex2.sieve
A	tests/extensions/enotify/execute/draft-rfc-ex3.sieve
A	tests/extensions/enotify/execute/draft-rfc-ex5.sieve
A	tests/extensions/enotify/execute/draft-rfc-ex6.sieve

2008-11-15 01:39:24 +0100 Stephan Bosch <stephan@rename-it.nl> (913e9f17)

    Merged concurrent changes.


2008-11-15 01:38:37 +0100 Stephan Bosch <stephan@rename-it.nl> (3188d46e)

    Include: fixed bug in import/export commands.


M	src/lib-sieve/plugins/include/ext-include-variables.c

2008-11-15 00:34:43 +0100 Stephan Bosch <stephan@rename-it.nl> (1432e68b)

    Fixed small indentation error.


M	src/lib-sieve/plugins/include/ext-include-variables.c

2008-11-14 23:09:11 +0100 Stephan Bosch <stephan@rename-it.nl> (375100c9)

    Fixed bug in handling of non-existent scripts.


M	src/lib-sieve/sieve-script.c

2008-11-14 22:57:57 +0100 Stephan Bosch <stephan@rename-it.nl> (2fb5a4e3)

    Prepared NEWS file for next release.


M	NEWS

2008-11-14 12:34:34 +0100 Stephan Bosch <stephan@rename-it.nl> (d900c359)

    Slightly improved documentation.


M	INSTALL
M	README

2008-11-12 17:05:48 +0100 Stephan Bosch <stephan@rename-it.nl> (e3488325)

    Imap4flags: fixed bug in the handling of the internal variable.

    Previously the final value of internal variable was for every store action
    that didn't specify a :flags argument explicitly. This results in out-of
    order assignment/removal of flags, e.g. also the flags assigned keep actions
    that were executed before the addflag/setflag command were modified.

M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-validator.c

2008-11-12 10:09:23 +0100 Stephan Bosch <stephan@rename-it.nl> (3415d166)

    Updated TODO.


M	TODO

2008-11-12 10:03:36 +0100 Stephan Bosch <stephan@rename-it.nl> (b970b8c7)

    Removed man page issue from README file.


M	README

2008-11-12 00:17:36 +0100 Stephan Bosch <stephan@rename-it.nl> (d48d3b68)

    Updated README.


M	README

2008-11-12 00:06:35 +0100 Stephan Bosch <stephan@rename-it.nl> (a604dd72)

    Created man page for the sieve-test command.


M	Makefile.am
A	doc/man/sieve-test.1

2008-11-11 23:12:34 +0100 Stephan Bosch <stephan@rename-it.nl> (5a9e7203)

    Created man page for the sieved command.


M	Makefile.am
A	doc/man/sieved.1

2008-11-11 22:11:40 +0100 Stephan Bosch <stephan@rename-it.nl> (9002e1d9)

    Enabled installation of man pages.


M	Makefile.am

2008-11-11 22:11:18 +0100 Stephan Bosch <stephan@rename-it.nl> (9c9ffe38)

    Forgot to add new sieve-config.h to the distribution.


M	src/lib-sieve/Makefile.am

2008-11-11 21:28:37 +0100 Stephan Bosch <stephan@rename-it.nl> (e0d9b467)

    Created (currently uninstalled) man page for the sievec command.


A	doc/man/sievec.1

2008-11-11 11:23:21 +0100 Stephan Bosch <stephan@rename-it.nl> (8e9c34fc)

    Testsuite: fail with informative error if compiled against dovecot headers
    only.


M	Makefile.am

2008-11-11 00:34:31 +0100 Stephan Bosch <stephan@rename-it.nl> (c922e57a)

    Re-enabled support for compiling against Dovecot headers.


M	configure.in
M	src/Makefile.am

2008-11-10 08:18:09 +0100 Stephan Bosch <stephan@rename-it.nl> (2917405f)

    Enotify: added skeleton implementation of notify_method_capability test.


M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
A	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c

2008-11-09 22:57:52 +0100 Stephan Bosch <stephan@rename-it.nl> (bd8d2804)

    Enotify: added skeleton implementation of valid_notify_method test.


M	src/lib-sieve/plugins/enotify/Makefile.am
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
A	src/lib-sieve/plugins/enotify/tst-valid-notify-method.c
M	tests/extensions/enotify/basic.svtest

2008-11-07 21:17:06 +0100 Stephan Bosch <stephan@rename-it.nl> (234a0f8b)

    Enotify: implemented skeleton for the notify command.


M	Makefile.am
M	src/lib-sieve/plugins/enotify/cmd-notify.c
M	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
A	tests/extensions/enotify/basic.svtest

2008-11-02 23:29:00 +0100 Stephan Bosch <stephan@rename-it.nl> (2dc98704)

    ENotify: activated empty implementation.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-extensions.c

2008-11-02 22:52:30 +0100 Stephan Bosch <stephan@rename-it.nl> (94af6350)

    Started using autoconf output.


M	.hgignore
M	configure.in
A	dsieve-config.h.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-common.h
A	src/lib-sieve/sieve-config.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.h

2008-11-02 11:36:28 +0100 Stephan Bosch <stephan@rename-it.nl> (e18b475b)

    Added UTF-8 to modified UTF-7 folder name conversion for compatibility with
    IMAP.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-actions.h

2008-11-02 11:30:46 +0100 Stephan Bosch <stephan@rename-it.nl> (76eb6954)

    Accidentally added binaries for sieve tools.


M	.hgignore
D	src/sieve-tools/sieve-exec
D	src/sieve-tools/sieve-test
D	src/sieve-tools/sievec
D	src/sieve-tools/sieved

2008-11-01 23:03:04 +0100 Stephan Bosch <stephan@rename-it.nl> (38f98623)

    Enotify: built skeleton for the notify command.


A	doc/rfc/draft-ietf-sieve-notify-12.txt
M	src/lib-sieve/plugins/enotify/Makefile.am
A	src/lib-sieve/plugins/enotify/cmd-notify.c
A	src/lib-sieve/plugins/enotify/ext-enotify-common.h
M	src/lib-sieve/plugins/enotify/ext-enotify.c

2008-11-01 20:48:57 +0100 Stephan Bosch <stephan@rename-it.nl> (7b531076)

    Removed code duplication between testsuite and commandline tools. Also
    restructured source code of the tools.


M	README
M	TODO
M	configure.in
M	src/Makefile.am
A	src/lib-sieve-tool/Makefile.am
R100	src/lib-util/mail-raw.c	src/lib-sieve-tool/mail-raw.c
R100	src/lib-util/mail-raw.h	src/lib-sieve-tool/mail-raw.h
R075	src/sieve-bin/bin-common.c	src/lib-sieve-tool/sieve-tool.c
A	src/lib-sieve-tool/sieve-tool.h
D	src/lib-util/Makefile.am
D	src/sieve-bin/bin-common.h
R085	src/sieve-bin/Makefile.am	src/sieve-tools/Makefile.am
A	src/sieve-tools/sieve-exec
R091	src/sieve-bin/sieve-exec.c	src/sieve-tools/sieve-exec.c
A	src/sieve-tools/sieve-test
R093	src/sieve-bin/sieve-test.c	src/sieve-tools/sieve-test.c
A	src/sieve-tools/sievec
R088	src/sieve-bin/sievec.c	src/sieve-tools/sievec.c
A	src/sieve-tools/sieved
R078	src/sieve-bin/sieved.c	src/sieve-tools/sieved.c
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite.c

2008-10-30 23:41:22 +0100 Stephan Bosch <stephan@rename-it.nl> (501216f5)

    Removed now obsolete namespaces.c/h from testsuite and commandline tools.


M	src/sieve-bin/Makefile.am
D	src/sieve-bin/namespaces.c
D	src/sieve-bin/namespaces.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/Makefile.am
D	src/testsuite/namespaces.c
D	src/testsuite/namespaces.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite.c

2008-10-30 23:05:38 +0100 Stephan Bosch <stephan@rename-it.nl> (bcd3ad56)

    Enabled all available mail storage types (those compiled in Dovecot) for the
    commandline tools and the testsuite.


M	src/sieve-bin/Makefile.am
M	src/sieve-bin/namespaces.c
M	src/testsuite/Makefile.am
M	src/testsuite/namespaces.c

2008-10-30 22:30:17 +0100 Stephan Bosch <stephan@rename-it.nl> (078fda7e)

    Merged mail-raw implementations of sieve commandline tools and the
    testsuite, thus removing duplicate code.


M	configure.in
M	src/Makefile.am
A	src/lib-util/Makefile.am
R076	src/sieve-bin/mail-raw.c	src/lib-util/mail-raw.c
R079	src/sieve-bin/mail-raw.h	src/lib-util/mail-raw.h
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/Makefile.am
D	src/testsuite/mail-raw.c
D	src/testsuite/mail-raw.h
M	src/testsuite/testsuite-common.c

2008-10-30 20:07:36 +0100 Stephan Bosch <stephan@rename-it.nl> (c67ac6db)

    Made lda plugin properly refer to the main script as 'main script' and not
    the basename of the sieve file (which is of no interest to the user for the
    main script).


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/bin-common.c

2008-10-30 19:49:53 +0100 Stephan Bosch <stephan@rename-it.nl> (ec8fc9f2)

    Improved logging of failed script load.


M	src/lib-sieve/sieve-script.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-10-29 23:49:47 +0100 Stephan Bosch <stephan@rename-it.nl> (4b214656)

    Now using folder name as specified by user in log messages in stead of
    internal representation.


M	src/lib-sieve/sieve-actions.c

2008-10-29 21:26:08 +0100 Stephan Bosch <stephan@rename-it.nl> (3434e90d)

    Added mail_debug messages to plugin to find problems in the sieve path
    specification more easily.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-10-29 01:26:25 +0100 Stephan Bosch <stephan@rename-it.nl> (69b33e90)

    Added TODO item.


M	TODO

2008-10-29 01:13:22 +0100 Stephan Bosch <stephan@rename-it.nl> (2adb6a61)

    Command sievec -d always wrote to std out.


M	src/sieve-bin/sievec.c

2008-10-29 01:12:44 +0100 Stephan Bosch <stephan@rename-it.nl> (ec932428)

    Fixed missing mask argument in two open calls (bug found by Sergey Ivanov).


M	src/sieve-bin/bin-common.c
M	src/testsuite/testsuite.c

2008-10-25 20:27:14 +0200 Stephan Bosch <stephan@rename-it.nl> (64869811)

    Started development of enotify extension.


M	configure.in
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/enotify/Makefile.am
A	src/lib-sieve/plugins/enotify/ext-enotify.c

2008-10-23 20:11:15 +0200 Stephan Bosch <stephan@rename-it.nl> (1f81f1d2)

    Added tag 0.1.0 for changeset 065c12acdcc0


2008-10-23 20:08:52 +0200 Stephan Bosch <stephan@rename-it.nl> (f7270d1e)

    Released v0.1.0 for Dovecot v1.2.alpha3.


M	TODO
M	configure.in

2008-10-23 19:44:57 +0200 Stephan Bosch <stephan@rename-it.nl> (419330a9)

    Minor revisions to the package documentation.


M	AUTHORS
M	NEWS
M	README

2008-10-22 20:26:59 +0200 Stephan Bosch <stephan@rename-it.nl> (27a05dc9)

    Fixed warning caused by mixup between mail_storage and sieve_storage.


M	src/lib-sieve/sieve-types.h

2008-10-22 16:10:13 +0200 Stephan Bosch <stephan@rename-it.nl> (057f6ea1)

    Improved execution of store action.


M	src/lib-sieve/sieve-actions.c

2008-10-21 21:49:14 +0200 Stephan Bosch <stephan@rename-it.nl> (cf5025c7)

    Properly set storage_r in plugin function to prevent double errors.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-types.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-10-20 02:13:27 +0200 Stephan Bosch <stephan@rename-it.nl> (ff2b8ffd)

    Prevented transaction context from becoming NULL in execution of store
    action.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c

2008-10-20 01:57:36 +0200 Stephan Bosch <stephan@rename-it.nl> (7e6a0ecc)

    Fixed context handling bug in the result execution.


M	src/lib-sieve/sieve-result.c

2008-10-19 18:35:17 +0200 Stephan Bosch <stephan@rename-it.nl> (c459d469)

    Clarified errors occurring when colon is missing.


M	src/lib-sieve/sieve-validator.c
M	tests/compile/errors.svtest
A	tests/compile/errors/typos.sieve

2008-10-19 17:56:01 +0200 Stephan Bosch <stephan@rename-it.nl> (71fa5a02)

    Corrected error message.


M	src/lib-sieve/sieve-validator.c
M	tests/compile/errors.svtest

2008-10-19 17:47:49 +0200 Stephan Bosch <stephan@rename-it.nl> (6564cc41)

    Clarified error messages for missing semicolon.


M	README
M	src/lib-sieve/sieve-validator.c
M	tests/compile/errors.svtest

2008-10-19 16:46:12 +0200 Stephan Bosch <stephan@rename-it.nl> (11f12b4d)

    Repaired 'make dist' tarball output.


M	Makefile.am
M	src/lib-sieve/plugins/body/Makefile.am
D	src/lib-sieve/plugins/body/body.sieve
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
D	src/lib-sieve/plugins/comparator-i-ascii-numeric/cmp-i-ascii-numeric.sieve
M	src/lib-sieve/plugins/copy/Makefile.am
D	src/lib-sieve/plugins/copy/copy.sieve
M	src/lib-sieve/plugins/imapflags/Makefile.am
D	src/lib-sieve/plugins/imapflags/imapflags-2.sieve
D	src/lib-sieve/plugins/imapflags/imapflags-errors.sieve
D	src/lib-sieve/plugins/imapflags/imapflags-implicit.sieve
D	src/lib-sieve/plugins/imapflags/imapflags-variables.sieve
D	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
D	src/lib-sieve/plugins/relational/relational.sieve
M	src/lib-sieve/plugins/subaddress/Makefile.am
D	src/lib-sieve/plugins/subaddress/subaddress.sieve
M	src/lib-sieve/plugins/vacation/Makefile.am
D	src/lib-sieve/plugins/vacation/vacation-errors.sieve
D	src/lib-sieve/plugins/vacation/vacation.sieve
M	src/lib-sieve/plugins/variables/Makefile.am
D	src/lib-sieve/plugins/variables/variables-errors.sieve
D	src/lib-sieve/plugins/variables/variables-match.sieve
D	src/lib-sieve/plugins/variables/variables-nspace.sieve
D	src/lib-sieve/plugins/variables/variables-regex.sieve
D	src/lib-sieve/plugins/variables/variables.sieve
M	src/testsuite/Makefile.am

2008-10-19 15:48:14 +0200 Stephan Bosch <stephan@rename-it.nl> (4fc62256)

    Revised README.


M	INSTALL
M	README
M	configure.in

2008-10-19 15:19:54 +0200 Stephan Bosch <stephan@rename-it.nl> (599d9b5b)

    Testsuite: added support for basic result checking.


M	TODO
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite-result.c
A	src/testsuite/testsuite-result.h
M	src/testsuite/tst-test-error.c
A	src/testsuite/tst-test-result.c
M	tests/execute/actions.svtest
M	tests/execute/actions/fileinto.sieve
M	tests/execute/actions/redirect.sieve
M	tests/extensions/reject/execute.svtest
M	tests/extensions/vacation/execute.svtest
A	tests/extensions/vacation/execute/action.sieve

2008-10-19 12:36:31 +0200 Stephan Bosch <stephan@rename-it.nl> (98bd2cc5)

    Reported RFC questions to the ietf-mta-filters mailinglist.


M	TODO
D	doc/rfc/RFC Controversy.txt
A	doc/rfc/RFC-questions.txt

2008-10-19 11:58:33 +0200 Stephan Bosch <stephan@rename-it.nl> (7b83caf1)

    Added explicit messages and tests for unsupported use of variables.


M	TODO
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/sieve-comparators.c
M	tests/compile/errors.svtest
A	tests/compile/errors/unsupported.sieve

2008-10-12 12:45:10 +0200 Stephan Bosch <stephan@rename-it.nl> (3a8746c9)

    Updated TODO.


M	TODO

2008-10-12 12:43:34 +0200 Stephan Bosch <stephan@rename-it.nl> (76534ffd)

    Fixed TODO: made sure main scope used in variables dumping is unreferenced
    when code dumper is freed.


M	TODO
M	src/lib-sieve/plugins/variables/ext-variables-dump.c

2008-10-12 12:17:30 +0200 Stephan Bosch <stephan@rename-it.nl> (830d93e4)

    Tested replacing cmusieve with sieve.


M	TODO

2008-10-12 00:24:32 +0200 Stephan Bosch <stephan@rename-it.nl> (d5f36c0c)

    Function t_str_new_const got moved to its proper place in Dovecot.


M	src/lib-sieve/sieve-binary.c

2008-10-11 23:36:32 +0200 Stephan Bosch <stephan@rename-it.nl> (e2873f16)

    Added extension support to code dumper.


M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h

2008-10-11 23:13:16 +0200 Stephan Bosch <stephan@rename-it.nl> (d04c3011)

    Removed/solved minor TODOs.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-parser.c

2008-10-11 22:21:35 +0200 Stephan Bosch <stephan@rename-it.nl> (f2a05b1c)

    Merged concurrent changes.


2008-10-11 22:07:06 +0200 Stephan Bosch <stephan@rename-it.nl> (1445fd34)

    Variables/Include: added support for dumping variables declared in extension
    scopes.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-10-09 23:24:54 +0200 Stephan Bosch <stephan@rename-it.nl> (5ddf67da)

    Fixed amd64 logging segfault; turns out using same va_args in multiple
    vprintf calls is not possible.


M	TODO
M	src/lib-sieve/sieve-error.c

2008-10-05 19:44:51 +0200 Stephan Bosch <stephan@rename-it.nl> (631fb839)

    Added support for mailbox autocreate and autosubscribe.


M	src/lib-sieve/sieve-actions.c

2008-10-05 19:14:43 +0200 Stephan Bosch <stephan@rename-it.nl> (2a983ad8)

    Made plugin use tried_default_save indicator to prevent duplicate error
    messages.


M	TODO
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite.c

2008-10-04 10:41:52 +0200 Stephan Bosch <stephan@rename-it.nl> (dc75895b)

    Updated TODO.


M	TODO

2008-09-28 21:24:25 +0200 Stephan Bosch <stephan@rename-it.nl> (6127ac70)

    Variables: added identifier dump support for main scope.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-dump.c
M	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h

2008-09-18 17:46:46 +0200 Stephan Bosch <stephan@rename-it.nl> (cf568449)

    Variables: added dumptime context.


M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
A	src/lib-sieve/plugins/variables/ext-variables-dump.c
A	src/lib-sieve/plugins/variables/ext-variables-dump.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h

2008-09-15 16:10:57 +0200 Stephan Bosch <stephan@rename-it.nl> (546f6cce)

    Merged concurrent changes.


2008-09-14 21:06:44 +0200 Stephan Bosch <stephan@rename-it.nl> (960ab63b)

    Started NEWS file.


M	NEWS

2008-09-14 21:05:45 +0200 Stephan Bosch <stephan@rename-it.nl> (13acebb5)

    Moved design description to doc/devel directory.


M	Makefile.am
R100	DESIGN	doc/devel/DESIGN

2008-09-14 21:02:29 +0200 Stephan Bosch <stephan@rename-it.nl> (ba5c8551)

    Restructured Sieve example scripts.


M	README
R100	sieve/examples/elvey.sieve	examples/elvey.sieve
R100	sieve/examples/jerry.sieve	examples/jerry.sieve
R100	sieve/examples/mjohnson.sieve	examples/mjohnson.sieve
R100	sieve/examples/mklose.sieve	examples/mklose.sieve
R100	sieve/examples/relational.rfc5231.sieve	examples/relational.rfc5231.sieve
R100	sieve/examples/rfc3028.sieve	examples/rfc3028.sieve
R100	sieve/examples/sanjay.sieve	examples/sanjay.sieve
R100	sieve/examples/sieve_examples.sieve	examples/sieve_examples.sieve
R100	sieve/examples/subaddress.rfc5233.sieve	examples/subaddress.rfc5233.sieve
R100	sieve/examples/vacation.sieve	examples/vacation.sieve
R100	sieve/examples/vivil.sieve	examples/vivil.sieve
D	sieve/tests/actions.sieve
D	sieve/tests/address-part.sieve
D	sieve/tests/basic.sieve
D	sieve/tests/comparator.sieve
D	sieve/tests/encoded-character.sieve
D	sieve/tests/envelope.sieve
D	sieve/tests/extensions.sieve
D	sieve/tests/if.sieve
D	sieve/tests/match-type.sieve
D	sieve/tests/matches.sieve
D	sieve/tests/stop.sieve
D	sieve/tests/vacation.sieve
M	tests/compile/examples.svtest

2008-09-14 20:54:05 +0200 Stephan Bosch <stephan@rename-it.nl> (632ffdc2)

    Testsuite: added execution tests for core actions (to find segfaults).


M	Makefile.am
A	tests/execute/actions.svtest
R100	sieve/tests/fileinto.sieve	tests/execute/actions/fileinto.sieve
R100	sieve/tests/redirect.sieve	tests/execute/actions/redirect.sieve
M	tests/extensions/reject/execute.svtest

2008-09-14 20:42:14 +0200 Stephan Bosch <stephan@rename-it.nl> (f6d0011c)

    Testsuite: added trivial reject action execution test.


M	Makefile.am
A	tests/extensions/reject/execute.svtest
R100	sieve/tests/reject.sieve	tests/extensions/reject/execute/basic.sieve

2008-09-13 13:12:31 +0200 Stephan Bosch <stephan@rename-it.nl> (fe47287a)

    Testsuite: added final existing error tests.


D	sieve/errors/address-errors.sieve
D	sieve/errors/address-part-errors.sieve
D	sieve/errors/encoded-character.sieve
D	sieve/errors/envelope-errors.sieve
D	sieve/errors/header-errors.sieve
D	sieve/errors/if-errors.sieve
D	sieve/errors/interesting.sieve
D	sieve/errors/keep-errors.sieve
D	sieve/errors/parse-errors.sieve
D	sieve/errors/require-errors.sieve
D	sieve/errors/size-errors.sieve
D	sieve/errors/stop-errors.sieve
D	sieve/errors/tag-errors.sieve
M	tests/compile/errors.svtest
R100	sieve/errors/out-address-errors.sieve	tests/compile/errors/out-address.sieve
A	tests/compile/errors/tag.sieve

2008-09-13 13:01:50 +0200 Stephan Bosch <stephan@rename-it.nl> (3e5d9e87)

    Improved README to be more readable.


M	README

2008-09-12 17:49:45 +0200 Stephan Bosch <stephan@rename-it.nl> (d3040380)

    Removed useless PTR_OFFSET from logfile error handler implementation.


M	src/lib-sieve/sieve-error.c

2008-09-12 16:55:55 +0200 Stephan Bosch <stephan@rename-it.nl> (40b09103)

    Added pre-release TODO item.


M	TODO

2008-09-12 16:55:07 +0200 Stephan Bosch <stephan@rename-it.nl> (6032e179)

    Improved argument error reporting.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/testsuite-objects.c

2008-09-12 15:27:26 +0200 Stephan Bosch <stephan@rename-it.nl> (b40b9a03)

    Restructured error reporting in validator and code generator.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2008-09-12 12:06:46 +0200 Stephan Bosch <stephan@rename-it.nl> (441c0cf4)

    Fixed new ia64 warnings.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/tst-test-error.c

2008-09-12 11:56:12 +0200 Stephan Bosch <stephan@rename-it.nl> (923f1d9f)

    Fixed new ia64 warnings in sieve-code.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-09-12 11:36:42 +0200 Stephan Bosch <stephan@rename-it.nl> (68ee3d06)

    Fixed new ia64 warnings in sieve-code.


M	src/lib-sieve/sieve-code.h

2008-09-12 11:29:39 +0200 Stephan Bosch <stephan@rename-it.nl> (c6cce133)

    Fixed ia64 warnings in sieve-code.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-09-12 11:17:04 +0200 Stephan Bosch <stephan@rename-it.nl> (5ff0ca84)

    Variables: fixed ia64 compiler warnings.


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c

2008-09-12 01:53:02 +0200 Stephan Bosch <stephan@rename-it.nl> (dd1e90bd)

    Forgot to handle return value of o_stream_send in logfile error hander
    implementation.


M	src/lib-sieve/sieve-error.c

2008-09-12 01:42:32 +0200 Stephan Bosch <stephan@rename-it.nl> (7efd8493)

    Forgot O_TRUNC in logfile error handler's second logfile open() call.


M	src/lib-sieve/sieve-error.c

2008-09-12 01:39:22 +0200 Stephan Bosch <stephan@rename-it.nl> (71b15ea8)

    Include: improved trace verbosity for import command.


M	src/lib-sieve/plugins/include/cmd-import.c

2008-09-12 01:33:47 +0200 Stephan Bosch <stephan@rename-it.nl> (8e04ea9b)

    Hopefully resolved various type cast warnings surfacing on ia_64 and not on
    i386.


M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c

2008-09-12 00:23:02 +0200 Stephan Bosch <stephan@rename-it.nl> (d7df5723)

    Testsuite: added address test case for specific strange situation.


M	tests/address.svtest

2008-09-12 00:14:54 +0200 Stephan Bosch <stephan@rename-it.nl> (99fbcb16)

    Relational: fixed portability issue in count match type (warning).


M	src/lib-sieve/plugins/relational/mcht-count.c

2008-09-10 00:12:11 +0200 Stephan Bosch <stephan@rename-it.nl> (2ed474f1)

    Updated documentation.


M	README

2008-09-10 00:07:44 +0200 Stephan Bosch <stephan@rename-it.nl> (41236087)

    Devised simple log rotation to prevent per-user sieve processing logs to
    grow indefinitely.


M	TODO
M	src/lib-sieve/sieve-error.c

2008-09-09 23:36:22 +0200 Stephan Bosch <stephan@rename-it.nl> (c6edfbd3)

    Updated TODO list.


M	TODO

2008-09-09 21:52:49 +0200 Stephan Bosch <stephan@rename-it.nl> (5d7ae356)

    Improved byte code dumping to be more readable.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/tst-test-compile.c
M	src/testsuite/tst-test-error.c

2008-09-09 20:37:28 +0200 Stephan Bosch <stephan@rename-it.nl> (5ac2b5d0)

    Updated TODO file.


M	TODO

2008-09-07 23:51:20 +0200 Stephan Bosch <stephan@rename-it.nl> (c2aa6250)

    Updated documentation.


M	INSTALL
M	README
M	TODO

2008-09-07 23:44:09 +0200 Stephan Bosch <stephan@rename-it.nl> (f1a46b60)

    Removed redundant security issue listed in TODO.


M	TODO

2008-09-07 23:43:33 +0200 Stephan Bosch <stephan@rename-it.nl> (a3bd699e)

    Resolved handling of invalid addresses in headers for the most part.


M	Makefile.am
M	TODO
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/sieve-address-parts.c
A	tests/address.svtest

2008-09-07 15:41:59 +0200 Stephan Bosch <stephan@rename-it.nl> (f6e23af1)

    Variables: made sure broken/malicious binary cannot allocate variable
    storage of arbitrary size.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-09-07 15:13:26 +0200 Stephan Bosch <stephan@rename-it.nl> (d1e1d88e)

    Variables: added coding of variable scope.


M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c

2008-09-07 14:00:27 +0200 Stephan Bosch <stephan@rename-it.nl> (4f576f76)

    Added support for per-script extension intialization.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/ext-testsuite.c

2008-09-06 13:54:10 +0200 Stephan Bosch <stephan@rename-it.nl> (90c44cdc)

    Reduced the severity of the warning indicating the experimental nature of
    this implementation.


M	INSTALL
M	README

2008-09-06 13:48:31 +0200 Stephan Bosch <stephan@rename-it.nl> (b27ff823)

    Updated TODO.


M	TODO

2008-08-31 22:10:21 +0200 Stephan Bosch <stephan@rename-it.nl> (fe7db221)

    Minor cosmetic change to code dumping.


M	src/lib-sieve/sieve-code-dumper.c

2008-08-31 22:07:20 +0200 Stephan Bosch <stephan@rename-it.nl> (acf33c8b)

    Added the concept of a script code header to list the extensions actually
    used by a script (was using all extensions listed in the binary).


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite.c

2008-08-31 19:09:46 +0200 Stephan Bosch <stephan@rename-it.nl> (3be89fef)

    Revised implementation of the require command.


M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-validator.c

2008-08-31 16:52:55 +0200 Stephan Bosch <stephan@rename-it.nl> (7c41ad4c)

    Vacation: properly implemented handling of variables vs. handle generation.


M	Makefile.am
M	TODO
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
A	tests/extensions/vacation/execute.svtest
A	tests/extensions/vacation/execute/no-handle.sieve

2008-08-31 16:52:23 +0200 Stephan Bosch <stephan@rename-it.nl> (45e617d9)

    Forgot to add niet testsuite files.


A	tests/extensions/imapflags/execute.svtest
A	tests/extensions/imapflags/execute/flags-side-effect.sieve

2008-08-31 16:08:02 +0200 Stephan Bosch <stephan@rename-it.nl> (dc61b367)

    Added support for runtime detection of variable strings.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-08-31 15:56:09 +0200 Stephan Bosch <stephan@rename-it.nl> (66e546f2)

    Updated TODO.


M	TODO

2008-08-31 15:43:23 +0200 Stephan Bosch <stephan@rename-it.nl> (7e424263)

    Imapflags: properly implemented handling of duplicate store actions with
    different :flags.


M	Makefile.am
M	TODO
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-result.c

2008-08-30 15:34:27 +0200 Stephan Bosch <stephan@rename-it.nl> (afc00f9f)

    Fixed assertion triggered at the end when redirect was executed before.


M	src/lib-sieve/cmd-redirect.c

2008-08-30 15:22:33 +0200 Stephan Bosch <stephan@rename-it.nl> (395def89)

    Incorporated changes in deliver into the mail-raw implementation of the
    sieve tools.


M	src/sieve-bin/mail-raw.c
M	src/sieve-bin/mail-raw.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2008-08-26 22:40:03 +0200 Stephan Bosch <stephan@rename-it.nl> (4b052f04)

    Imapflags: Added FIXME.


M	TODO
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c

2008-08-26 22:11:29 +0200 Stephan Bosch <stephan@rename-it.nl> (51030fce)

    Implemented policy limit on the maximum number of redirect actions in a
    result.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	tests/execute/errors.svtest
M	tests/execute/errors/actions-limit.sieve
A	tests/execute/errors/redirect-limit.sieve

2008-08-26 21:36:59 +0200 Stephan Bosch <stephan@rename-it.nl> (987e8c52)

    Implemented limit on the number of actions active simultaneously.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/sieve-limits.c
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-result.c
M	tests/execute/errors.svtest
A	tests/execute/errors/actions-limit.sieve

2008-08-26 20:36:39 +0200 Stephan Bosch <stephan@rename-it.nl> (3d88888a)

    Include: fixed a stupid bug triggered when variables are not used.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
A	tests/extensions/include/errors/action-conflicts.sieve
A	tests/extensions/include/errors/included/action-fileinto.sieve
A	tests/extensions/include/errors/included/action-reject.sieve
D	tests/extensions/include/errors/runtime.sieve

2008-08-26 20:04:22 +0200 Stephan Bosch <stephan@rename-it.nl> (6011d823)

    Testsuite: activated runtime tests for the include extension.


M	tests/extensions/include/errors.svtest

2008-08-26 19:52:25 +0200 Stephan Bosch <stephan@rename-it.nl> (a97f7c97)

    Testsuite: added runtime error tests for vacation extension.


M	Makefile.am
A	tests/extensions/vacation/errors.svtest
A	tests/extensions/vacation/errors/conflict-reject.sieve

2008-08-26 17:04:27 +0200 Stephan Bosch <stephan@rename-it.nl> (7170fd88)

    Testsuite: added simple runtime action conflict tests.


M	Makefile.am
A	tests/execute/errors.svtest
R050	tests/execute/errors/action-conflicts.sieve	tests/execute/errors/conflict-reject-fileinto.sieve
A	tests/execute/errors/conflict-reject-keep.sieve
A	tests/execute/errors/conflict-reject-redirect.sieve

2008-08-26 17:02:38 +0200 Stephan Bosch <stephan@rename-it.nl> (abae653f)

    Installed refuse-reject draft RFC in doc/rfc directory.


A	doc/rfc/draft-ietf-sieve-refuse-reject-07.txt

2008-08-25 17:50:51 +0200 Stephan Bosch <stephan@rename-it.nl> (cf7d2f83)

    Testsuite: added support for testing runtime errors.


M	src/lib-sieve/sieve-interpreter.c
M	src/testsuite/Makefile.am
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c
A	src/testsuite/tst-test-execute.c
R061	sieve/errors/action-conflicts.sieve	tests/execute/errors/action-conflicts.sieve
R100	sieve/errors/action-duplicates.sieve	tests/execute/errors/action-duplicates.sieve

2008-08-25 13:25:19 +0200 Stephan Bosch <stephan@rename-it.nl> (682dfe3d)

    Vacation: discovered and partially fixed various RFC-related issues.


M	TODO
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2008-08-25 12:41:30 +0200 Stephan Bosch <stephan@rename-it.nl> (7db9c846)

    Installed new RFC for vacation extension in doc/rfc directory.


R069	src/lib-sieve/plugins/vacation/draft-ietf-sieve-vacation-07.txt	doc/rfc/vacation.rfc5230.txt
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2008-08-25 12:30:17 +0200 Stephan Bosch <stephan@rename-it.nl> (4c312848)

    Updated TODO.


M	TODO

2008-08-25 12:28:52 +0200 Stephan Bosch <stephan@rename-it.nl> (e24042e2)

    Finished code cleanup for now.


M	TODO
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/mail-raw.c
M	src/testsuite/mail-raw.h
M	src/testsuite/namespaces.c
M	src/testsuite/namespaces.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-compile.c
M	src/testsuite/tst-test-error.c

2008-08-25 12:15:46 +0200 Stephan Bosch <stephan@rename-it.nl> (badedb46)

    Cleaned up Sieve tools.


M	src/sieve-bin/bin-common.c
M	src/sieve-bin/bin-common.h
M	src/sieve-bin/mail-raw.c
M	src/sieve-bin/mail-raw.h
M	src/sieve-bin/namespaces.c
M	src/sieve-bin/namespaces.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/sieve-bin/sievec.c
M	src/sieve-bin/sieved.c

2008-08-25 12:01:35 +0200 Stephan Bosch <stephan@rename-it.nl> (a56cf623)

    Cleaned up LDA Sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h

2008-08-25 11:55:55 +0200 Stephan Bosch <stephan@rename-it.nl> (c4123b21)

    Cleaned up variables extension.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c

2008-08-25 11:23:47 +0200 Stephan Bosch <stephan@rename-it.nl> (d346afab)

    Vacation: removed useless duplicate_mark call.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c

2008-08-25 11:13:19 +0200 Stephan Bosch <stephan@rename-it.nl> (39c91487)

    Cleaned up vacation extension.


M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2008-08-18 00:05:57 +0200 Stephan Bosch <stephan@rename-it.nl> (b023088a)

    Testsuite: extended tests for the subaddress extension.


M	Makefile.am
A	sieve/examples/subaddress.rfc5233.sieve
M	tests/compile/examples.svtest
R100	tests/address-parts/subaddress.svtest	tests/extensions/subaddress/basic.svtest
A	tests/extensions/subaddress/rfc.svtest

2008-08-17 23:46:10 +0200 Stephan Bosch <stephan@rename-it.nl> (fa36892b)

    Installed new subaddress RFC in doc/rfc directory.


A	doc/rfc/subaddress.rfc5233.txt
D	src/lib-sieve/plugins/subaddress/rfc3598.txt

2008-08-17 23:44:02 +0200 Stephan Bosch <stephan@rename-it.nl> (c2d12799)

    Cleaned up subaddress extension.


M	src/lib-sieve/plugins/subaddress/ext-subaddress.c

2008-08-17 23:37:10 +0200 Stephan Bosch <stephan@rename-it.nl> (16553960)

    Testsuite: restructured and extended tests for the relational extension.


M	Makefile.am
A	sieve/examples/relational.rfc5231.sieve
R086	tests/compile/compile-examples.svtest	tests/compile/examples.svtest
R100	tests/match-types/relational.svtest	tests/extensions/relational/basic.svtest
A	tests/extensions/relational/errors.svtest
A	tests/extensions/relational/errors/validation.sieve
A	tests/extensions/relational/rfc.svtest

2008-08-17 23:09:25 +0200 Stephan Bosch <stephan@rename-it.nl> (969153d7)

    Installed new relational RFC in doc/rfc directory.


A	doc/rfc/relational.rfc5231.txt
D	src/lib-sieve/plugins/relational/rfc3431.txt

2008-08-17 23:03:21 +0200 Stephan Bosch <stephan@rename-it.nl> (60278d79)

    Cleaned up relational extension.


M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c

2008-08-17 22:54:18 +0200 Stephan Bosch <stephan@rename-it.nl> (0031692b)

    Cleaned up regex extension.


M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c

2008-08-17 22:41:33 +0200 Stephan Bosch <stephan@rename-it.nl> (78bbdc89)

    Cleaned up include extension.


M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-limits.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c

2008-08-17 19:31:10 +0200 Stephan Bosch <stephan@rename-it.nl> (eb2f38ca)

    Cleaned up imapflags extension.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c

2008-08-17 19:03:50 +0200 Stephan Bosch <stephan@rename-it.nl> (43aedf5b)

    Cleaned up copy extension.


M	src/lib-sieve/plugins/copy/ext-copy.c

2008-08-17 18:52:38 +0200 Stephan Bosch <stephan@rename-it.nl> (91888b9d)

    Cleaned up comparator-i;ascii-numeric.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c

2008-08-16 20:47:26 +0200 Stephan Bosch <stephan@rename-it.nl> (75233d72)

    Forgot to add test file.


A	tests/extensions/body/match-values.svtest

2008-08-16 20:46:59 +0200 Stephan Bosch <stephan@rename-it.nl> (bfc6d259)

    Testsuite: added test for the behavior of the body test with match values.


M	Makefile.am

2008-08-16 20:36:29 +0200 Stephan Bosch <stephan@rename-it.nl> (47d3a843)

    Body: now disables match value processing during body test evaluation as
    required by RFC.


M	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/sieve-match-types.c

2008-08-16 20:12:08 +0200 Stephan Bosch <stephan@rename-it.nl> (f7ae127f)

    Finished code cleanup of the sieve library itself.


M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2008-08-16 19:31:55 +0200 Stephan Bosch <stephan@rename-it.nl> (151d4705)

    Broad code cleanup.


M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h

2008-08-16 18:41:02 +0200 Stephan Bosch <stephan@rename-it.nl> (c4c7722f)

    Forgot to add new file for stop command.


A	src/lib-sieve/cmd-stop.c

2008-08-16 18:40:25 +0200 Stephan Bosch <stephan@rename-it.nl> (1fe262fe)

    Cleaned up commands implementation.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-code-dumper.c
D	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/tst-test-compile.c
M	src/testsuite/tst-test-error.c

2008-08-16 16:08:35 +0200 Stephan Bosch <stephan@rename-it.nl> (17c6bc69)

    Cleaned up sieve-code.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-08-16 15:46:37 +0200 Stephan Bosch <stephan@rename-it.nl> (e6a1cd52)

    Cleaned up sieve-binary-dumper.


M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h

2008-08-16 15:42:23 +0200 Stephan Bosch <stephan@rename-it.nl> (e04f3bfe)

    Cleaned up sieve-binary.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2008-08-16 15:30:15 +0200 Stephan Bosch <stephan@rename-it.nl> (cda64c34)

    Cleaned up sieve-ast.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2008-08-16 15:10:05 +0200 Stephan Bosch <stephan@rename-it.nl> (211fafea)

    Cleaned up sieve-address.


M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h

2008-08-16 15:01:01 +0200 Stephan Bosch <stephan@rename-it.nl> (680c052b)

    Cleaned up actions implementation.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2008-08-16 14:41:35 +0200 Stephan Bosch <stephan@rename-it.nl> (0d246fa2)

    Cleaned up address part and comparator implementation.


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-comparators.c

2008-08-16 14:33:40 +0200 Stephan Bosch <stephan@rename-it.nl> (ad66ace5)

    Cleaned up match type implementation.


D	sieve/errors/match-type-errors.sieve
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/tst-test-error.c
M	tests/compile/errors.svtest
A	tests/compile/errors/match-type.sieve

2008-08-16 13:28:51 +0200 Stephan Bosch <stephan@rename-it.nl> (4001d8dd)

    Regex: improvements and bugfixes.


M	TODO
M	src/lib-sieve/plugins/regex/mcht-regex.c

2008-08-16 12:49:35 +0200 Stephan Bosch <stephan@rename-it.nl> (64ab6616)

    Testsuite: restructured regex tests.


M	Makefile.am
R100	tests/match-types/regex.svtest	tests/extensions/regex/basic.svtest
A	tests/extensions/regex/errors.svtest
R100	src/lib-sieve/plugins/regex/regex-errors.sieve	tests/extensions/regex/errors/compile.sieve

2008-08-16 12:29:06 +0200 Stephan Bosch <stephan@rename-it.nl> (556da050)

    Regex: fixed a few minor bugs.


M	Makefile.am
R100	src/lib-sieve/plugins/regex/draft-murchison-sieve-regex-07.txt	doc/rfc/draft-murchison-sieve-regex-07.txt
M	src/lib-sieve/plugins/regex/mcht-regex.c
D	src/lib-sieve/plugins/regex/regex.sieve
M	src/lib-sieve/sieve-match-types.c
A	tests/extensions/variables/regex.svtest
M	tests/match-types/regex.svtest

2008-08-14 01:35:12 +0200 Stephan Bosch <stephan@rename-it.nl> (9c6afd6b)

    Compile fix for changes in Dovecot.


M	src/sieve-bin/mail-raw.c
M	src/sieve-bin/mail-raw.h
M	src/sieve-bin/namespaces.c
M	src/sieve-bin/namespaces.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/mail-raw.c
M	src/testsuite/mail-raw.h
M	src/testsuite/namespaces.c
M	src/testsuite/namespaces.h
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2008-08-13 23:50:15 +0200 Stephan Bosch <stephan@rename-it.nl> (d728be0d)

    Include: implemented runtime checking of export/import.


M	TODO
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
A	tests/extensions/include/errors/runtime.sieve

2008-08-13 22:51:59 +0200 Stephan Bosch <stephan@rename-it.nl> (d532a1e6)

    Include: transformed import and export to actual code operations for runtime
    checking.


M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-validator.c
M	tests/extensions/include/variables.svtest

2008-08-13 00:20:23 +0200 Stephan Bosch <stephan@rename-it.nl> (efa202a1)

    Variables: added functionality to obtain variable identifier from storage
    using linked scope.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-08-13 00:08:39 +0200 Stephan Bosch <stephan@rename-it.nl> (e82940d9)

    Variables: invalid variable indexes now trigger interpretation to fail with
    EXEC_BIN_CORRUPT.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-08-12 23:44:46 +0200 Stephan Bosch <stephan@rename-it.nl> (6aa6745d)

    Include: variable indexes are now verified to the global variable scope,
    meaning that a corrupt binary cannot allocate arbitrary global variables
    anymore.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c

2008-08-12 23:23:01 +0200 Stephan Bosch <stephan@rename-it.nl> (6cef9457)

    Removed obsoleted runtime_load() extension event.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/ext-testsuite.c

2008-08-12 23:12:17 +0200 Stephan Bosch <stephan@rename-it.nl> (de5f14ed)

    Added run() event to the interpreter_extension object.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c

2008-08-12 22:18:50 +0200 Stephan Bosch <stephan@rename-it.nl> (501ff34c)

    Cleaned up TODO file.


M	TODO

2008-08-12 22:14:35 +0200 Stephan Bosch <stephan@rename-it.nl> (de454e6f)

    Variables: implemented limits on number of variables in a scope, the length
    of variable names, size of variable values and the number of accesible match
    values.


M	TODO
M	doc/rfc/RFC Controversy.txt
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
A	src/lib-sieve/plugins/variables/ext-variables-limits.h
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	tests/extensions/variables/basic.svtest
M	tests/extensions/variables/errors.svtest
A	tests/extensions/variables/errors/limits.sieve

2008-08-12 19:51:56 +0200 Stephan Bosch <stephan@rename-it.nl> (2f3c95e5)

    Limited number of accepted match values


M	TODO
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-match-types.c

2008-08-12 19:04:37 +0200 Stephan Bosch <stephan@rename-it.nl> (2fcb69aa)

    Include: forgot to add new file to the repository.


A	src/lib-sieve/plugins/include/ext-include-limits.h

2008-08-12 19:03:12 +0200 Stephan Bosch <stephan@rename-it.nl> (e91c056f)

    Merged concurrent changes.


2008-08-12 19:02:12 +0200 Stephan Bosch <stephan@rename-it.nl> (1307169e)

    Include: limited the number of included scripts.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h

2008-08-12 00:56:25 +0200 Stephan Bosch <stephan@rename-it.nl> (85d12ee4)

    LDA-Plugin: prevented plugin from polluting the logfiles when the script
    does not exist.


M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/bin-common.c

2008-08-11 00:11:57 +0200 Stephan Bosch <stephan@rename-it.nl> (de2e6138)

    Include: used wrong messaging function in previous commit.


M	src/lib-sieve/plugins/include/cmd-include.c
M	tests/extensions/include/errors.svtest
M	tests/extensions/include/errors/generic.sieve

2008-08-11 00:05:22 +0200 Stephan Bosch <stephan@rename-it.nl> (01ce939b)

    Include: prohibited use of '/' in scriptnames.


M	src/lib-sieve/plugins/include/cmd-include.c

2008-08-10 22:12:24 +0200 Stephan Bosch <stephan@rename-it.nl> (3f062944)

    Body: discovered various issues (listed in disabled tests).


M	TODO
M	tests/extensions/body/basic.svtest

2008-08-10 21:34:17 +0200 Stephan Bosch <stephan@rename-it.nl> (d15163da)

    Body: added test regarding empty bodies and fixed testsuite to flush the
    message context when the message is changed.


M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/testsuite/cmd-test-set.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h
M	tests/extensions/body/basic.svtest

2008-08-10 20:44:56 +0200 Stephan Bosch <stephan@rename-it.nl> (60316c19)

    Body: fixed default comparator and added testsuite test to prevent this in
    the future.


M	src/lib-sieve/plugins/body/tst-body.c
M	tests/extensions/body/basic.svtest

2008-08-10 20:20:54 +0200 Stephan Bosch <stephan@rename-it.nl> (a6ccf5ae)

    Body: fixed bug in the :raw transform, added much comment to the body
    extraction code and added a first simple test to the testsuite.


M	Makefile.am
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/tst-body.c
A	tests/extensions/body/basic.svtest

2008-08-10 18:52:13 +0200 Stephan Bosch <stephan@rename-it.nl> (97b967b5)

    Made the lexer conform to the new Sieve RFC.


M	src/lib-sieve/sieve-lexer.c
M	src/testsuite/mail-raw.c

2008-08-10 14:43:06 +0200 Stephan Bosch <stephan@rename-it.nl> (84fab47c)

    Installed RFC for the body extension in the doc/rfc directory.


A	doc/rfc/body.rfc5173.txt
D	src/lib-sieve/plugins/body/draft-ietf-sieve-body-07.txt
M	src/lib-sieve/plugins/body/ext-body.c

2008-08-10 13:35:55 +0200 Stephan Bosch <stephan@rename-it.nl> (d9c6094e)

    Made sure error messages do not print large erroneous values.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c

2008-08-10 11:54:28 +0200 Stephan Bosch <stephan@rename-it.nl> (287f7c2e)

    Limited the depth of the AST and added tests to verify that it is resolved
    gracefully.


M	TODO
M	src/lib-sieve/sieve-parser.c
M	tests/compile/errors.svtest
M	tests/compile/errors/parser.sieve

2008-08-09 20:31:22 +0200 Stephan Bosch <stephan@rename-it.nl> (6e979c25)

    Limited number of command arguments.


M	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-parser.c
M	tests/compile/errors.svtest
A	tests/compile/errors/parser.sieve

2008-08-09 19:40:20 +0200 Stephan Bosch <stephan@rename-it.nl> (ad194526)

    Made lexer use the (i_*) ctype.h functions.


M	src/lib-sieve/sieve-lexer.c

2008-08-09 18:51:39 +0200 Stephan Bosch <stephan@rename-it.nl> (4d8f8da7)

    Limited the length of identifiers.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-limits.h
M	tests/compile/errors.svtest
M	tests/compile/errors/lexer.sieve

2008-08-09 17:34:13 +0200 Stephan Bosch <stephan@rename-it.nl> (2bdf696e)

    Enforced limits on string length and handled the finite nature of integers
    for number parsing and the construction of the AST.


M	TODO
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-lexer.c
A	src/lib-sieve/sieve-limits.h
M	src/lib-sieve/sieve-parser.c
M	tests/compile/errors.svtest
A	tests/compile/errors/lexer.sieve

2008-08-06 00:00:40 +0200 Stephan Bosch <stephan@rename-it.nl> (fe0422ab)

    Include: fixed bug in global variables referencing the main script.


M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-variables.c

2008-08-05 23:12:00 +0200 Stephan Bosch <stephan@rename-it.nl> (85b8865c)

    Include: symbol table for global variables now also includes locations for
    the first import/export of each known variable.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	tests/extensions/include/variables.svtest

2008-08-05 22:32:19 +0200 Stephan Bosch <stephan@rename-it.nl> (af990c23)

    Include: included scripts are now referenced by an include_id in stead of
    the binary block id.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h

2008-08-05 21:25:47 +0200 Stephan Bosch <stephan@rename-it.nl> (e0a8b6be)

    Forgot to implement free() event for validator and interpreter extensions.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-validator.c

2008-08-05 20:15:09 +0200 Stephan Bosch <stephan@rename-it.nl> (5b195b1c)

    Include: added symbol table to the binary for global variables.


M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/testsuite/ext-testsuite.c
M	tests/extensions/include/errors.svtest
A	tests/extensions/include/errors/import-runtime.sieve
M	tests/extensions/include/errors/variables.sieve

2008-08-05 10:02:25 +0200 Stephan Bosch <stephan@rename-it.nl> (33ec65c7)

    Updated documentation.


M	README
M	TODO

2008-08-03 23:33:47 +0200 Stephan Bosch <stephan@rename-it.nl> (f475b6da)

    Minor TODO file revisions.


M	TODO

2008-08-03 23:21:02 +0200 Stephan Bosch <stephan@rename-it.nl> (c1e6e217)

    Testsuite: added match values test for the :regex match


M	Makefile.am
A	tests/match-types/regex.svtest

2008-08-03 23:15:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ea223592)

    Fixed replacing match values only when a test succeeds.


M	TODO
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	tests/extensions/variables/match.svtest
M	tests/match-types/matches.svtest

2008-08-03 19:34:01 +0200 Stephan Bosch <stephan@rename-it.nl> (b043e882)

    Upgraded validator and interpreter extension support to provide destruction
    notifications.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2008-08-02 17:24:03 +0200 Stephan Bosch <stephan@rename-it.nl> (e3afed79)

    Include: found one issue.


M	TODO

2008-08-02 16:22:04 +0200 Stephan Bosch <stephan@rename-it.nl> (e83f2e46)

    Testsuite: added circular include tests.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite.c
M	tests/extensions/include/errors.svtest
A	tests/extensions/include/errors/circular-1.sieve
A	tests/extensions/include/errors/circular-2.sieve
A	tests/extensions/include/errors/circular-3.sieve
A	tests/extensions/include/errors/included/circular-one.sieve
A	tests/extensions/include/errors/included/circular-three-2.sieve
A	tests/extensions/include/errors/included/circular-three-3.sieve
A	tests/extensions/include/errors/included/circular-three.sieve
A	tests/extensions/include/errors/included/circular-two-2.sieve
A	tests/extensions/include/errors/included/circular-two.sieve
R100	tests/extensions/include/variables-included1.sieve	tests/extensions/include/included/variables-included1.sieve
R100	tests/extensions/include/variables-included2.sieve	tests/extensions/include/included/variables-included2.sieve
R100	tests/extensions/include/variables-included3.sieve	tests/extensions/include/included/variables-included3.sieve

2008-08-02 15:48:00 +0200 Stephan Bosch <stephan@rename-it.nl> (a78fd5bb)

    Include: cleaned up source directory.


R100	src/lib-sieve/plugins/include/draft-daboo-sieve-include-05.txt	doc/rfc/draft-daboo-sieve-include-05.txt
M	src/lib-sieve/plugins/include/Makefile.am
D	src/lib-sieve/plugins/include/include-variables.sieve
D	src/lib-sieve/plugins/include/include-variables1.sieve
D	src/lib-sieve/plugins/include/include-variables2.sieve
D	src/lib-sieve/plugins/include/include-variables3.sieve
D	src/lib-sieve/plugins/include/include.sieve
D	src/lib-sieve/plugins/include/included1.sieve
D	src/lib-sieve/plugins/include/included2.sieve
D	src/lib-sieve/plugins/include/included3.sieve
M	tests/extensions/include/errors.svtest
R060	src/lib-sieve/plugins/include/include-error.sieve	tests/extensions/include/errors/generic.sieve

2008-08-02 15:36:26 +0200 Stephan Bosch <stephan@rename-it.nl> (45c19dad)

    Testsuite: added compile error tests for the include extension.


M	Makefile.am
D	src/lib-sieve/plugins/include/include-variables-error2.sieve
A	tests/extensions/include/errors.svtest
R080	src/lib-sieve/plugins/include/include-variables-error.sieve	tests/extensions/include/errors/variables-inactive.sieve
A	tests/extensions/include/errors/variables.sieve

2008-08-02 15:35:54 +0200 Stephan Bosch <stephan@rename-it.nl> (718c4b72)

    Copy: forgot to remove RFC from old location.


D	src/lib-sieve/plugins/copy/rfc3894.txt

2008-08-02 15:34:21 +0200 Stephan Bosch <stephan@rename-it.nl> (a65a1af8)

    Copy: moved RFC to doc/rfc directory.


A	doc/rfc/copy.rfc3894.txt

2008-08-02 15:12:31 +0200 Stephan Bosch <stephan@rename-it.nl> (2a48ee8c)

    Imapflags: updated specification to RFC 5232.


A	doc/rfc/imap4flags.rfc5232.txt
D	src/lib-sieve/plugins/imapflags/draft-ietf-sieve-imapflags-05.txt
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c

2008-08-02 15:04:20 +0200 Stephan Bosch <stephan@rename-it.nl> (d77cbb86)

    Imapflags: found one new issue.


M	TODO

2008-08-02 14:55:45 +0200 Stephan Bosch <stephan@rename-it.nl> (a22b5d49)

    Imapflags: accidentally omitted support for multiple variables in the
    hasflag test.


M	Makefile.am
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-generator.c
R080	tests/extensions/imapflags/rfc.svtest	tests/extensions/imapflags/hasflag.svtest

2008-08-02 13:02:22 +0200 Stephan Bosch <stephan@rename-it.nl> (91eb50e0)

    Testsuite: added new tests for the variables extension.


M	TODO
M	tests/extensions/variables/errors.svtest
M	tests/extensions/variables/errors/set.sieve
M	tests/extensions/variables/string.svtest

2008-08-02 12:41:30 +0200 Stephan Bosch <stephan@rename-it.nl> (0999c475)

    Fixed various case-sensitivily-related issues.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-validator.c
M	tests/compile/trivial.sieve
M	tests/extensions/variables/errors.svtest

2008-08-02 12:25:07 +0200 Stephan Bosch <stephan@rename-it.nl> (30c8cf2e)

    Variables: fixed various error handling issues.


M	Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
A	tests/extensions/variables/errors.svtest
A	tests/extensions/variables/errors/namespace.sieve
A	tests/extensions/variables/errors/set.sieve

2008-08-02 12:24:30 +0200 Stephan Bosch <stephan@rename-it.nl> (d1dfd428)

    Fixed a warning.


M	src/lib-sieve/sieve-address.c

2008-08-01 22:02:55 +0200 Stephan Bosch <stephan@rename-it.nl> (e4ac3052)

    Fixed 'make dist' to produce a working tarball.


M	Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-08-01 21:22:44 +0200 Stephan Bosch <stephan@rename-it.nl> (5e87e933)

    Testsuite: added test regarding matching the empty string and fixed an issue
    in the i;ascii-numeric comparator.


M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	tests/match-types/contains.svtest
M	tests/match-types/is.svtest
M	tests/match-types/matches.svtest
M	tests/match-types/relational.svtest

2008-08-01 20:40:36 +0200 Stephan Bosch <stephan@rename-it.nl> (548ad669)

    Variables: fixed :count issue for the string test.


M	Makefile.am
M	TODO
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	tests/extensions/variables/string.svtest

2008-08-01 20:11:39 +0200 Stephan Bosch <stephan@rename-it.nl> (8b678f10)

    Testsuite: added more tests for the variables extension and found one issue.


M	TODO
M	tests/extensions/variables/basic.svtest
M	tests/extensions/variables/modifiers.svtest
A	tests/extensions/variables/string.svtest

2008-08-01 19:25:36 +0200 Stephan Bosch <stephan@rename-it.nl> (6f1a5e10)

    Testsuite: added RFC compliance tests for the variables extension and fixed
    use of wrong default comparator.


M	Makefile.am
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	tests/extensions/variables/basic.svtest
M	tests/extensions/variables/match.svtest
A	tests/extensions/variables/modifiers.svtest
M	tests/match-types/contains.svtest

2008-08-01 17:54:40 +0200 Stephan Bosch <stephan@rename-it.nl> (353c11c7)

    Fixed bug in the order of default argument processing. Variable strings were
    evaluated befor constant strings, which is wrong.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-validator.c
A	tests/extensions/variables/quoting.svtest

2008-08-01 16:32:58 +0200 Stephan Bosch <stephan@rename-it.nl> (5e3518f2)

    Envelope: added more test and fixed source route parsing.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address.c
M	tests/extensions/envelope.svtest

2008-08-01 02:26:16 +0200 Stephan Bosch <stephan@rename-it.nl> (be8b4eb0)

    Envelope: fixed one bug in the path parsing (printfs active).


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address.c
M	tests/extensions/envelope.svtest

2008-07-31 10:44:17 +0200 Stephan Bosch <stephan@rename-it.nl> (d65ee78e)

    Envelope: working towards proper RFC compliance of forward/return-path
    parsing.


M	TODO
M	doc/rfc/RFC Controversy.txt
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-common.h
M	tests/extensions/envelope.svtest
M	tests/testsuite.svtest

2008-07-29 23:05:05 +0200 Stephan Bosch <stephan@rename-it.nl> (51a0cc34)

    Variables: fixed RFC compliance issue regarding failing validation on
    unknown namespaces.


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	tests/extensions/variables/basic.svtest

2008-07-29 22:38:44 +0200 Stephan Bosch <stephan@rename-it.nl> (71e66c81)

    Variables: fixed bug in variables substitution (RFC example failed during
    testing).


M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	tests/extensions/variables/basic.svtest

2008-07-29 22:21:32 +0200 Stephan Bosch <stephan@rename-it.nl> (b29320f2)

    Variables: fixed very significant bug in the variable scope implementation.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	tests/extensions/variables/basic.svtest

2008-07-29 22:21:04 +0200 Stephan Bosch <stephan@rename-it.nl> (a1c77607)

    Removed superfluous include.


M	src/lib-sieve/sieve-binary.h

2008-07-29 19:32:30 +0200 Stephan Bosch <stephan@rename-it.nl> (e64a9b8f)

    Testsuite: cleaned up basic varibles test case.


M	tests/extensions/variables/basic.svtest

2008-07-29 19:15:35 +0200 Stephan Bosch <stephan@rename-it.nl> (a4faba00)

    Testsuite: moved tests directory to the root of the package.


M	Makefile.am
M	configure.in
M	src/testsuite/Makefile.am
R100	src/testsuite/tests/address-parts/subaddress.svtest	tests/address-parts/subaddress.svtest
R100	src/testsuite/tests/comparators/core.svtest	tests/comparators/core.svtest
R052	src/testsuite/tests/compile/compile-examples.svtest	tests/compile/compile-examples.svtest
R100	src/testsuite/tests/compile/compile.svtest	tests/compile/compile.svtest
R100	src/testsuite/tests/compile/errors.svtest	tests/compile/errors.svtest
R100	src/testsuite/tests/compile/errors/address-part.sieve	tests/compile/errors/address-part.sieve
R100	src/testsuite/tests/compile/errors/address.sieve	tests/compile/errors/address.sieve
R100	src/testsuite/tests/compile/errors/encoded-character.sieve	tests/compile/errors/encoded-character.sieve
R100	src/testsuite/tests/compile/errors/envelope.sieve	tests/compile/errors/envelope.sieve
R100	src/testsuite/tests/compile/errors/header.sieve	tests/compile/errors/header.sieve
R100	src/testsuite/tests/compile/errors/if.sieve	tests/compile/errors/if.sieve
R100	src/testsuite/tests/compile/errors/keep.sieve	tests/compile/errors/keep.sieve
R100	src/testsuite/tests/compile/errors/require.sieve	tests/compile/errors/require.sieve
R100	src/testsuite/tests/compile/errors/size.sieve	tests/compile/errors/size.sieve
R100	src/testsuite/tests/compile/errors/stop.sieve	tests/compile/errors/stop.sieve
R100	src/testsuite/tests/compile/redirect.sieve	tests/compile/redirect.sieve
R100	src/testsuite/tests/compile/trivial.sieve	tests/compile/trivial.sieve
R100	src/testsuite/tests/control-structures.svtest	tests/control-structures.svtest
R100	src/testsuite/tests/exists.svtest	tests/exists.svtest
R100	src/testsuite/tests/extensions/encoded-character.svtest	tests/extensions/encoded-character.svtest
R100	src/testsuite/tests/extensions/envelope.svtest	tests/extensions/envelope.svtest
R100	src/testsuite/tests/extensions/imapflags/basic.svtest	tests/extensions/imapflags/basic.svtest
R100	src/testsuite/tests/extensions/imapflags/rfc.svtest	tests/extensions/imapflags/rfc.svtest
R100	src/testsuite/tests/extensions/include/variables-included1.sieve	tests/extensions/include/variables-included1.sieve
R100	src/testsuite/tests/extensions/include/variables-included2.sieve	tests/extensions/include/variables-included2.sieve
R100	src/testsuite/tests/extensions/include/variables-included3.sieve	tests/extensions/include/variables-included3.sieve
R100	src/testsuite/tests/extensions/include/variables.svtest	tests/extensions/include/variables.svtest
R100	src/testsuite/tests/extensions/variables/basic.svtest	tests/extensions/variables/basic.svtest
R100	src/testsuite/tests/extensions/variables/match.svtest	tests/extensions/variables/match.svtest
R100	src/testsuite/tests/header.svtest	tests/header.svtest
R100	src/testsuite/tests/lexer.svtest	tests/lexer.svtest
R100	src/testsuite/tests/match-types/contains.svtest	tests/match-types/contains.svtest
R100	src/testsuite/tests/match-types/is.svtest	tests/match-types/is.svtest
R100	src/testsuite/tests/match-types/matches.svtest	tests/match-types/matches.svtest
R100	src/testsuite/tests/match-types/relational.svtest	tests/match-types/relational.svtest
R100	src/testsuite/tests/testsuite.svtest	tests/testsuite.svtest

2008-07-29 18:55:47 +0200 Stephan Bosch <stephan@rename-it.nl> (e3b19039)

    Installed variables rfc in the doc/rfc directory.


R100	src/lib-sieve/plugins/variables/rfc5229.txt	doc/rfc/variables.rfc5229.txt

2008-07-29 17:08:15 +0200 Stephan Bosch <stephan@rename-it.nl> (734239f9)

    Encoded-character: resolved error reporting issue, added some syntax error
    tests and fixed some parsing bugs in the process.


M	TODO
M	src/lib-sieve/ext-encoded-character.c
M	src/testsuite/tests/compile/errors/encoded-character.sieve
M	src/testsuite/tests/extensions/encoded-character.svtest

2008-07-29 15:19:28 +0200 Stephan Bosch <stephan@rename-it.nl> (c2c58e59)

    Testsuite: added compile error testcases and discovered one new issue.


M	TODO
M	src/lib-sieve/ext-encoded-character.c
M	src/testsuite/tests/compile/errors.svtest
A	src/testsuite/tests/compile/errors/address-part.sieve
A	src/testsuite/tests/compile/errors/encoded-character.sieve
A	src/testsuite/tests/compile/errors/envelope.sieve
A	src/testsuite/tests/compile/errors/keep.sieve
A	src/testsuite/tests/compile/errors/size.sieve
A	src/testsuite/tests/compile/errors/stop.sieve
M	src/testsuite/tests/control-structures.svtest

2008-07-29 11:36:26 +0200 Stephan Bosch <stephan@rename-it.nl> (9e2140cb)

    Reprioritized TODO file.


M	TODO

2008-07-29 11:30:15 +0200 Stephan Bosch <stephan@rename-it.nl> (ea0e6b49)

    Variables: resolved issues in the scope implementation.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-07-29 10:58:17 +0200 Stephan Bosch <stephan@rename-it.nl> (c4879d7c)

    Added proper extension support to AST object.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2008-07-28 20:39:51 +0200 Stephan Bosch <stephan@rename-it.nl> (f597ac97)

    Testsuite: added a few more compile error test cases.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/tests/compile/errors.svtest
A	src/testsuite/tests/compile/errors/address.sieve
M	src/testsuite/tests/compile/errors/header.sieve
A	src/testsuite/tests/compile/errors/if.sieve
A	src/testsuite/tests/compile/errors/require.sieve
M	src/testsuite/testsuite-common.c

2008-07-28 18:44:23 +0200 Stephan Bosch <stephan@rename-it.nl> (7b048e6c)

    Testsuite: completed support for error validation and added one test case.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/testsuite/Makefile.am
R097	src/testsuite/tests/errors.svtest	src/testsuite/tests/compile/errors.svtest
R100	src/testsuite/tests/header-errors.sieve	src/testsuite/tests/compile/errors/header.sieve
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c
M	src/testsuite/tst-test-compile.c
M	src/testsuite/tst-test-error.c

2008-07-28 16:29:12 +0200 Stephan Bosch <stephan@rename-it.nl> (616b274f)

    Testsuite: started support for error validation.


M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/ext-testsuite.c
A	src/testsuite/tests/errors.svtest
A	src/testsuite/tests/header-errors.sieve
M	src/testsuite/testsuite-common.h
M	src/testsuite/tst-test-compile.c
A	src/testsuite/tst-test-error.c

2008-07-28 14:59:16 +0200 Stephan Bosch <stephan@rename-it.nl> (43d05ac5)

    Testsuite: marginally improved match-type tests.


M	TODO
M	src/testsuite/Makefile.am
M	src/testsuite/tests/match-types/contains.svtest
A	src/testsuite/tests/match-types/is.svtest

2008-07-28 12:49:45 +0200 Stephan Bosch <stephan@rename-it.nl> (141a7794)

    Added variables testcase to the testsuite.


M	src/testsuite/Makefile.am

2008-07-28 12:48:14 +0200 Stephan Bosch <stephan@rename-it.nl> (34fd1a7b)

    Fixed bugs in the :matches match type.


M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
A	src/testsuite/tests/extensions/variables/match.svtest
M	src/testsuite/tests/lexer.svtest
M	src/testsuite/tests/match-types/matches.svtest

2008-07-28 00:22:23 +0200 Stephan Bosch <stephan@rename-it.nl> (f153305d)

    Encoded-character: fixed a few bugs to properly match the examples provided
    in the RFC.


M	src/lib-sieve/ext-encoded-character.c
M	src/testsuite/Makefile.am
A	src/testsuite/tests/extensions/encoded-character.svtest

2008-07-27 21:53:04 +0200 Stephan Bosch <stephan@rename-it.nl> (8de497f0)

    Added stripping of right white space from header content.


M	TODO
M	src/lib-sieve/tst-header.c

2008-07-27 18:00:21 +0200 Stephan Bosch <stephan@rename-it.nl> (ed2c80bc)

    Updated TODO


M	TODO

2008-07-27 17:52:34 +0200 Stephan Bosch <stephan@rename-it.nl> (47b8548c)

    Envelope: forgot to add new test case.


A	src/testsuite/tests/extensions/envelope.svtest

2008-07-27 17:52:03 +0200 Stephan Bosch <stephan@rename-it.nl> (1118aaef)

    Envelope: <> return path now always matches as the empty string, regardless
    of the specified address part.


M	TODO
M	src/lib-sieve/ext-envelope.c
M	src/testsuite/Makefile.am

2008-07-27 17:17:57 +0200 Stephan Bosch <stephan@rename-it.nl> (a924297f)

    Minor TODO file change.


M	TODO

2008-07-27 17:17:02 +0200 Stephan Bosch <stephan@rename-it.nl> (3b233deb)

    Forgot to adjust comment.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/tst-address.c

2008-07-27 17:15:24 +0200 Stephan Bosch <stephan@rename-it.nl> (b1e91a0a)

    Updated documentation.


M	doc/rfc/RFC Controversy.txt

2008-07-27 17:12:10 +0200 Stephan Bosch <stephan@rename-it.nl> (7aa007fb)

    Envelope: added compile-time envelope-part verification.


M	TODO
M	doc/rfc/RFC Controversy.txt
A	sieve/errors/envelope-errors.sieve
M	sieve/examples/elvey.sieve
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/tst-address.c

2008-07-27 16:27:40 +0200 Stephan Bosch <stephan@rename-it.nl> (6a1073f6)

    Added RFC controversy file to log all matters that require clarification
    from RFC editors.


A	doc/rfc/RFC Controversy.txt

2008-07-27 16:00:47 +0200 Stephan Bosch <stephan@rename-it.nl> (ae34854c)

    Restricted allowable headers for the address test.


M	TODO

2008-07-27 15:59:47 +0200 Stephan Bosch <stephan@rename-it.nl> (7a0738ab)

    Imapflags: forgot to add testcase file.


M	TODO
M	sieve/errors/address-errors.sieve
M	src/lib-sieve/tst-address.c
A	src/testsuite/tests/extensions/imapflags/rfc.svtest

2008-07-27 13:12:07 +0200 Stephan Bosch <stephan@rename-it.nl> (0db3a614)

    Disallowed extraction of key elements from key strings for match types for
    with that would not make sense.


M	src/lib-sieve/sieve-match.c

2008-07-27 13:08:33 +0200 Stephan Bosch <stephan@rename-it.nl> (a26cb52c)

    Imapflags: resolved problem of hasflags encountering duplicate flags in flag
    lists contained in a variable.


M	TODO
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/testsuite/Makefile.am
M	src/testsuite/tests/extensions/imapflags/basic.svtest

2008-07-27 12:43:29 +0200 Stephan Bosch <stephan@rename-it.nl> (0b2f9a20)

    Imapflags: resolved string representation issue in hasflag.


M	TODO
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/Makefile.am
M	src/testsuite/tests/extensions/imapflags/basic.svtest

2008-07-27 11:50:07 +0200 Stephan Bosch <stephan@rename-it.nl> (778eab7c)

    Resolved code duplication among commands that use comparators and
    match-types and found problems in the imapflags extension in the process.


M	TODO
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-match.c
M	src/lib-sieve/sieve-match.h
M	src/lib-sieve/tst-header.c
A	src/testsuite/tests/extensions/imapflags/basic.svtest

2008-07-26 10:28:50 +0200 Stephan Bosch <stephan@rename-it.nl> (a79ccdb9)

    LDA-Sieve plugin: forgot to save the new binary when encountered a corrupt
    one.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-07-26 00:11:06 +0200 Stephan Bosch <stephan@rename-it.nl> (540a6429)

    Improved the handling corrupt binaries further for the action commands.


M	TODO
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2008-07-25 23:30:26 +0200 Stephan Bosch <stephan@rename-it.nl> (31fb8075)

    Significantly improved handling of old/corrupt binaries and revised matching
    implementation in the process.


M	TODO
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
A	src/lib-sieve/sieve-match.c
A	src/lib-sieve/sieve-match.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/Makefile.am
M	src/testsuite/tests/control-structures.svtest
A	src/testsuite/tests/match-types/relational.svtest
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2008-07-25 20:54:21 +0200 Stephan Bosch <stephan@rename-it.nl> (4a5d8262)

    Fixed extremely stupid bug in the i;ascii-numeric comparator.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c

2008-07-25 19:17:20 +0200 Stephan Bosch <stephan@rename-it.nl> (d3d97752)

    Implemented graceful handling of corrupt binaries by the sieve lda plugin.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-interpreter.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2008-07-25 17:38:44 +0200 Stephan Bosch <stephan@rename-it.nl> (8ba069ed)

    Properly configured package name.


M	configure.in

2008-07-25 17:26:40 +0200 Stephan Bosch <stephan@rename-it.nl> (c17c8361)

    Working towards improving the handling of currupt binaries: defined multiple
    exit codes for execution functions and defined trace macro for reporting
    binary corruptions.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/sieve-exec.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/tst-test-compile.c

2008-07-25 14:23:02 +0200 Stephan Bosch <stephan@rename-it.nl> (4b4530a3)

    Testsuite: forgot to add test cases for include extension.


M	TODO
A	src/testsuite/tests/extensions/include/variables-included1.sieve
A	src/testsuite/tests/extensions/include/variables-included2.sieve
A	src/testsuite/tests/extensions/include/variables-included3.sieve
A	src/testsuite/tests/extensions/include/variables.svtest

2008-07-25 12:12:33 +0200 Stephan Bosch <stephan@rename-it.nl> (2ff8eeed)

    Fixed code emission for extension-defined variables and removed hardcoded
    paths from include extension.


M	TODO
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/testsuite/Makefile.am
M	src/testsuite/testsuite.c

2008-07-25 10:25:47 +0200 Stephan Bosch <stephan@rename-it.nl> (2959236f)

    Added future TODO item.


M	TODO

2008-07-25 01:05:51 +0200 Stephan Bosch <stephan@rename-it.nl> (dd937bb3)

    Updated TODO and removed spurious FIXME.


M	TODO
M	src/lib-sieve/sieve-interpreter.h

2008-07-25 00:48:21 +0200 Stephan Bosch <stephan@rename-it.nl> (8c1c6f61)

    Updated documentation.


M	README
M	src/testsuite/ext-testsuite.c

2008-07-25 00:05:16 +0200 Stephan Bosch <stephan@rename-it.nl> (e38b0bbd)

    Testsuite: added test_compile command to test compilation of scripts.


M	.hgignore
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
A	src/testsuite/tests/compile/compile-examples.svtest
A	src/testsuite/tests/compile/compile.svtest
A	src/testsuite/tests/compile/redirect.sieve
A	src/testsuite/tests/compile/trivial.sieve
M	src/testsuite/testsuite-common.h
A	src/testsuite/tst-test-compile.c

2008-07-24 22:59:18 +0200 Stephan Bosch <stephan@rename-it.nl> (1af2938b)

    Revised Sieve address validation functionality.


M	TODO
M	sieve/errors/out-address-errors.sieve
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-binary.c

2008-07-24 17:48:56 +0200 Stephan Bosch <stephan@rename-it.nl> (c0e64243)

    Started using new str_new_const() function.


M	README
M	TODO
M	configure.in
M	src/lib-sieve/sieve-binary.c

2008-07-24 17:35:47 +0200 Stephan Bosch <stephan@rename-it.nl> (e6995fc0)

    Imapflags: improved handling of invalid flags.


M	TODO
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/imapflags-errors.sieve
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2008-07-24 13:50:03 +0200 Stephan Bosch <stephan@rename-it.nl> (7f089988)

    Significantly improved pool allocation by checking --enable-debug warnings
    from dovecot.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c

2008-07-24 09:37:56 +0200 Stephan Bosch <stephan@rename-it.nl> (b62a2c59)

    Removed all legacy use of array_create().


M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-validator.c

2008-07-24 08:49:20 +0200 Stephan Bosch <stephan@rename-it.nl> (293e7d6b)

    Lexer: fixed repetitive string alloation problem.


M	src/lib-sieve/sieve-lexer.c

2008-07-23 18:53:22 +0200 Stephan Bosch <stephan@rename-it.nl> (473c9384)

    Fixed bug introduced by previous change.


M	src/lib-sieve/sieve-binary.c

2008-07-23 18:38:14 +0200 Stephan Bosch <stephan@rename-it.nl> (73b03bea)

    Reworked operand and operation binary coding functions.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
D	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-objects.c

2008-07-23 13:51:51 +0200 Stephan Bosch <stephan@rename-it.nl> (4a7ba645)

    Fully substituted the use of extension ids with the use of the extension
    object itself.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-message.c
M	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h

2008-07-23 11:38:15 +0200 Stephan Bosch <stephan@rename-it.nl> (be78a55b)

    Made initially assigned extension id available directly from the const
    extension object itself.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/testsuite/ext-testsuite.c

2008-07-23 00:42:51 +0200 Stephan Bosch <stephan@rename-it.nl> (e81dd2cf)

    Reworked previous change into three elegant macros.


M	TODO
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2008-07-22 20:14:45 +0200 Stephan Bosch <stephan@rename-it.nl> (79d351ae)

    Made utility functions for neatly handing system errors, warnings and
    notices.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-script.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-07-22 11:02:20 +0200 Stephan Bosch <stephan@rename-it.nl> (6359fb85)

    Testsuite: added tests for use of allof/anyof with a single test and
    optimized code generation.


M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/testsuite/tests/control-structures.svtest

2008-07-22 10:38:40 +0200 Stephan Bosch <stephan@rename-it.nl> (9ecbfb56)

    Testsuite: added test case for the header test and found one issue.


M	TODO
A	src/testsuite/tests/header.svtest
M	src/testsuite/tests/match-types/contains.svtest

2008-07-22 09:43:15 +0200 Stephan Bosch <stephan@rename-it.nl> (630d8e4b)

    Testsuite: added lexer string scan comparison test and fixed lexer bug in
    the process.


M	src/lib-sieve/sieve-lexer.c
M	src/testsuite/Makefile.am
A	src/testsuite/tests/lexer.svtest

2008-07-21 23:57:05 +0200 Stephan Bosch <stephan@rename-it.nl> (6e9716f2)

    Testsuite: added some control structure tests involving nesting.


M	TODO
M	src/testsuite/tests/control-structures.svtest

2008-07-21 23:37:01 +0200 Stephan Bosch <stephan@rename-it.nl> (5a47c74b)

    Testsuite: added tests for 'exists' test and fixed a semantic error in the
    'exists' test.


M	TODO
M	src/lib-sieve/tst-exists.c
M	src/testsuite/Makefile.am
A	src/testsuite/tests/exists.svtest
M	src/testsuite/testsuite-objects.c

2008-07-21 23:19:39 +0200 Stephan Bosch <stephan@rename-it.nl> (3b53c87f)

    Testsuite: tested handling of teststuite envelope environment and fixed bugs
    in the envelope test in the process.


M	TODO
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address-parts.c
M	src/testsuite/tests/testsuite.svtest
M	src/testsuite/testsuite-objects.c

2008-07-21 21:59:37 +0200 Stephan Bosch <stephan@rename-it.nl> (ed86429a)

    Testsuite: added test case for subadress extension.


M	src/testsuite/Makefile.am
A	src/testsuite/tests/address-parts/subaddress.svtest
M	src/testsuite/testsuite-common.c

2008-07-21 19:30:16 +0200 Stephan Bosch <stephan@rename-it.nl> (3f15068e)

    Coupled testsuite to 'make test'.


M	Makefile.am
M	TODO
M	configure.in
M	src/Makefile.am
M	src/testsuite/Makefile.am
M	src/testsuite/tests/testsuite.svtest
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2008-07-21 17:26:18 +0200 Stephan Bosch <stephan@rename-it.nl> (78c2ac15)

    Cleaned up test and core extension implementations.


M	sieve/tests/encoded-character.sieve
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c

2008-07-21 16:11:56 +0200 Stephan Bosch <stephan@rename-it.nl> (5fb4684d)

    Cleaned up command implementations.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c

2008-07-21 13:41:43 +0200 Stephan Bosch <stephan@rename-it.nl> (2793a703)

    Fixed handling of script files that are in fact symbolic links.


M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c

2008-07-21 12:37:57 +0200 Stephan Bosch <stephan@rename-it.nl> (04ac5df4)

    Fixed bug in binary created without a corresponding script object.


M	src/lib-sieve/sieve-binary.c

2008-07-21 12:23:50 +0200 Stephan Bosch <stephan@rename-it.nl> (a0203d2e)

    Reversed stat() and open() on two occasions to make retrieved stat
    information guaranteed to be valid for the opened file and added error
    handling for various close() system calls.


M	TODO
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-script.c

2008-07-21 02:26:25 +0200 Stephan Bosch <stephan@rename-it.nl> (778874e1)

    Updated TODO list.


M	TODO

2008-07-21 02:09:28 +0200 Stephan Bosch <stephan@rename-it.nl> (7c33d499)

    Removed various unnecessary includes of <ctype.h> and replaced yey another
    toupper() with its i_* equivalent.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
M	src/lib-sieve/plugins/variables/ext-variables-name.c
M	src/lib-sieve/plugins/variables/ext-variables-name.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c

2008-07-21 01:52:49 +0200 Stephan Bosch <stephan@rename-it.nl> (a4a7eba1)

    Removed direct use of isdigit, isalpha and isalnum and replaced these with
    their dovecot i_* equivalents to prevent problems on some systems.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/variables/ext-variables-name.c

2008-07-21 01:45:08 +0200 Stephan Bosch <stephan@rename-it.nl> (81dc9e2e)

    Updated TODO.


M	TODO

2008-07-21 01:20:05 +0200 Stephan Bosch <stephan@rename-it.nl> (9f778b94)

    Variables: made set modifiers descendants of the sieve object too.


M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
A	src/lib-sieve/plugins/variables/ext-variables-modifiers.c
A	src/lib-sieve/plugins/variables/ext-variables-modifiers.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/variables-match.sieve
A	src/testsuite/tests/extensions/variables/basic.svtest

2008-07-20 21:37:18 +0200 Stephan Bosch <stephan@rename-it.nl> (966d850b)

    Testsuite: made testsuite objects a descendant from sieve objects.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-objects.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h

2008-07-20 18:32:25 +0200 Stephan Bosch <stephan@rename-it.nl> (a2562989)

    Removed remaining code duplication among comparators, match types and
    address parts.


M	TODO
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2008-07-20 17:01:29 +0200 Stephan Bosch <stephan@rename-it.nl> (655f933f)

    Updated TODO list.


M	TODO

2008-07-20 16:59:49 +0200 Stephan Bosch <stephan@rename-it.nl> (d1bcfc06)

    Made side effects sieve objects too.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-objects.c
M	src/lib-sieve/sieve-objects.h

2008-07-20 15:27:02 +0200 Stephan Bosch <stephan@rename-it.nl> (1947ba30)

    Introduced the concept of a sieve object to merge the coding of comparators,
    match types, address parts and other objects that might need to be
    represented in byte code (removes lots of code duplication).


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmp-i-ascii-casemap.c
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
A	src/lib-sieve/sieve-objects.c
A	src/lib-sieve/sieve-objects.h

2008-07-19 19:43:29 +0200 Stephan Bosch <stephan@rename-it.nl> (c289acca)

    Revised extension support for match-types.


M	TODO
M	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/mcht-contains.c
M	src/lib-sieve/mcht-is.c
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/regex/Makefile.am
A	src/lib-sieve/plugins/regex/ext-regex-common.c
M	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/relational/ext-relational-common.c
M	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/mcht-count.c
M	src/lib-sieve/plugins/relational/mcht-value.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2008-07-19 16:31:14 +0200 Stephan Bosch <stephan@rename-it.nl> (db760623)

    Cleaned up comparator implementation.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/cmp-i-ascii-casemap.c
A	src/lib-sieve/cmp-i-octet.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h

2008-07-19 15:57:46 +0200 Stephan Bosch <stephan@rename-it.nl> (b4c6eaff)

    Revised extension support for comparators.


M	TODO
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
A	src/testsuite/tests/comparators/core.svtest

2008-07-18 21:31:11 +0200 Stephan Bosch <stephan@rename-it.nl> (a5dba1ca)

    Fixed stupid bug in the match-type context validation.


M	src/lib-sieve/sieve-comparators.c

2008-07-18 18:32:29 +0200 Stephan Bosch <stephan@rename-it.nl> (37d7c200)

    Made error reporting cleaner by avoiding the scriptname of the main script
    and indicating that the printed numbers are in fact source code lines.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
A	src/lib-sieve/sieve-types.h
M	src/lib-sieve/sieve.h

2008-07-18 12:37:30 +0200 Stephan Bosch <stephan@rename-it.nl> (c71a9299)

    Fixed warnings caused by remaining spurious inline definitions in
    sieve-validator.h


M	src/lib-sieve/sieve-validator.h

2008-07-17 17:30:59 +0200 Stephan Bosch <stephan@rename-it.nl> (998fd1b4)

    Code cleanup: parser, lexer, lda-plugin and main interface.


M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-07-17 00:02:29 +0200 Stephan Bosch <stephan@rename-it.nl> (536aa183)

    Updated TODO.


M	TODO

2008-07-16 23:50:54 +0200 Stephan Bosch <stephan@rename-it.nl> (68a97ad7)

    Update INSTALL file.


M	INSTALL

2008-07-16 23:35:23 +0200 Stephan Bosch <stephan@rename-it.nl> (eece6d40)

    Updated documentation.


M	README
M	TODO

2008-07-16 23:22:54 +0200 Stephan Bosch <stephan@rename-it.nl> (66156bc7)

    Made runtime errors for action conflicts more user-friendly by adding
    sourcecode line numbers.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2008-07-16 21:02:53 +0200 Stephan Bosch <stephan@rename-it.nl> (86706f81)

    Cleaned up generator code and added emission of source line positions for
    all actions.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-objects.c

2008-07-14 23:51:56 +0200 Stephan Bosch <stephan@rename-it.nl> (59a8068d)

    Resolved various small issues.


M	TODO
M	sieve/tests/stop.sieve
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-parser.c

2008-07-14 23:18:52 +0200 Stephan Bosch <stephan@rename-it.nl> (e2bc8e5f)

    Removed last significant printf()s from library code.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/testsuite.c

2008-07-14 22:33:58 +0200 Stephan Bosch <stephan@rename-it.nl> (79333170)

    Added address normalization to prevent redirect action duplicates.


M	sieve/tests/actions.sieve
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-result.c

2008-07-14 20:19:25 +0200 Stephan Bosch <stephan@rename-it.nl> (a0dd0dfe)

    Made "INBOX" folder name case-insensitive.


M	src/lib-sieve/sieve-actions.c

2008-07-14 19:57:37 +0200 Stephan Bosch <stephan@rename-it.nl> (4e78793d)

    Built result print functions thus removing various printf()s.


M	TODO
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/copy/ext-copy.c
A	src/lib-sieve/plugins/imapflags/imapflags-implicit.sieve
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/sieve-test.c
M	src/testsuite/testsuite.c

2008-07-14 15:35:33 +0200 Stephan Bosch <stephan@rename-it.nl> (cbca6b3c)

    Removed various printf()s.


M	TODO
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-result.c
M	src/sieve-bin/sieve-exec.c

2008-07-14 15:09:44 +0200 Stephan Bosch <stephan@rename-it.nl> (e3b369ee)

    Implemented support for side-effects to implicit keep and finished the
    imapflags extension.


M	README
M	TODO
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-result.c

2008-07-14 12:55:35 +0200 Stephan Bosch <stephan@rename-it.nl> (1a10419a)

    Previous change in extension interface for implicit side effect support
    broke include extension.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/ext-testsuite.c

2008-07-14 12:19:21 +0200 Stephan Bosch <stephan@rename-it.nl> (3b694edd)

    Added support for implicit side effects and adjusted imapflags extension
    accordingly.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/include/include.sieve
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
A	src/lib-sieve/sieve-message.c
A	src/lib-sieve/sieve-message.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2008-07-13 08:29:32 +0200 Stephan Bosch <stephan@rename-it.nl> (2165100f)

    Imapflags: flags are stored for explicit actions.


M	TODO
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2008-07-12 23:43:49 +0200 Stephan Bosch <stephan@rename-it.nl> (2cef2750)

    Imapflags: cleaned up some debug messages and fixed triggered assertion.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c

2008-07-12 23:36:31 +0200 Stephan Bosch <stephan@rename-it.nl> (ca866fee)

    Forgot a few trace macros.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c

2008-07-12 23:22:21 +0200 Stephan Bosch <stephan@rename-it.nl> (ba7d7f88)

    Updated TODO list.


M	TODO

2008-07-12 23:21:03 +0200 Stephan Bosch <stephan@rename-it.nl> (4a5820ad)

    Fixed typos in some error messages.


M	src/lib-sieve/sieve-actions.c

2008-07-12 21:32:37 +0200 Stephan Bosch <stephan@rename-it.nl> (edfef28a)

    Improved address validation significantly.


M	sieve/errors/out-address-errors.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
R091	src/lib-sieve/sieve-validator-address.c	src/lib-sieve/sieve-address.c
A	src/lib-sieve/sieve-address.h
M	src/lib-sieve/sieve-validator.h

2008-07-12 18:23:44 +0200 Stephan Bosch <stephan@rename-it.nl> (dd65eb4d)

    Added two simple test cases.


A	src/testsuite/tests/control-structures.svtest
A	src/testsuite/tests/match-types/contains.svtest

2008-07-12 18:23:25 +0200 Stephan Bosch <stephan@rename-it.nl> (edc41252)

    Forgot trace macro for the stop command.


M	src/lib-sieve/sieve-commands.c

2008-07-12 18:19:04 +0200 Stephan Bosch <stephan@rename-it.nl> (fc8962d1)

    Removed llist TODO item, turns out to be less mergeable than initially
    thought.


M	TODO

2008-06-29 20:57:42 +0200 Stephan Bosch <stephan@rename-it.nl> (141727dd)

    Testsuite: extended :matches tests.


M	src/testsuite/tests/match-types/matches.svtest

2008-06-29 17:58:11 +0200 Stephan Bosch <stephan@rename-it.nl> (e3033532)

    Introduced trace macro for runtime tracing and improved testsuite
    implementation.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test-set.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/tests/match-types/matches.svtest
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2008-06-29 14:49:34 +0200 Stephan Bosch <stephan@rename-it.nl> (3cbee323)

    Testsuite: fixed CRLF bug in reading a script-specified mail message.


M	src/lib-sieve/mcht-matches.c
M	src/testsuite/mail-raw.c
M	src/testsuite/tests/match-types/matches.svtest

2008-06-29 12:09:23 +0200 Stephan Bosch <stephan@rename-it.nl> (8fbebb06)

    Fixed bugs in :matches implementation.


M	sieve/tests/matches.sieve
M	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/tst-header.c
M	src/testsuite/tests/match-types/matches.svtest

2008-06-28 23:37:44 +0200 Stephan Bosch <stephan@rename-it.nl> (2761af1e)

    Added testcase to the testsuite.


M	src/lib-sieve/sieve-generator.c
A	src/testsuite/tests/match-types/matches.svtest
R100	src/testsuite/tests/testsuite.sieve	src/testsuite/tests/testsuite.svtest

2008-06-28 20:13:53 +0200 Stephan Bosch <stephan@rename-it.nl> (2e03af4e)

    Updated documentation.


M	README
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-06-28 20:06:50 +0200 Stephan Bosch <stephan@rename-it.nl> (2ca344ea)

    Updated TODO.


M	TODO

2008-06-28 20:04:54 +0200 Stephan Bosch <stephan@rename-it.nl> (64fb240c)

    Added support for limits on the maximum number of errors collected during
    compilation.


M	TODO
M	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-validator.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/testsuite/testsuite.c

2008-06-28 18:34:16 +0200 Stephan Bosch <stephan@rename-it.nl> (f9a27524)

    Updated documentation.


M	README
M	TODO

2008-06-28 18:30:21 +0200 Stephan Bosch <stephan@rename-it.nl> (5c408f0a)

    Added compile-time address validation.


A	sieve/errors/out-address-errors.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
D	src/lib-sieve/sieve-address.c
M	src/lib-sieve/sieve-commands.h
A	src/lib-sieve/sieve-validator-address.c
M	src/lib-sieve/sieve-validator.h

2008-06-28 14:58:59 +0200 Stephan Bosch <stephan@rename-it.nl> (7df409aa)

    Added IMAIL rfc.


A	doc/rfc/imail.rfc2822.txt

2008-06-28 14:50:10 +0200 Stephan Bosch <stephan@rename-it.nl> (4dcc0210)

    Updated doc/rfc directory.


D	doc/rfc/rfc3028.txt
R065	doc/rfc/draft-ietf-sieve-3028bis-13.txt	doc/rfc/sieve.rfc5228.txt
R100	doc/rfc/rfc3629.txt	doc/rfc/utf-8.rfc3629.txt

2008-06-28 14:45:48 +0200 Stephan Bosch <stephan@rename-it.nl> (a35aa2c2)

    Updated documentation.


M	README
M	TODO

2008-06-28 14:42:22 +0200 Stephan Bosch <stephan@rename-it.nl> (e968cf85)

    Imapflags: finished for implicit flag attachment to fileinto and keep
    commands.


M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-extensions-private.h

2008-06-17 12:25:59 +0200 Stephan Bosch <stephan@rename-it.nl> (5cd6a700)

    Added the concept of persistent tags and implemented imapflags extension for
    bare keep and fileinto commands (intermittent commit, not working properly
    yet).


M	TODO
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/vacation/cmd-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-size.c
M	src/testsuite/testsuite-objects.c

2008-06-04 02:04:08 +0200 Stephan Bosch <stephan@rename-it.nl> (c1dfc976)

    Imapflags: added execution support for variables.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/imapflags-variables.sieve
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-06-04 01:32:28 +0200 Stephan Bosch <stephan@rename-it.nl> (dc90fc9c)

    Imapflags: added validation and code support for variables.


M	src/lib-sieve/plugins/imapflags/Makefile.am
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
A	src/lib-sieve/plugins/imapflags/imapflags-variables.sieve
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2008-06-03 19:03:55 +0200 Stephan Bosch <stephan@rename-it.nl> (51da5845)

    Fixed bug in duplicate argument detection.


M	TODO
M	src/lib-sieve/plugins/vacation/vacation.sieve
M	src/lib-sieve/sieve-validator.c

2008-06-03 18:10:01 +0200 Stephan Bosch <stephan@rename-it.nl> (346397cd)

    Vacation: exported command implementation to separate file.


M	src/lib-sieve/plugins/vacation/Makefile.am
A	src/lib-sieve/plugins/vacation/cmd-vacation.c
A	src/lib-sieve/plugins/vacation/ext-vacation-common.h
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2008-06-03 17:43:26 +0200 Stephan Bosch <stephan@rename-it.nl> (f1ba624e)

    Fixed bug in sieved.


M	src/lib-sieve/sieve-binary.c
M	src/sieve-bin/sieved.c

2008-06-03 17:25:49 +0200 Stephan Bosch <stephan@rename-it.nl> (9a6010b5)

    Minor compile and documentation changes.


M	INSTALL
M	README
M	configure.in
M	src/sieve-bin/Makefile.am

2008-06-03 13:02:00 +0200 Stephan Bosch <stephan@rename-it.nl> (f9539ec2)

    Made lda sieve plugin save and load binaries.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-06-03 12:10:56 +0200 Stephan Bosch <stephan@rename-it.nl> (b66c7cfd)

    Resolved all outstanding warnings.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/sievec.c
M	src/testsuite/cmd-test.c
M	src/testsuite/testsuite-common.c

2008-06-03 11:32:18 +0200 Stephan Bosch <stephan@rename-it.nl> (3f22c88d)

    Updated documentation and fixed 'make dist'.


A	DESIGN
M	INSTALL
M	Makefile.am
M	README
A	TODO
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/body/Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
M	src/lib-sieve/plugins/copy/Makefile.am
M	src/lib-sieve/plugins/imapflags/Makefile.am
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/variables/Makefile.am

2008-05-29 10:10:49 +0200 Stephan Bosch <stephan@rename-it.nl> (7e5c0211)

    Testsuite: added test_fail command.


M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-fail.c
M	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/tests/testsuite.sieve
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h

2008-05-29 01:57:55 +0200 Stephan Bosch <stephan@rename-it.nl> (67dc990f)

    Testsuite: added 'test' command to group sieve statements into a test.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-set.c
A	src/testsuite/cmd-test.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/tests/testsuite.sieve
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c

2008-05-27 17:47:24 +0200 Stephan Bosch <stephan@rename-it.nl> (5e293402)

    Testsuite: added support for test object members.


M	src/testsuite/cmd-test-set.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/tests/testsuite.sieve
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite-objects.c
M	src/testsuite/testsuite-objects.h

2008-05-25 12:48:24 +0200 Stephan Bosch <stephan@rename-it.nl> (d8bd4292)

    Testsuite: exported testsuit object interface to separate files.


M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-set.c
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite-objects.c
A	src/testsuite/testsuite-objects.h

2008-05-25 12:25:47 +0200 Stephan Bosch <stephan@rename-it.nl> (52d25c52)

    Testsuite: implemented testsuite object interface.


M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-extensions-private.h
M	src/testsuite/Makefile.am
R051	src/testsuite/cmd-test-message.c	src/testsuite/cmd-test-set.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/tests/testsuite.sieve
M	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h

2008-05-21 16:24:13 +0200 Stephan Bosch <stephan@rename-it.nl> (356ba5cc)

    vacation: added TODO regarding duplicate tagged arguments to the vacation
    command.


M	README
A	src/lib-sieve/plugins/vacation/vacation-errors.sieve

2008-05-21 16:23:12 +0200 Stephan Bosch <stephan@rename-it.nl> (2c5b0d7c)

    testsuite: removed spurious binary from repository.


M	.hgignore
D	src/testsuite/testsuite

2008-05-21 12:58:31 +0200 Stephan Bosch <stephan@rename-it.nl> (a74fc814)

    Testsuite: setting message content works.


M	configure.in
M	src/testsuite/Makefile.am
M	src/testsuite/cmd-test-message.c
M	src/testsuite/mail-raw.c
M	src/testsuite/tests/testsuite.sieve
M	src/testsuite/testsuite
A	src/testsuite/testsuite-common.c
M	src/testsuite/testsuite-common.h
M	src/testsuite/testsuite.c

2008-05-21 00:29:40 +0200 Stephan Bosch <stephan@rename-it.nl> (98274544)

    Fixed execution of initial testsuite implementation.


M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-extensions.c
M	src/testsuite/cmd-test-message.c
M	src/testsuite/ext-testsuite.c
M	src/testsuite/testsuite
M	src/testsuite/testsuite.c

2008-05-20 17:31:45 +0200 Stephan Bosch <stephan@rename-it.nl> (9e50d466)

    Properly implemented dumping a binary including a list of required
    extensions and support for extension-specific output.


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/ext-include-binary.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary-dumper.c
M	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c
M	src/testsuite/testsuite

2008-05-18 18:03:19 +0200 Stephan Bosch <stephan@rename-it.nl> (40747643)

    RECOVERED FROM INCONSISTENCY: developed testsuite and binary dumping and
    fixed various small issues.


M	.hgignore
M	src/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-arguments.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
A	src/lib-sieve/sieve-binary-dumper.c
A	src/lib-sieve/sieve-binary-dumper.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
A	src/lib-sieve/sieve-dump.h
M	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-header.c
A	src/testsuite/Makefile.am
A	src/testsuite/cmd-test-message.c
A	src/testsuite/ext-testsuite.c
A	src/testsuite/mail-raw.c
A	src/testsuite/mail-raw.h
A	src/testsuite/namespaces.c
A	src/testsuite/namespaces.h
A	src/testsuite/tests/testsuite.sieve
A	src/testsuite/testsuite
A	src/testsuite/testsuite-common.h
A	src/testsuite/testsuite.c

2008-04-06 22:02:08 +0200 Stephan Bosch <stephan@rename-it.nl> (5148f381)

    Updated documentation.


M	README

2008-04-06 21:57:32 +0200 Stephan Bosch <stephan@rename-it.nl> (dd105ea5)

    Include: merged import and export commands into a single implementation and
    implemented global variable storage.


M	src/lib-sieve/plugins/include/Makefile.am
D	src/lib-sieve/plugins/include/cmd-export.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/include-variables.sieve
M	src/lib-sieve/plugins/include/include-variables1.sieve
M	src/lib-sieve/plugins/include/include-variables2.sieve
A	src/lib-sieve/plugins/include/include-variables3.sieve
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables-operands.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-04-06 15:16:37 +0200 Stephan Bosch <stephan@rename-it.nl> (d0d6216f)

    Variables: exported new operand definitions to separate file.


M	README
M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables-common.c
A	src/lib-sieve/plugins/variables/ext-variables-operands.c
A	src/lib-sieve/plugins/variables/ext-variables-operands.h
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-04-05 18:14:17 +0200 Stephan Bosch <stephan@rename-it.nl> (86364f53)

    Variables: exported new argument definitions to separate file.


M	src/lib-sieve/plugins/variables/Makefile.am
A	src/lib-sieve/plugins/variables/ext-variables-arguments.c
A	src/lib-sieve/plugins/variables/ext-variables-arguments.h
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-04-05 16:58:18 +0200 Stephan Bosch <stephan@rename-it.nl> (c4612dce)

    Include: implemented global variable scope.


M	src/lib-sieve/plugins/include/cmd-export.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-variables.c
M	src/lib-sieve/plugins/include/ext-include-variables.h

2008-04-03 17:10:58 +0200 Stephan Bosch <stephan@rename-it.nl> (36e5af33)

    Added -c option to sieve-test to force compile.


M	README
M	src/sieve-bin/sieve-test.c

2008-03-24 23:29:00 +0100 Stephan Bosch <stephan@rename-it.nl> (fbbe6f49)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-03-24 23:12:00 +0100 Stephan Bosch <stephan@rename-it.nl> (d728ffb3)

    Include: moved variables support to separate file.


M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/include/cmd-export.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
A	src/lib-sieve/plugins/include/ext-include-variables.c
A	src/lib-sieve/plugins/include/ext-include-variables.h
M	src/lib-sieve/plugins/include/include-variables1.sieve
M	src/lib-sieve/plugins/include/include-variables2.sieve

2008-03-24 22:07:07 +0100 Stephan Bosch <stephan@rename-it.nl> (4b8dc91a)

    Include: moved implementation of binary extension to separate file.


M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/include/cmd-export.c
A	src/lib-sieve/plugins/include/ext-include-binary.c
A	src/lib-sieve/plugins/include/ext-include-binary.h
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c

2008-03-24 20:39:05 +0100 Stephan Bosch <stephan@rename-it.nl> (5f9a9f99)

    Include: added AST context and now export context detectects export of
    imported variables.


M	src/lib-sieve/plugins/include/cmd-export.c
M	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
A	src/lib-sieve/plugins/include/include-variables-error2.sieve
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2008-03-24 15:08:20 +0100 Stephan Bosch <stephan@rename-it.nl> (95a88e1f)

    Include: moved script existance validation back to validation stage.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
A	src/lib-sieve/plugins/include/include-error.sieve
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h

2008-03-24 01:01:05 +0100 Stephan Bosch <stephan@rename-it.nl> (c6e94477)

    Include: made import and export commands check whether the variables
    extension is active.


M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/include/cmd-export.c
M	src/lib-sieve/plugins/include/cmd-import.c
A	src/lib-sieve/plugins/include/include-variables-error.sieve
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-03-23 23:56:50 +0100 Stephan Bosch <stephan@rename-it.nl> (a43e9271)

    Include: added skeleton import and export commands.


M	src/lib-sieve/plugins/include/Makefile.am
A	src/lib-sieve/plugins/include/cmd-export.c
A	src/lib-sieve/plugins/include/cmd-import.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
A	src/lib-sieve/plugins/include/include-variables.sieve
A	src/lib-sieve/plugins/include/include-variables1.sieve
A	src/lib-sieve/plugins/include/include-variables2.sieve
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-script.c

2008-03-23 19:14:51 +0100 Stephan Bosch <stephan@rename-it.nl> (d91124d5)

    Updated TODO.


M	README

2008-03-23 18:42:18 +0100 Stephan Bosch <stephan@rename-it.nl> (2d4e8c07)

    Regex: added match values support.


M	src/lib-sieve/plugins/regex/mcht-regex.c
M	src/lib-sieve/plugins/variables/Makefile.am
A	src/lib-sieve/plugins/variables/variables-regex.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2008-03-23 16:03:02 +0100 Stephan Bosch <stephan@rename-it.nl> (a5b4c2c5)

    Relational: split match-type implementation into separate file.


M	src/lib-sieve/plugins/relational/Makefile.am
A	src/lib-sieve/plugins/relational/ext-relational-common.c
A	src/lib-sieve/plugins/relational/ext-relational-common.h
M	src/lib-sieve/plugins/relational/ext-relational.c
A	src/lib-sieve/plugins/relational/mcht-count.c
A	src/lib-sieve/plugins/relational/mcht-value.c

2008-03-23 15:03:54 +0100 Stephan Bosch <stephan@rename-it.nl> (4192b800)

    Regex: split match type implementation into separate file.


M	src/lib-sieve/plugins/regex/Makefile.am
A	src/lib-sieve/plugins/regex/ext-regex-common.h
M	src/lib-sieve/plugins/regex/ext-regex.c
A	src/lib-sieve/plugins/regex/mcht-regex.c

2008-03-23 11:20:50 +0100 Stephan Bosch <stephan@rename-it.nl> (eaae9678)

    Exported match type implementations to separate files.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/mcht-contains.c
A	src/lib-sieve/mcht-is.c
A	src/lib-sieve/mcht-matches.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2008-03-22 18:35:48 +0100 Stephan Bosch <stephan@rename-it.nl> (a493b63b)

    Finished :matches function for now, but it can still be improved and it
    needs more testing.


M	src/lib-sieve/plugins/variables/variables-match.sieve
M	src/lib-sieve/sieve-match-types.c

2008-03-09 20:36:42 +0100 Stephan Bosch <stephan@rename-it.nl> (8a09df74)

    Revised :matches function, but did finish.


M	src/lib-sieve/plugins/variables/variables-match.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2008-03-08 01:05:38 +0100 Stephan Bosch <stephan@rename-it.nl> (188a18a5)

    Variables: fixed bug in match value indexing.


M	src/lib-sieve/plugins/variables/variables-match.sieve
M	src/lib-sieve/sieve-match-types.c

2008-03-08 00:28:34 +0100 Stephan Bosch <stephan@rename-it.nl> (1935269d)

    Variables: First work towards match value support.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/tst-string.c
A	src/lib-sieve/plugins/variables/variables-match.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2008-02-28 23:43:36 +0100 Stephan Bosch <stephan@rename-it.nl> (6c74642f)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/variables/ext-variables.c

2008-02-28 23:21:03 +0100 Stephan Bosch <stephan@rename-it.nl> (65fe3d7c)

    Variables: added variable name parsing to the set command and added error
    handling.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/variables-errors.sieve

2008-02-28 22:10:44 +0100 Stephan Bosch <stephan@rename-it.nl> (83b1f62e)

    Variables: exported namespace+variable parsing to separate file.


M	src/lib-sieve/plugins/variables/Makefile.am
M	src/lib-sieve/plugins/variables/ext-variables-common.c
A	src/lib-sieve/plugins/variables/ext-variables-name.c
A	src/lib-sieve/plugins/variables/ext-variables-name.h
A	src/lib-sieve/plugins/variables/variables-nspace.sieve

2008-02-28 21:30:33 +0100 Stephan Bosch <stephan@rename-it.nl> (4c929247)

    Variables: exported namespace+variable parsing to separate function.


M	src/lib-sieve/plugins/variables/ext-variables-common.c

2008-02-28 11:04:29 +0100 Stephan Bosch <stephan@rename-it.nl> (8bd12076)

    Updated documentation.


M	README

2008-02-27 23:55:24 +0100 Stephan Bosch <stephan@rename-it.nl> (2ffba54f)

    Variables: added parsing support for namespaces.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c

2008-02-27 20:38:43 +0100 Stephan Bosch <stephan@rename-it.nl> (5d741fcd)

    Variables: fixed string test.


M	src/lib-sieve/plugins/variables/tst-string.c

2008-02-26 09:55:39 +0100 Stephan Bosch <stephan@rename-it.nl> (4101df7d)

    Expand ~ to home in sieve path.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-02-25 17:56:56 +0100 Stephan Bosch <stephan@rename-it.nl> (68da5027)

    Fixed indent in sieve-banary.c


M	src/lib-sieve/sieve-binary.c

2008-02-25 17:33:12 +0100 Stephan Bosch <stephan@rename-it.nl> (53258ecd)

    Simplified needlessly complex assignment.


M	src/lib-sieve/sieve-script.c

2008-02-25 17:30:53 +0100 Stephan Bosch <stephan@rename-it.nl> (9b8e94bb)

    Added TODO item.


M	README

2008-02-25 17:27:39 +0100 Stephan Bosch <stephan@rename-it.nl> (d3bfafef)

    Avoid direct to_lower() invocations; replaced by i_tolower().


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/sieve-comparators.c

2008-02-25 17:19:40 +0100 Stephan Bosch <stephan@rename-it.nl> (5b654ed2)

    Updated documentation.


M	README

2008-02-25 17:17:46 +0100 Stephan Bosch <stephan@rename-it.nl> (5687d842)

    Changed various p_new(pool_datastack_create(),) invocations to t_new()


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-match-types.c

2008-02-25 17:04:48 +0100 Stephan Bosch <stephan@rename-it.nl> (c43f035f)

    Envelope: changed p_array_init(,pool_datastack_create(),) into
    t_array_init(,)


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-25 16:57:07 +0100 Stephan Bosch <stephan@rename-it.nl> (be81f60a)

    Updated documentation.


M	README

2008-02-23 23:59:25 +0100 Stephan Bosch <stephan@rename-it.nl> (df66a8ed)

    Variables: fixed bug in string-list containing variables.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/variables.sieve
M	src/lib-sieve/sieve-code.c

2008-02-23 22:17:54 +0100 Stephan Bosch <stephan@rename-it.nl> (7d36798b)

    Fixed bugs in string substitution support and the regex extension.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/variables/variables.sieve
M	src/lib-sieve/sieve-commands.c

2008-02-23 18:47:10 +0100 Stephan Bosch <stephan@rename-it.nl> (6ea9cce1)

    Variables: updated included specification to new RFC 5229.


D	src/lib-sieve/plugins/variables/draft-ietf-sieve-variables-08.txt
M	src/lib-sieve/plugins/variables/ext-variables.c
A	src/lib-sieve/plugins/variables/rfc5229.txt

2008-02-23 00:49:36 +0100 Stephan Bosch <stephan@rename-it.nl> (a1dc327b)

    Updated documentation.


M	README

2008-02-23 00:24:08 +0100 Stephan Bosch <stephan@rename-it.nl> (f5e9b9ce)

    Variables: made variable identifiers case insensitive.


M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-22 23:29:06 +0100 Stephan Bosch <stephan@rename-it.nl> (03e43440)

    Variables: added check for equal precedence and added comment.


M	src/lib-sieve/plugins/variables/cmd-set.c
A	src/lib-sieve/plugins/variables/variables-errors.sieve

2008-02-22 22:29:08 +0100 Stephan Bosch <stephan@rename-it.nl> (f4156454)

    Variables: activated 'quotewildcard' set modifier and fixed a bug.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-22 21:22:43 +0100 Stephan Bosch <stephan@rename-it.nl> (b7f46207)

    Variables: activated 'length' set modifier.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-22 20:49:14 +0100 Stephan Bosch <stephan@rename-it.nl> (7fcf3e32)

    Variables: activated support for set command modifiers.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-22 17:19:39 +0100 Stephan Bosch <stephan@rename-it.nl> (4aefe421)

    Adjusted body extension to compile with dovecot past 1.1.beta16 (message
    parser changes)


M	src/lib-sieve/plugins/body/ext-body-common.c

2008-02-14 12:20:36 +0100 Stephan Bosch <stephan@rename-it.nl> (a12b44f5)

    Added notice about the omission CMU code to the AUTHORS file.


M	AUTHORS

2008-02-14 12:16:29 +0100 Stephan Bosch <stephan@rename-it.nl> (c8a4690e)

    Assigned proper package version and name.


M	.hgignore
M	configure.in

2008-02-14 11:39:59 +0100 Stephan Bosch <stephan@rename-it.nl> (8fd8b8ae)

    Removed duplicate licence.


M	.hgignore
A	COPYING

2008-02-14 11:39:22 +0100 Stephan Bosch <stephan@rename-it.nl> (b6123c0e)

    Added maintainermode functions to Makefile.am


M	Makefile.am

2008-02-13 13:24:35 +0100 Stephan Bosch <stephan@rename-it.nl> (81324947)

    Incorporated changes in dovecot-1.1


M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2008-02-11 09:59:02 +0100 Stephan Bosch <stephan@rename-it.nl> (c3678c45)

    Variables: set modifiers are now sorted.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/variables.sieve

2008-02-10 16:41:20 +0100 Stephan Bosch <stephan@rename-it.nl> (792852f3)

    Added code support for set modifiers.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2008-01-06 01:26:12 +0100 Stephan Bosch <stephan@rename-it.nl> (6a490856)

    Fixed bugs in validation error handling and fixed bugs in dynamic argument
    support.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/variables/variables.sieve
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2008-01-05 23:11:59 +0100 Stephan Bosch <stephan@rename-it.nl> (53ea2603)

    First successful variable substitutions.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/variables.sieve
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-validator.c

2008-01-05 02:25:41 +0100 Stephan Bosch <stephan@rename-it.nl> (5e2e9f9b)

    Merged concurrent changes.


2008-01-05 02:24:29 +0100 Stephan Bosch <stephan@rename-it.nl> (3337b5df)

    Changed operand read API to get access to the runtime environment inside the
    read functions.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/sieve-ext-variables.h
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2008-01-04 17:50:23 +0100 Stephan Bosch <stephan@rename-it.nl> (ca44fcdc)

    Minor fix in the error reporting of the sieve parser.


M	sieve/errors/interesting.sieve
M	src/lib-sieve/sieve-parser.c

2008-01-04 01:53:00 +0100 Stephan Bosch <stephan@rename-it.nl> (6a1ff206)

    Implemented dynamic sieve_get_capabilities() for proper MANAGESIEVE support.


M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve.c

2008-01-04 01:11:56 +0100 Stephan Bosch <stephan@rename-it.nl> (020fe587)

    Published compiler API using script objects instead of paths.


M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2008-01-04 00:45:32 +0100 Stephan Bosch <stephan@rename-it.nl> (c752483a)

    Fixed segfault occuring when command did not exist.


M	src/lib-sieve/sieve-validator.c

2008-01-04 00:10:37 +0100 Stephan Bosch <stephan@rename-it.nl> (03c3f569)

    Small changes: removed T_FRAME and improved an error message.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-script.c

2008-01-03 20:28:10 +0100 Stephan Bosch <stephan@rename-it.nl> (5d7f1005)

    Implemented required features for use with MANAGESIEVE service.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-binary.c
A	src/lib-sieve/sieve-error-private.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
A	src/lib-sieve/sieve-script-private.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2008-01-03 01:49:54 +0100 Stephan Bosch <stephan@rename-it.nl> (8b47f293)

    Added strbuf error handler.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h

2007-12-30 03:35:40 +0100 Stephan Bosch <stephan@rename-it.nl> (3cc0395d)

    Added variable operand to the variables extension.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c

2007-12-30 02:23:24 +0100 Stephan Bosch <stephan@rename-it.nl> (aa8f3937)

    Added support for adding new types operands to the engine.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-match-types.c

2007-12-30 01:49:45 +0100 Stephan Bosch <stephan@rename-it.nl> (91438bbe)

    Defined variable argument for the variables extension.


M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
A	src/lib-sieve/plugins/variables/sieve-ext-variables.h

2007-12-29 16:20:54 +0100 Stephan Bosch <stephan@rename-it.nl> (97987192)

    Changed validation and generation of string list argument to fully support
    the new string list encoding.


M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2007-12-29 15:25:30 +0100 Stephan Bosch <stephan@rename-it.nl> (c14634ab)

    Changed encoding of stringlist. Now it contains string operands in stead of
    bare strings.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c

2007-12-29 05:54:31 +0100 Stephan Bosch <stephan@rename-it.nl> (aed4bf79)

    Removed obsolete code.


M	src/lib-sieve/sieve-extensions-private.h

2007-12-29 05:42:08 +0100 Stephan Bosch <stephan@rename-it.nl> (b4d68be1)

    Removed much code duplication between extensions that provide support for
    further extension.


M	sieve/tests/address-part.sieve
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c

2007-12-27 14:42:41 +0100 Stephan Bosch <stephan@rename-it.nl> (817b48ce)

    Further migrated implementation of extensions to new extension architecture.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2007-12-27 01:24:42 +0100 Stephan Bosch <stephan@rename-it.nl> (9846f24f)

    Major changes in the extensions support.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/copy/copy.sieve
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/plugins/variables/cmd-set.c
M	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
M	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
A	src/lib-sieve/sieve-extensions-private.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-12-26 15:40:50 +0100 Stephan Bosch <stephan@rename-it.nl> (1b1d60f8)

    Changed implementation of command context handling and instanced tags to
    avoid duplicate lookups.


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2007-12-26 14:00:12 +0100 Stephan Bosch <stephan@rename-it.nl> (6ca7825d)

    Further developed the variables extension.


M	src/lib-sieve/plugins/variables/Makefile.am
A	src/lib-sieve/plugins/variables/cmd-set.c
A	src/lib-sieve/plugins/variables/ext-variables-common.c
A	src/lib-sieve/plugins/variables/ext-variables-common.h
M	src/lib-sieve/plugins/variables/ext-variables.c
A	src/lib-sieve/plugins/variables/tst-string.c
M	src/lib-sieve/plugins/variables/variables.sieve

2007-12-25 16:16:15 +0100 Stephan Bosch <stephan@rename-it.nl> (549382e0)

    Started skeleton implementation of variables extension.


M	README
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/variables/Makefile.am
A	src/lib-sieve/plugins/variables/draft-ietf-sieve-variables-08.txt
A	src/lib-sieve/plugins/variables/ext-variables.c
A	src/lib-sieve/plugins/variables/variables.sieve
M	src/lib-sieve/sieve-extensions.c

2007-12-25 12:40:06 +0100 Stephan Bosch <stephan@rename-it.nl> (82e4024e)

    Fixed non-standard behavior for the encoded-character extension.


M	sieve/tests/encoded-character.sieve
M	src/lib-sieve/ext-encoded-character.c

2007-12-25 12:06:41 +0100 Stephan Bosch <stephan@rename-it.nl> (d2cbd795)

    Finished encoded-character extension.


M	README
A	sieve/errors/encoded-character.sieve
M	sieve/tests/encoded-character.sieve
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/sieve-bin/mail-raw.c

2007-12-25 11:07:31 +0100 Stephan Bosch <stephan@rename-it.nl> (151cb427)

    Added UTF-8 rfc to doc/rfc directory.


A	doc/rfc/rfc3629.txt

2007-12-25 11:07:01 +0100 Stephan Bosch <stephan@rename-it.nl> (54f7acfd)

    Built a little more extensive tests for the encoded-character extension.


M	sieve/tests/encoded-character.sieve
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/sieve-validator.c

2007-12-24 16:11:33 +0100 Stephan Bosch <stephan@rename-it.nl> (56aa3902)

    Encoded character extension basicly works, but no unicode support is
    implemented.


M	sieve/tests/encoded-character.sieve
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-12-19 14:51:36 +0100 Stephan Bosch <stephan@rename-it.nl> (688742fa)

    Implemented support for overriding default argument implementations of
    number, string and string-list.


M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-encoded-character.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c

2007-12-18 23:46:46 +0100 Stephan Bosch <stephan@rename-it.nl> (b8dc1073)

    Added sieve rfc and new sieve 3028bis to the doc/rfc directory.


A	doc/rfc/draft-ietf-sieve-3028bis-13.txt
A	doc/rfc/rfc3028.txt

2007-12-18 23:46:00 +0100 Stephan Bosch <stephan@rename-it.nl> (0281b79a)

    Removed erroneous rfc file from new doc dir.


D	doc/rfc

2007-12-18 23:41:39 +0100 Stephan Bosch <stephan@rename-it.nl> (1a1dc484)

    Forgot to add new files.


A	doc/rfc
A	sieve/tests/encoded-character.sieve
A	src/lib-sieve/ext-encoded-character.c

2007-12-18 23:38:32 +0100 Stephan Bosch <stephan@rename-it.nl> (7823beb1)

    Updated documentation.


M	README

2007-12-18 23:34:08 +0100 Stephan Bosch <stephan@rename-it.nl> (b868111d)

    Started skeleton for the encoded-character extension.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-extensions.c

2007-12-18 23:14:13 +0100 Stephan Bosch <stephan@rename-it.nl> (ab8d5d31)

    Updated TODO list.


M	README

2007-12-18 23:11:18 +0100 Stephan Bosch <stephan@rename-it.nl> (2274e9fe)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/body/ext-body.c

2007-12-18 23:00:47 +0100 Stephan Bosch <stephan@rename-it.nl> (93a757ca)

    Changed imapflags extension to use the message context instead of the
    interpreter context.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c

2007-12-18 22:43:21 +0100 Stephan Bosch <stephan@rename-it.nl> (0cbc4a05)

    Changed body extension to use the message context instead of the interpreter
    context.


M	src/lib-sieve/plugins/body/ext-body-common.c

2007-12-18 22:40:03 +0100 Stephan Bosch <stephan@rename-it.nl> (ef12c613)

    Introduced message context to give extensions the ability to associate
    context data with the currently processed message.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2007-12-18 21:39:31 +0100 Stephan Bosch <stephan@rename-it.nl> (3b8a1988)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/body/ext-body.c

2007-12-18 21:19:06 +0100 Stephan Bosch <stephan@rename-it.nl> (01f58520)

    Fixed minor bug in the body extension.


M	src/lib-sieve/plugins/body/body.sieve
M	src/lib-sieve/plugins/body/ext-body-common.c
M	src/lib-sieve/plugins/body/tst-body.c

2007-12-18 21:08:06 +0100 Stephan Bosch <stephan@rename-it.nl> (ddfd461e)

    Implemented evaluation for the body test introduced by the body extension.


M	AUTHORS
M	src/lib-sieve/plugins/body/Makefile.am
A	src/lib-sieve/plugins/body/body.sieve
A	src/lib-sieve/plugins/body/ext-body-common.c
A	src/lib-sieve/plugins/body/ext-body-common.h
M	src/lib-sieve/plugins/body/ext-body.c
A	src/lib-sieve/plugins/body/tst-body.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-header.c

2007-12-18 16:41:42 +0100 Stephan Bosch <stephan@rename-it.nl> (0b27d776)

    Implemented validation and code generation for body extension.


M	src/lib-sieve/plugins/body/ext-body.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2007-12-18 15:11:24 +0100 Stephan Bosch <stephan@rename-it.nl> (345703f3)

    Started skeleton for the body extension.


M	README
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/body/Makefile.am
A	src/lib-sieve/plugins/body/draft-ietf-sieve-body-07.txt
A	src/lib-sieve/plugins/body/ext-body.c

2007-12-18 01:08:02 +0100 Stephan Bosch <stephan@rename-it.nl> (cad1f74f)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/include/ext-include.c

2007-12-18 00:38:58 +0100 Stephan Bosch <stephan@rename-it.nl> (1abd9f94)

    Implemented return command for include extension.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/cmd-return.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/included2.sieve
M	src/lib-sieve/sieve-binary.c

2007-12-18 00:11:02 +0100 Stephan Bosch <stephan@rename-it.nl> (c661d5db)

    Basic include functionality seems to be working and if source scripts are
    changed the binary is always recompiled.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-error.c

2007-12-16 18:35:04 +0100 Stephan Bosch <stephan@rename-it.nl> (c3ffb25d)

    Working towards proper dependency handling for sieve binaries.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c

2007-12-16 00:49:46 +0100 Stephan Bosch <stephan@rename-it.nl> (56cb692d)

    Added support for lazy binary load.


M	src/lib-sieve/sieve-binary.c

2007-12-15 23:16:16 +0100 Stephan Bosch <stephan@rename-it.nl> (9f9ec317)

    Added internal support for different methods of loading a binary.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/sieve-binary.c

2007-12-15 21:30:00 +0100 Stephan Bosch <stephan@rename-it.nl> (abe54c85)

    Working towards complete binary support for the include extension.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve.c
M	src/sieve-bin/sieved.c

2007-12-14 18:34:02 +0100 Stephan Bosch <stephan@rename-it.nl> (898aa186)

    Updated documentation.


M	README

2007-12-14 02:20:41 +0100 Stephan Bosch <stephan@rename-it.nl> (d0171770)

    Fixed bug regarding stop command in combination with include extension.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/included2.sieve
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-interpreter.c

2007-12-14 01:57:58 +0100 Stephan Bosch <stephan@rename-it.nl> (28ed01a2)

    Simplified the include loop a little.


M	src/lib-sieve/plugins/include/ext-include-common.c

2007-12-14 01:41:14 +0100 Stephan Bosch <stephan@rename-it.nl> (95ea119b)

    Implemented mostly untested deep-level include execution support.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/include.sieve
M	src/lib-sieve/plugins/include/included2.sieve
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h

2007-12-13 22:59:24 +0100 Stephan Bosch <stephan@rename-it.nl> (c061f389)

    First successful (single level) execution of four consecutive includes.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve.c

2007-12-13 17:45:38 +0100 Stephan Bosch <stephan@rename-it.nl> (67a5e20b)

    Added support for interrupting an interpreter and continuing execution
    later.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2007-12-13 13:23:41 +0100 Stephan Bosch <stephan@rename-it.nl> (5aa15bb3)

    Include extension now generates include opcode. Not executable yet though.


M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c

2007-12-13 11:58:17 +0100 Stephan Bosch <stephan@rename-it.nl> (db2a3ef0)

    Implemented the binary_free event for binary extensions. Script references
    in the include extension are now properly released.


M	src/lib-sieve/sieve-binary.c

2007-12-13 11:42:50 +0100 Stephan Bosch <stephan@rename-it.nl> (9848bb77)

    Fixed behavior of binary object with respect to pre-loaded extensons. Broke
    it with last change.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-common.h

2007-12-13 01:20:59 +0100 Stephan Bosch <stephan@rename-it.nl> (fa295e4b)

    Changed binary object's extension linkage for extending the binary itself.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2007-12-11 12:44:57 +0100 Stephan Bosch <stephan@rename-it.nl> (ad733634)

    Doubly included scripts are no longer compiled and included multiple times.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h

2007-12-11 11:23:53 +0100 Stephan Bosch <stephan@rename-it.nl> (1d9b48ba)

    Forgot to set the number of blocks in the binary header.


M	src/lib-sieve/plugins/include/included1.sieve
M	src/lib-sieve/sieve-binary.c

2007-12-11 10:55:05 +0100 Stephan Bosch <stephan@rename-it.nl> (e1f26173)

    Re-established circular include detection for include extension.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/included1.sieve

2007-12-11 11:38:42 +0100 Stephan Bosch <stephan@rename-it.nl> (f49a0473)

    Further developed the include extension to compile included scripts in
    additional blocks of the binary.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/included1.sieve
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve.c

2007-12-10 18:59:44 +0100 Stephan Bosch <stephan@rename-it.nl> (8d3d12c1)

    Further developed the binary format: binary can now contain multiple blocks
    with arbitrary data.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve.c

2007-12-10 11:08:13 +0100 Stephan Bosch <stephan@rename-it.nl> (ee92eea1)

    Updated documentation: Changed priorities in TODO list.


M	README

2007-12-10 11:01:40 +0100 Stephan Bosch <stephan@rename-it.nl> (09775f2c)

    Updated documentation.


M	README

2007-12-09 23:22:33 +0100 Stephan Bosch <stephan@rename-it.nl> (4fccec75)

    Moved actual include operation from validator to generator stage.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/include/included1.sieve
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/sieve-bin/sieved.c

2007-12-09 19:59:47 +0100 Stephan Bosch <stephan@rename-it.nl> (beeed72c)

    Sieve executables now work with binaries too.


M	.hgignore
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/bin-common.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/sieve-bin/sievec.c

2007-12-09 17:42:36 +0100 Stephan Bosch <stephan@rename-it.nl> (c255daa0)

    Made a basic implementation of saving binaries to disk.


M	.hgignore
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-script.c
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/sievec.c
A	src/sieve-bin/sieved.c

2007-12-08 15:23:21 +0100 Stephan Bosch <stephan@rename-it.nl> (e7bb1789)

    Cleaned up ast implementation a little.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/include.sieve
M	src/lib-sieve/plugins/include/included2.sieve
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve.c

2007-12-08 14:11:04 +0100 Stephan Bosch <stephan@rename-it.nl> (d24e1789)

    Prevented more scripts from being included when errors have occured.


M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/included2.sieve
M	src/lib-sieve/plugins/include/included3.sieve
M	src/lib-sieve/sieve.c

2007-12-08 13:13:26 +0100 Stephan Bosch <stephan@rename-it.nl> (b01bd7c9)

    Properly implemented circular include detection for the include extension.


M	src/lib-sieve/plugins/include/cmd-include.c
M	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/included3.sieve
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-script.c
M	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve.c

2007-12-08 00:08:12 +0100 Stephan Bosch <stephan@rename-it.nl> (23ce5aba)

    First defined an encapsulating script object and implemented part of the
    include extension.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/include/Makefile.am
M	src/lib-sieve/plugins/include/cmd-include.c
A	src/lib-sieve/plugins/include/ext-include-common.c
M	src/lib-sieve/plugins/include/ext-include-common.h
M	src/lib-sieve/plugins/include/ext-include.c
M	src/lib-sieve/plugins/include/include.sieve
A	src/lib-sieve/plugins/include/included1.sieve
A	src/lib-sieve/plugins/include/included2.sieve
A	src/lib-sieve/plugins/include/included3.sieve
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
A	src/lib-sieve/sieve-script.c
A	src/lib-sieve/sieve-script.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h

2007-12-07 01:17:48 +0100 Stephan Bosch <stephan@rename-it.nl> (c69e9040)

    Started skeleton implementation for the include extension.


M	README
M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/include/Makefile.am
A	src/lib-sieve/plugins/include/cmd-include.c
A	src/lib-sieve/plugins/include/cmd-return.c
A	src/lib-sieve/plugins/include/draft-daboo-sieve-include-05.txt
A	src/lib-sieve/plugins/include/ext-include-common.h
A	src/lib-sieve/plugins/include/ext-include.c
A	src/lib-sieve/plugins/include/include.sieve
M	src/lib-sieve/sieve-extensions.c

2007-12-07 00:22:48 +0100 Stephan Bosch <stephan@rename-it.nl> (cdefa5f4)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2007-12-06 23:13:25 +0100 Stephan Bosch <stephan@rename-it.nl> (97edb9ca)

    Added :addresses support to the vacation extension.


M	sieve/tests/vacation.sieve
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2007-12-06 22:47:44 +0100 Stephan Bosch <stephan@rename-it.nl> (e2e92dd6)

    Added support for reading an entire stringlist into memory. Also fixed
    various identical bugs in stringlist-related error handling.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c

2007-12-06 22:15:56 +0100 Stephan Bosch <stephan@rename-it.nl> (80274dca)

    Added two TODO items.


M	README

2007-12-06 21:59:21 +0100 Stephan Bosch <stephan@rename-it.nl> (940ea3d7)

    Tiny update to documentation and removed a compiler warning.


M	README
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2007-12-06 21:48:44 +0100 Stephan Bosch <stephan@rename-it.nl> (03952bf0)

    Added :mime support to vacation extension.


M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-generator.c

2007-12-06 21:00:35 +0100 Stephan Bosch <stephan@rename-it.nl> (d24406e3)

    Renamed mail_environment to script_env.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-12-06 17:45:44 +0100 Stephan Bosch <stephan@rename-it.nl> (bddf8c83)

    Added mail-loop detection to the redirect action.


M	README
M	src/lib-sieve/cmd-redirect.c

2007-12-06 17:22:16 +0100 Stephan Bosch <stephan@rename-it.nl> (bb78d0b1)

    Changed execution error handling a little.


M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c

2007-12-06 15:43:47 +0100 Stephan Bosch <stephan@rename-it.nl> (289716f9)

    Adopted code to use Dovecot's new T_FRAME* macros.


M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-validator.c

2007-12-06 14:10:30 +0100 Stephan Bosch <stephan@rename-it.nl> (2e9603a5)

    Added proper ATTR_FORMAT to all functions that accept a string format and
    fixed one bug in the process.


M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-validator.h

2007-12-06 12:42:45 +0100 Stephan Bosch <stephan@rename-it.nl> (66004fba)

    Further updated documentation and cleaned up the README file.


M	README

2007-12-06 02:48:02 +0100 Stephan Bosch <stephan@rename-it.nl> (38a72a86)

    Updated documentation. We are gettin closer to a first release.


M	INSTALL
M	README

2007-12-06 02:26:57 +0100 Stephan Bosch <stephan@rename-it.nl> (df1bb287)

    Implemented implicit keep to execute when not canceled or when the
    preceeding action execution fails.


M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sieve-exec.c

2007-12-05 23:07:44 +0100 Stephan Bosch <stephan@rename-it.nl> (ebc0485a)

    Fixed minor bugs in the error reporting.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-interpreter.c

2007-12-05 23:18:47 +0100 Stephan Bosch <stephan@rename-it.nl> (ff209a04)

    Fixed tiny bug in the error reporting in the lda-sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2007-12-05 22:48:16 +0100 Stephan Bosch <stephan@rename-it.nl> (8817dda5)

    Further developed the error handling.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-12-04 02:31:57 +0100 Stephan Bosch <stephan@rename-it.nl> (6f184ace)

    Added a little more error logging to the lda-sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2007-12-04 02:07:48 +0100 Stephan Bosch <stephan@rename-it.nl> (7dabf5bc)

    Implemented logfile error handler and assigned it to the lda-sieve plugin.


M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c

2007-12-03 23:25:01 +0100 Stephan Bosch <stephan@rename-it.nl> (d688d73e)

    Further developed error handling.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sievec.c

2007-12-02 23:37:52 +0100 Stephan Bosch <stephan@rename-it.nl> (3ccf3ebf)

    Forgot to initialize sieve library in lda-sieve plugin. It has now
    successfully delivered its first message.


M	src/plugins/lda-sieve/lda-sieve-plugin.c

2007-12-02 23:59:30 +0100 Stephan Bosch <stephan@rename-it.nl> (88560cef)

    Fixed misnamed module entry points for the lda-sieve plugin.


M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h

2007-12-02 19:58:29 +0100 Stephan Bosch <stephan@rename-it.nl> (deb9f705)

    Included sieve plugin into the build process.


M	configure.in
M	src/Makefile.am
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/Makefile.am
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/plugins/lda-sieve/lda-sieve-plugin.h
M	src/sieve-bin/bin-common.c

2007-12-02 18:55:51 +0100 Stephan Bosch <stephan@rename-it.nl> (23953fce)

    Documentation updates.


M	README
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/plugins/lda-sieve/lda-sieve-plugin.c
M	src/sieve-bin/sievec.c

2007-12-02 17:57:50 +0100 Stephan Bosch <stephan@rename-it.nl> (41c19809)

    Implemented sieve test binaries further. They now have proper command line
    arguments.


M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/bin-common.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/sieve-bin/sievec.c

2007-12-02 15:34:38 +0100 Stephan Bosch <stephan@rename-it.nl> (5611ba3b)

    Updated and cleaned-up the sieve test binaries.


M	src/sieve-bin/Makefile.am
M	src/sieve-bin/bin-common.c
M	src/sieve-bin/bin-common.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/sieve-bin/sievec.c

2007-12-02 14:44:01 +0100 Stephan Bosch <stephan@rename-it.nl> (95803e31)

    Properly implemented the code dumper. Dumps are now printed in a stream. The
    individual opcode and operand implementations no longer use printf()s.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code-dumper.c
M	src/lib-sieve/sieve-code-dumper.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c
M	src/sieve-bin/sievec.c

2007-12-02 12:04:41 +0100 Stephan Bosch <stephan@rename-it.nl> (ea987434)

    Forgot to add new files.


A	src/lib-sieve/sieve-code-dumper.c
A	src/lib-sieve/sieve-code-dumper.h

2007-12-02 00:19:16 +0100 Stephan Bosch <stephan@rename-it.nl> (8fa2f53c)

    Exported sieve-code-dumper from sieve-interpreter containing all code
    dumping related implementation. Now to remove all printfs....


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-12-01 21:11:47 +0100 Stephan Bosch <stephan@rename-it.nl> (b2168ea1)

    Fixed bug in handling optional operands to opcodes that have no mandatory
    operands (0 is no longer a valid opcode)


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2007-12-01 21:02:00 +0100 Stephan Bosch <stephan@rename-it.nl> (ba261b2d)

    Added conflict and duplicate checking to vacation and reject actions.


A	sieve/errors/action-conflicts.sieve
A	sieve/errors/action-duplicates.sieve
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-12-01 19:06:18 +0100 Stephan Bosch <stephan@rename-it.nl> (750ccb61)

    Implemented actions reject and vacation.


M	sieve/tests/vacation.sieve
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-12-01 14:59:35 +0100 Stephan Bosch <stephan@rename-it.nl> (60399b42)

    Fixed minor bug in envelope extension.


M	src/lib-sieve/ext-envelope.c

2007-11-30 21:56:55 +0100 Stephan Bosch <stephan@rename-it.nl> (2b6bc923)

    Further developed imapflags extension and added proper logging functions to
    the result object.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve-validator.c

2007-11-29 21:50:58 +0100 Stephan Bosch <stephan@rename-it.nl> (16f2ef46)

    The :flags tag introduced by the imapflags extension now attaches
    side-effects to the appropriate action commands.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-interpreter.c

2007-11-29 18:02:05 +0100 Stephan Bosch <stephan@rename-it.nl> (44fe503f)

    Properly implemented handling of the implicit keep flag and fully
    implemented the copy extension.


M	README
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2007-11-29 14:20:10 +0100 Stephan Bosch <stephan@rename-it.nl> (a2f1ad80)

    Added basic execution support to copy extension. Not completely functional
    yet.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-29 01:22:17 +0100 Stephan Bosch <stephan@rename-it.nl> (230cd1f3)

    Added support for reading side effect operands.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c

2007-11-29 00:40:42 +0100 Stephan Bosch <stephan@rename-it.nl> (20b47a0d)

    Added registration of side-effect extension into binary.


M	src/lib-sieve/plugins/copy/ext-copy.c

2007-11-29 00:35:22 +0100 Stephan Bosch <stephan@rename-it.nl> (169a3649)

    Defined side-effect object for the copy extension.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h

2007-11-29 00:14:14 +0100 Stephan Bosch <stephan@rename-it.nl> (08c97ffd)

    Incorporated the signedness of the id_code in the optional_read functions as
    well


M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/tst-header.c

2007-11-28 23:31:50 +0100 Stephan Bosch <stephan@rename-it.nl> (19f30a5f)

    Changed id_code for optional operands to signed and fixed a
    ext_my_id-related error in the vacation and copy extensions.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-size.c

2007-11-28 22:35:05 +0100 Stephan Bosch <stephan@rename-it.nl> (90a67f1a)

    Added operand emission support for action side effects.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-extensions.c

2007-11-28 21:56:47 +0100 Stephan Bosch <stephan@rename-it.nl> (0a7f6dcd)

    Created pre-loaded action side effects 'extension'.


M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h

2007-11-28 21:11:05 +0100 Stephan Bosch <stephan@rename-it.nl> (21b41f04)

    Removed part of the code duplication between address-part, match-type and
    comparator implementations.


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c

2007-11-28 20:28:21 +0100 Stephan Bosch <stephan@rename-it.nl> (317b1d33)

    Added untested support for side effects to result object.


M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-27 23:42:04 +0100 Stephan Bosch <stephan@rename-it.nl> (5d26995a)

    Added :flags tag to the imapflags extension and fixed bug in the result
    execution.


M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/plugins/imapflags/Makefile.am
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
A	src/lib-sieve/plugins/imapflags/tag-flags.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-result.c

2007-11-27 23:00:32 +0100 Stephan Bosch <stephan@rename-it.nl> (90bfc52b)

    Updated documentation.


M	README

2007-11-27 22:50:22 +0100 Stephan Bosch <stephan@rename-it.nl> (99c169ae)

    Added support for externally adding tags to (possibly not yet registered)
    command. The copy extension now adds such a tag to fileinto and redirect.


A	src/lib-sieve/plugins/copy/copy.sieve
M	src/lib-sieve/plugins/copy/ext-copy.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2007-11-27 21:56:37 +0100 Stephan Bosch <stephan@rename-it.nl> (e7b84c64)

    Added skeleton for the copy extension.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/copy/Makefile.am
A	src/lib-sieve/plugins/copy/ext-copy.c
A	src/lib-sieve/plugins/copy/rfc3894.txt
M	src/lib-sieve/sieve-extensions.c
M	src/sieve-bin/sieve-exec.c

2007-11-27 21:09:46 +0100 Stephan Bosch <stephan@rename-it.nl> (5d73546c)

    Minor changes


M	sieve/tests/actions.sieve
M	src/lib-sieve/sieve-actions.c

2007-11-27 19:38:26 +0100 Stephan Bosch <stephan@rename-it.nl> (78eaa955)

    Store action seems to work properly now.


M	sieve/tests/actions.sieve
M	src/lib-sieve/sieve-actions.c
M	src/sieve-bin/sieve-exec.c

2007-11-27 03:38:49 +0100 Stephan Bosch <stephan@rename-it.nl> (b7f741e7)

    Almost finished implementing the store action. But, I still get strange
    errors when the mail transaction commits. Mail is stored though.


M	sieve/tests/actions.sieve
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/mail-raw.c
M	src/sieve-bin/mail-raw.h
A	src/sieve-bin/namespaces.c
A	src/sieve-bin/namespaces.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-11-27 01:12:29 +0100 Stephan Bosch <stephan@rename-it.nl> (6cf3d1d3)

    Turned action execution into a transaction.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-actions.c
M	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-result.c

2007-11-27 00:25:12 +0100 Stephan Bosch <stephan@rename-it.nl> (385ce7aa)

    Added (not yet active) handling of implicit keep and adjusted commands
    accordingly.


M	README
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-27 00:07:12 +0100 Stephan Bosch <stephan@rename-it.nl> (26eefd04)

    Added TODO item.


M	README

2007-11-26 21:50:16 +0100 Stephan Bosch <stephan@rename-it.nl> (b4bbc93f)

    Added inbox location to mail environment and made keep command use it to
    generate its store action.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-11-26 21:29:17 +0100 Stephan Bosch <stephan@rename-it.nl> (fcaeb9e7)

    Updated documentation.


M	README
M	src/lib-sieve/ext-fileinto.c

2007-11-26 21:20:20 +0100 Stephan Bosch <stephan@rename-it.nl> (463ff297)

    Fileinto command now produces a store action which is now produced by the
    keep command as well.


M	sieve/tests/actions.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
A	src/lib-sieve/sieve-actions.c
A	src/lib-sieve/sieve-actions.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-26 19:31:38 +0100 Stephan Bosch <stephan@rename-it.nl> (c445794f)

    Made discard command add discard action to the result.


A	sieve/tests/actions.sieve
M	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c

2007-11-26 19:19:16 +0100 Stephan Bosch <stephan@rename-it.nl> (c5ae8068)

    Exported discard command to its own separate file.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/cmd-discard.c
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/sieve-commands.c

2007-11-26 19:04:10 +0100 Stephan Bosch <stephan@rename-it.nl> (0bde3903)

    Added support for detecting action conflicts.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-26 17:18:57 +0100 Stephan Bosch <stephan@rename-it.nl> (94e4cfe6)

    Updated documentation.


M	README

2007-11-26 17:09:54 +0100 Stephan Bosch <stephan@rename-it.nl> (88c1edae)

    Added support for avoiding duplicate actions in the sieve result.


M	sieve/tests/redirect.sieve
M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h

2007-11-26 16:52:04 +0100 Stephan Bosch <stephan@rename-it.nl> (55632704)

    Made keep command add keep action to the result.


M	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/cmd-redirect.c

2007-11-26 16:43:30 +0100 Stephan Bosch <stephan@rename-it.nl> (6dee82eb)

    Exported keep command to its own separate file.


M	src/lib-sieve/Makefile.am
A	src/lib-sieve/cmd-keep.c
M	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-commands.c

2007-11-25 16:59:01 +0100 Stephan Bosch <stephan@rename-it.nl> (ec4184ed)

    Minor changes to the executables.


M	src/sieve-bin/bin-common.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-11-25 16:13:48 +0100 Stephan Bosch <stephan@rename-it.nl> (14a07351)

    Added mail-file parameter to the sieve-test and sieve-exec binaries.


M	README
M	src/lib-sieve/sieve-interpreter.c
M	src/sieve-bin/sieve-exec.c
M	src/sieve-bin/sieve-test.c

2007-11-25 11:54:54 +0100 Stephan Bosch <stephan@rename-it.nl> (77344245)

    Cleaned up implementation of sieve test binaries and added sieve-exec


M	.hgignore
M	sieve/tests/redirect.sieve
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/Makefile.am
A	src/sieve-bin/bin-common.c
A	src/sieve-bin/bin-common.h
A	src/sieve-bin/mail-raw.c
A	src/sieve-bin/mail-raw.h
A	src/sieve-bin/sieve-exec.c
A	src/sieve-bin/sieve-test.c
D	src/sieve-bin/sieve_test.c
M	src/sieve-bin/sievec.c

2007-11-25 00:09:35 +0100 Stephan Bosch <stephan@rename-it.nl> (52f9a47e)

    Removed spurious debug message.


M	src/lib-sieve/sieve-match-types.c

2007-11-24 23:54:41 +0100 Stephan Bosch <stephan@rename-it.nl> (9ebef39b)

    Added first action execution support. Redirect is the first command to
    actually work.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/sieve_test.c

2007-11-24 18:59:29 +0100 Stephan Bosch <stephan@rename-it.nl> (1788802c)

    Added TODO item.


M	README

2007-11-24 18:55:04 +0100 Stephan Bosch <stephan@rename-it.nl> (7bc6d514)

    Moved address-part, match-type and comparator code registries from
    interpreter to binary where they belong.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/relational.sieve
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-24 17:48:38 +0100 Stephan Bosch <stephan@rename-it.nl> (53ff5113)

    Added extension context storage support to the sieve binary.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-interpreter.c

2007-11-24 17:35:48 +0100 Stephan Bosch <stephan@rename-it.nl> (ec61c8ea)

    Added binary_load event to the sieve extensions.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c

2007-11-24 15:37:12 +0100 Stephan Bosch <stephan@rename-it.nl> (4d14341a)

    Grouped runtime parameters into a single runtime environment and started
    implementation of result composition/execution.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-result.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-11-24 13:04:37 +0100 Stephan Bosch <stephan@rename-it.nl> (ef8d3cc5)

    Changed interpreter in the event of an unimplemented opcode.


M	src/lib-sieve/sieve-interpreter.c

2007-11-24 13:00:16 +0100 Stephan Bosch <stephan@rename-it.nl> (ff44b78d)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c

2007-11-24 02:05:39 +0100 Stephan Bosch <stephan@rename-it.nl> (dd0ffe54)

    Implemented hasflag command interpretation for the imapflags extension.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/imapflags-2.sieve
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c

2007-11-23 23:56:31 +0100 Stephan Bosch <stephan@rename-it.nl> (4bad5e4c)

    Added actual flag management to the imapflags extension. Addflag, removeflag
    and setflag now do what they should do.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
A	src/lib-sieve/plugins/imapflags/imapflags-2.sieve
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/tst-size.c

2007-11-23 13:34:55 +0100 Stephan Bosch <stephan@rename-it.nl> (cb095ead)

    Finished i;ascii-numeric comparator and fixed a segfault bug in the process.


M	README
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/relational/relational.sieve
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c

2007-11-23 12:35:20 +0100 Stephan Bosch <stephan@rename-it.nl> (84c99223)

    Added hasflag test to the imapflags extension.


M	README
M	src/lib-sieve/plugins/imapflags/Makefile.am
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/imapflags-errors.sieve
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
A	src/lib-sieve/plugins/imapflags/tst-hasflag.c
M	src/lib-sieve/tst-header.c

2007-11-23 00:37:41 +0100 Stephan Bosch <stephan@rename-it.nl> (ccf4377f)

    Implemented code generation and interpretation for the commands introduced
    by the imapflags extension.


M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2007-11-23 00:18:17 +0100 Stephan Bosch <stephan@rename-it.nl> (bac51d56)

    Upgraded opcode extension support to handle more than one opcode per
    extension.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/imapflags/cmd-addflag.c
M	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
M	src/lib-sieve/plugins/imapflags/cmd-setflag.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-11-22 20:20:28 +0100 Stephan Bosch <stephan@rename-it.nl> (62efe088)

    imapflags: Added (dummy) check for the existance of the variables extension.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
M	src/lib-sieve/plugins/imapflags/imapflags.sieve

2007-11-22 20:02:57 +0100 Stephan Bosch <stephan@rename-it.nl> (4e603ce4)

    Implemented validation for the commands introduced by the imapflags
    extension.


M	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
A	src/lib-sieve/plugins/imapflags/imapflags-errors.sieve
M	src/lib-sieve/sieve-validator.c

2007-11-22 19:35:44 +0100 Stephan Bosch <stephan@rename-it.nl> (60770a2a)

    Created skeletons for the commands introduced by the imapflags extension.


M	src/lib-sieve/plugins/imapflags/Makefile.am
A	src/lib-sieve/plugins/imapflags/cmd-addflag.c
A	src/lib-sieve/plugins/imapflags/cmd-removeflag.c
A	src/lib-sieve/plugins/imapflags/cmd-setflag.c
A	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c
A	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h
M	src/lib-sieve/plugins/imapflags/ext-imapflags.c
A	src/lib-sieve/plugins/imapflags/imapflags.sieve
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-validator.c

2007-11-22 17:17:25 +0100 Stephan Bosch <stephan@rename-it.nl> (91669a17)

    Started skeleton for the imapflags extension.


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/imapflags/Makefile.am
A	src/lib-sieve/plugins/imapflags/draft-ietf-sieve-imapflags-05.txt
A	src/lib-sieve/plugins/imapflags/ext-imapflags.c

2007-11-22 16:57:48 +0100 Stephan Bosch <stephan@rename-it.nl> (a2c51b31)

    Cleaned up make process and included the 'plugins' into the main sieve
    library archive.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/Makefile.am
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
M	src/lib-sieve/plugins/regex/Makefile.am
M	src/lib-sieve/plugins/relational/Makefile.am
M	src/lib-sieve/plugins/subaddress/Makefile.am
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/sieve-bin/Makefile.am

2007-11-22 13:19:43 +0100 Stephan Bosch <stephan@rename-it.nl> (441a81d5)

    Updated documentation.


M	README
M	src/lib-sieve/sieve-commands.c

2007-11-22 13:00:17 +0100 Stephan Bosch <stephan@rename-it.nl> (8c021fd9)

    Removed unecessary jump after commands like stop.


M	sieve/examples/vivil.sieve
A	sieve/tests/stop.sieve
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2007-11-22 11:56:32 +0100 Stephan Bosch <stephan@rename-it.nl> (6e5638ce)

    Debugged :matches match type and no more bugs are currently known.


M	sieve/tests/matches.sieve
M	src/lib-sieve/sieve-match-types.c

2007-11-22 00:41:00 +0100 Stephan Bosch <stephan@rename-it.nl> (6a6b3409)

    Made first buggy implementation of :matches match type.


A	sieve/tests/matches.sieve
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c

2007-11-21 16:18:36 +0100 Stephan Bosch <stephan@rename-it.nl> (def18c3b)

    Updated documentation with respect to extensions.


M	README

2007-11-21 16:16:17 +0100 Stephan Bosch <stephan@rename-it.nl> (e22e8718)

    Added dummy execution support to reject extension.


A	sieve/tests/reject.sieve
M	src/lib-sieve/ext-reject.c

2007-11-21 16:04:49 +0100 Stephan Bosch <stephan@rename-it.nl> (cf64e6d4)

    Updated documentation.


M	README
M	src/lib-sieve/plugins/vacation/ext-vacation.c

2007-11-21 15:45:23 +0100 Stephan Bosch <stephan@rename-it.nl> (9b1b731c)

    Implemented dummy execution for vacation extension.


A	sieve/tests/vacation.sieve
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h

2007-11-21 14:22:17 +0100 Stephan Bosch <stephan@rename-it.nl> (d2eee94d)

    Resolved compiler warning in envelope extension.


M	src/lib-sieve/ext-envelope.c

2007-11-21 14:21:14 +0100 Stephan Bosch <stephan@rename-it.nl> (01b80d1a)

    Added test script for redirect command.


A	sieve/tests/redirect.sieve

2007-11-21 14:20:51 +0100 Stephan Bosch <stephan@rename-it.nl> (95738f98)

    Properly implemented stop command and associated opcode.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2007-11-21 14:11:13 +0100 Stephan Bosch <stephan@rename-it.nl> (ea70ff34)

    Added status message to sieve_test to indicate successful script run.


M	src/sieve-bin/sieve_test.c

2007-11-21 14:06:56 +0100 Stephan Bosch <stephan@rename-it.nl> (21e78107)

    Created dummy interpretation support for the redirect command.


M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-interpreter.h

2007-11-21 12:54:14 +0100 Stephan Bosch <stephan@rename-it.nl> (966324cd)

    Created dummy interpretation support for the fileinto extension.


A	sieve/tests/fileinto.sieve
M	src/lib-sieve/ext-fileinto.c

2007-11-21 12:42:05 +0100 Stephan Bosch <stephan@rename-it.nl> (56a07d5a)

    Removed debug lines in envelope extension.


M	src/lib-sieve/ext-envelope.c

2007-11-21 12:37:59 +0100 Stephan Bosch <stephan@rename-it.nl> (b4777986)

    Made ext_envelope_get_fields cleaner.


M	src/lib-sieve/ext-envelope.c

2007-11-21 12:32:12 +0100 Stephan Bosch <stephan@rename-it.nl> (e0f6bd8a)

    Updated documentation.


M	README
M	src/lib-sieve/ext-envelope.c

2007-11-21 12:26:35 +0100 Stephan Bosch <stephan@rename-it.nl> (b18527bd)

    Made basic execution implementation of the envelope extension.


A	sieve/tests/envelope.sieve
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/sieve-bin/sieve_test.c

2007-11-21 11:53:44 +0100 Stephan Bosch <stephan@rename-it.nl> (8c0c5a98)

    Added envelope data to the interpreter environment.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/sieve_test.c

2007-11-21 04:11:47 +0100 Stephan Bosch <stephan@rename-it.nl> (d951cfec)

    Completed implementation of the relational extension.


M	README
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/relational.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-21 02:46:30 +0100 Stephan Bosch <stephan@rename-it.nl> (0ee0dd7d)

    Improved match handling and started implementing the interpretation of the
    relational match type.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/regex.sieve
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2007-11-20 23:53:15 +0100 Stephan Bosch <stephan@rename-it.nl> (2f3561f5)

    Implemented context validation for :contains match type.


M	sieve/errors/match-type-errors.sieve
M	sieve/tests/match-type.sieve
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-match-types.c

2007-11-20 23:02:37 +0100 Stephan Bosch <stephan@rename-it.nl> (eb4b1f97)

    Updated documentation with respect to regex externsion and match-type
    support.


M	README
M	src/lib-sieve/plugins/regex/ext-regex.c

2007-11-20 22:42:31 +0100 Stephan Bosch <stephan@rename-it.nl> (fbc4e037)

    Last commit broke execution of match types other than :regex...fixed.


M	src/lib-sieve/sieve-match-types.c

2007-11-20 22:18:07 +0100 Stephan Bosch <stephan@rename-it.nl> (19f3572d)

    Implemented regex match execution.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/regex.sieve
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-20 16:51:03 +0100 Stephan Bosch <stephan@rename-it.nl> (71661efa)

    Fixed missing require in sanjay.sieve example


M	sieve/examples/sanjay.sieve

2007-11-20 16:43:53 +0100 Stephan Bosch <stephan@rename-it.nl> (9845a640)

    Forgot to handle stringlists in :regex validation.


M	src/lib-sieve/plugins/regex/ext-regex.c

2007-11-20 16:09:59 +0100 Stephan Bosch <stephan@rename-it.nl> (9d4dce9c)

    Implemented :regex match validation.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/regex/regex-errors.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-20 14:26:33 +0100 Stephan Bosch <stephan@rename-it.nl> (05545fa1)

    Implemented detection of duplicate optional arguments.


A	sieve/errors/address-part-errors.sieve
M	sieve/errors/interesting.sieve
A	sieve/errors/match-type-errors.sieve
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c

2007-11-20 12:29:58 +0100 Stephan Bosch <stephan@rename-it.nl> (f32edce2)

    Made regex match complaint about comparators other than i;octet or
    i;ascii-casemap


M	src/lib-sieve/plugins/regex/ext-regex.c
A	src/lib-sieve/plugins/regex/regex-errors.sieve
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-validator.c

2007-11-20 11:57:46 +0100 Stephan Bosch <stephan@rename-it.nl> (f4a19c3d)

    Added support for match-type argument context validation.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2007-11-20 11:42:10 +0100 Stephan Bosch <stephan@rename-it.nl> (f8ecf182)

    Added support for argument context validation.


M	src/lib-sieve/sieve-validator.c

2007-11-20 11:27:17 +0100 Stephan Bosch <stephan@rename-it.nl> (fcc318e3)

    Added validat_context method to command arguments for the to-be-implemented
    argument context validation.


M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-size.c

2007-11-20 11:14:22 +0100 Stephan Bosch <stephan@rename-it.nl> (2f2a00b7)

    Changed argument generator function prototype to assign responsibility of
    advancing to the next argument to the generator itself.


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-match-types.c

2007-11-20 11:01:03 +0100 Stephan Bosch <stephan@rename-it.nl> (8884f55d)

    Removed i_unreached() at inappropriate location.


M	src/lib-sieve/sieve-commands.c

2007-11-20 10:57:46 +0100 Stephan Bosch <stephan@rename-it.nl> (8cfba719)

    Removed code duplication in validator: merged command and test validation in
    one function.


M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c

2007-11-20 10:29:40 +0100 Stephan Bosch <stephan@rename-it.nl> (422a8f7b)

    Fixed bug in the command validation.


M	src/lib-sieve/sieve-validator.c

2007-11-20 10:23:42 +0100 Stephan Bosch <stephan@rename-it.nl> (2c111bd4)

    Improved validation of command placement for if and require commands.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/sieve-commands.h

2007-11-20 01:22:22 +0100 Stephan Bosch <stephan@rename-it.nl> (523c5df3)

    Changed validator's command syntax validation such that command
    implementations don't have to call the argument, test and block validation
    functions explicitly.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c

2007-11-19 22:54:21 +0100 Stephan Bosch <stephan@rename-it.nl> (8065de38)

    Changed argument validation to record the first positional argument into the
    command context by default. Also furter improved validator's error handling.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-not.c
M	src/lib-sieve/tst-size.c

2007-11-19 21:21:27 +0100 Stephan Bosch <stephan@rename-it.nl> (fd8b7199)

    Revised positional argument checking and fixed the validator's error
    handling.


M	sieve/errors/address-errors.sieve
M	sieve/errors/header-errors.sieve
M	src/lib-sieve/cmd-redirect.c
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/subaddress/subaddress.sieve
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-11-19 18:50:55 +0100 Stephan Bosch <stephan@rename-it.nl> (689e982a)

    Prevent unimplemented match type from causing a segfault.


M	src/lib-sieve/sieve-match-types.c

2007-11-19 01:36:23 +0100 Stephan Bosch <stephan@rename-it.nl> (3c0b20dd)

    Implemented match type execution and activated match types :is and
    :contains.


M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-17 16:25:53 +0100 Stephan Bosch <stephan@rename-it.nl> (b7e09b56)

    Minor updates to the documentation.


M	README
M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c

2007-11-17 16:19:24 +0100 Stephan Bosch <stephan@rename-it.nl> (4fc3387f)

    Fixed code generation for relational extension.


M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/plugins/relational/relational.sieve
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2007-11-17 15:24:41 +0100 Stephan Bosch <stephan@rename-it.nl> (7b940591)

    Implemented support for additional parameters to match-types and implemented
    validation for the relational extension.


M	src/lib-sieve/plugins/regex/ext-regex.c
M	src/lib-sieve/plugins/relational/ext-relational.c
M	src/lib-sieve/sieve-match-types.c
M	src/lib-sieve/sieve-match-types.h

2007-11-17 14:14:19 +0100 Stephan Bosch <stephan@rename-it.nl> (72477bab)

    Created skeletons for regex and relational extensions. These are to be
    developed simultaneously with the match-type support in general.


M	configure.in
M	sieve/tests/match-type.sieve
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/regex/Makefile.am
A	src/lib-sieve/plugins/regex/draft-murchison-sieve-regex-07.txt
A	src/lib-sieve/plugins/regex/ext-regex.c
A	src/lib-sieve/plugins/regex/regex.sieve
A	src/lib-sieve/plugins/relational/Makefile.am
A	src/lib-sieve/plugins/relational/ext-relational.c
A	src/lib-sieve/plugins/relational/relational.sieve
A	src/lib-sieve/plugins/relational/rfc3431.txt
M	src/lib-sieve/sieve-extensions.c
M	src/sieve-bin/Makefile.am

2007-11-17 12:57:36 +0100 Stephan Bosch <stephan@rename-it.nl> (aaa72172)

    Started implementation of match-type support and fixed compilation error.


M	README
A	sieve/tests/match-type.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
A	src/lib-sieve/sieve-match-types.c
A	src/lib-sieve/sieve-match-types.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-17 11:50:15 +0100 Stephan Bosch <stephan@rename-it.nl> (30c80502)

    Updated README and a few minor cosmetic changes to the code.


M	README
M	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-comparators.c

2007-11-17 03:38:50 +0100 Stephan Bosch <stephan@rename-it.nl> (d2ea3b30)

    Implemented comparator-i;ascii-numeric extension and activated comparator
    extension support.


M	configure.in
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am
A	src/lib-sieve/plugins/comparator-i-ascii-numeric/cmp-i-ascii-numeric.sieve
A	src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c
A	src/lib-sieve/plugins/comparator-i-ascii-numeric/rfc2244.txt
M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/sieve-bin/Makefile.am

2007-11-17 00:14:30 +0100 Stephan Bosch <stephan@rename-it.nl> (332ee54f)

    Added dummy extensions for core comparators.


M	src/lib-sieve/sieve-extensions.c

2007-11-17 00:07:37 +0100 Stephan Bosch <stephan@rename-it.nl> (fc6b817e)

    A few small cosmetic changes in addr-part code and generic extension
    support.


M	sieve/tests/extensions.sieve
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/sieve-address-parts.c

2007-11-16 23:36:03 +0100 Stephan Bosch <stephan@rename-it.nl> (3bd3f8c4)

    Finished implementation of subaddress extension.


M	src/lib-sieve/plugins/subaddress/ext-subaddress.c
M	src/lib-sieve/plugins/subaddress/subaddress.sieve
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-common.h

2007-11-16 19:35:58 +0100 Stephan Bosch <stephan@rename-it.nl> (2fbe78be)

    Implemented support for the subaddress extension and fixed extension support
    to work properly.


M	configure.in
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/subaddress/Makefile.am
A	src/lib-sieve/plugins/subaddress/ext-subaddress.c
A	src/lib-sieve/plugins/subaddress/rfc3598.txt
A	src/lib-sieve/plugins/subaddress/subaddress.sieve
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/Makefile.am

2007-11-14 00:47:06 +0100 Stephan Bosch <stephan@rename-it.nl> (f940ef27)

    Implemented address part execution support.


M	sieve/tests/address-part.sieve
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/tst-address.c

2007-11-13 22:28:04 +0100 Stephan Bosch <stephan@rename-it.nl> (0b1a8c86)

    Activated address-part code generation support.


A	sieve/tests/address-part.sieve
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c

2007-11-13 20:26:03 +0100 Stephan Bosch <stephan@rename-it.nl> (b00f75d9)

    Lots of cosmetic changes


M	src/lib-sieve/sieve-address-parts.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-error.c
M	src/lib-sieve/sieve-error.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-lexer.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-validator.h

2007-11-13 16:49:23 +0100 Stephan Bosch <stephan@rename-it.nl> (c1013f0d)

    Added a little documentation to the README file.


M	INSTALL
M	README

2007-11-13 00:39:35 +0100 Stephan Bosch <stephan@rename-it.nl> (1f797b35)

    Removed unused static pre-declaration from validator.


M	src/lib-sieve/sieve-validator.c

2007-11-13 00:09:18 +0100 Stephan Bosch <stephan@rename-it.nl> (2a192d0d)

    Rewrote large parts of the extension support and added partial address-part
    implementation.


M	sieve/tests/comparator.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
A	src/lib-sieve/sieve-address-parts.c
A	src/lib-sieve/sieve-address-parts.h
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/sieve-bin/sieve_test.c
M	src/sieve-bin/sievec.c

2007-11-11 21:11:54 +0100 Stephan Bosch <stephan@rename-it.nl> (85e7a741)

    Upgraded sieve_test to 1.1.beta8


M	src/sieve-bin/Makefile.am
M	src/sieve-bin/sieve_test.c

2007-11-11 18:01:57 +0100 Stephan Bosch <stephan@rename-it.nl> (acc9246f)

    Enabled comparator execution support.


M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c

2007-11-11 17:19:01 +0100 Stephan Bosch <stephan@rename-it.nl> (e25f3baf)

    Added support for optional operators to the byte code implementation.


M	sieve/tests/comparator.sieve
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-11-09 01:23:12 +0100 Stephan Bosch <stephan@rename-it.nl> (4e793fea)

    Started implementation of comparator execution support.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2007-11-08 19:33:00 +0100 Stephan Bosch <stephan@rename-it.nl> (9ac7cd5d)

    Changed string-list single-string handling for coded list.


M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h

2007-11-08 17:34:37 +0100 Stephan Bosch <stephan@rename-it.nl> (95b2627e)

    Properly implemented opcode and operand handing and moved code to more
    appropriate units.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-11-01 10:23:03 +0100 Stephan Bosch <stephan@rename-it.nl> (d5819c6a)

    A few minor changes


M	sieve/examples/sieve_examples.sieve
D	sieve/examples/stephan.sieve
D	sieve/examples/unparsed-elvey.sieve
M	src/lib-sieve/sieve-code.h

2007-11-01 10:10:36 +0100 Stephan Bosch <stephan@rename-it.nl> (320022d2)

    Added sieve example and documented the others with author and the url where
    I found them.


M	sieve/examples/elvey.sieve
A	sieve/examples/jerry.sieve
M	sieve/examples/mjohnson.sieve
M	sieve/examples/mklose.sieve
M	sieve/examples/sanjay.sieve
M	sieve/examples/vivil.sieve

2007-10-27 04:25:17 +0200 Stephan Bosch <stephan@rename-it.nl> (5135e910)

    Moved literall access functions from interpreter to binary.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h

2007-10-27 03:15:31 +0200 Stephan Bosch <stephan@rename-it.nl> (8c99880d)

    Implemented comparator support towards code generation, interpretation is
    not possible yet.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-comparators.c
M	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2007-10-27 02:31:18 +0200 Stephan Bosch <stephan@rename-it.nl> (286046df)

    Changed argument to operand processing to be much more flexible.


M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-10-26 22:43:55 +0200 Stephan Bosch <stephan@rename-it.nl> (c5d1b547)

    Moved literal emission functions from generator to binary source.


M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h

2007-10-26 22:13:41 +0200 Stephan Bosch <stephan@rename-it.nl> (b0868f2e)

    First steps towards implementing code generation and interpretation for
    proper comperators.


A	sieve/tests/comparator.sieve
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-ast.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.h
M	src/lib-sieve/sieve-common.h
A	src/lib-sieve/sieve-comparators.c
A	src/lib-sieve/sieve-comparators.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/tst-size.c

2007-10-26 01:29:34 +0200 Stephan Bosch <stephan@rename-it.nl> (685d4195)

    Extremely minor cosmetic change.


M	src/lib-sieve/tst-exists.c

2007-10-26 01:24:07 +0200 Stephan Bosch <stephan@rename-it.nl> (57cdd9b8)

    Removed files with intermittent compilation results from the repository
    (oops)


D	src/lib-sieve/plugins/Makefile
D	src/lib-sieve/plugins/Makefile.in

2007-10-26 01:20:31 +0200 Stephan Bosch <stephan@rename-it.nl> (d039e98e)

    Made header and exists tests executable.


M	sieve/tests/basic.sieve
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c

2007-10-25 22:43:53 +0200 Stephan Bosch <stephan@rename-it.nl> (cc7a4672)

    Made address and size tests executable and fixed minor bug regarding the
    lexer.


M	sieve/tests/basic.sieve
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve.c
M	src/lib-sieve/sieve.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/sieve_test.c
M	src/sieve-bin/sievec.c

2007-10-25 12:26:52 +0200 Stephan Bosch <stephan@rename-it.nl> (34b986f5)

    Created libsieve interface and started the sieve_test binary.


M	.hgignore
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-parser.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
A	src/lib-sieve/sieve.c
A	src/lib-sieve/sieve.h
D	src/sieve-bin/Makefile
M	src/sieve-bin/Makefile.am
D	src/sieve-bin/Makefile.in
A	src/sieve-bin/sieve_test.c
D	src/sieve-bin/sievec
M	src/sieve-bin/sievec.c
D	src/sieve-bin/sievec.o

2007-10-24 22:48:57 +0200 Stephan Bosch <stephan@rename-it.nl> (58177948)

    Upgraded from dovecot-1.0 to dovecot-1.1 (array changes and various _unref
    differences)


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/Makefile
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-ast.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-lexer.c
M	src/lib-sieve/sieve-parser.c
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-size.c
M	src/sieve-bin/Makefile
M	src/sieve-bin/Makefile.am
M	src/sieve-bin/Makefile.in
M	src/sieve-bin/sievec
M	src/sieve-bin/sievec.o

2007-10-24 19:24:42 +0200 Stephan Bosch <stephan@rename-it.nl> (580d9522)

    Exported sievec binary to separate directory called sieve-bin.


M	configure.in
R100	src/lib-sieve/scripts/errors/address-errors.sieve	sieve/errors/address-errors.sieve
R100	src/lib-sieve/scripts/errors/header-errors.sieve	sieve/errors/header-errors.sieve
R100	src/lib-sieve/scripts/errors/if-errors.sieve	sieve/errors/if-errors.sieve
R100	src/lib-sieve/scripts/errors/interesting.sieve	sieve/errors/interesting.sieve
R100	src/lib-sieve/scripts/errors/keep-errors.sieve	sieve/errors/keep-errors.sieve
R100	src/lib-sieve/scripts/errors/parse-errors.sieve	sieve/errors/parse-errors.sieve
R100	src/lib-sieve/scripts/errors/require-errors.sieve	sieve/errors/require-errors.sieve
R100	src/lib-sieve/scripts/errors/size-errors.sieve	sieve/errors/size-errors.sieve
R100	src/lib-sieve/scripts/errors/stop-errors.sieve	sieve/errors/stop-errors.sieve
R100	src/lib-sieve/scripts/errors/tag-errors.sieve	sieve/errors/tag-errors.sieve
R100	src/lib-sieve/scripts/examples/elvey.sieve	sieve/examples/elvey.sieve
R100	src/lib-sieve/scripts/examples/mjohnson.sieve	sieve/examples/mjohnson.sieve
R100	src/lib-sieve/scripts/examples/mklose.sieve	sieve/examples/mklose.sieve
R100	src/lib-sieve/scripts/examples/rfc3028.sieve	sieve/examples/rfc3028.sieve
R100	src/lib-sieve/scripts/examples/sanjay.sieve	sieve/examples/sanjay.sieve
R100	src/lib-sieve/scripts/examples/sieve_examples.sieve	sieve/examples/sieve_examples.sieve
R100	src/lib-sieve/scripts/examples/stephan.sieve	sieve/examples/stephan.sieve
R100	src/lib-sieve/scripts/examples/unparsed-elvey.sieve	sieve/examples/unparsed-elvey.sieve
R100	src/lib-sieve/scripts/examples/vacation.sieve	sieve/examples/vacation.sieve
R100	src/lib-sieve/scripts/examples/vivil.sieve	sieve/examples/vivil.sieve
A	sieve/tests/basic.sieve
R100	src/lib-sieve/scripts/tests/extensions.sieve	sieve/tests/extensions.sieve
R100	src/lib-sieve/scripts/tests/if.sieve	sieve/tests/if.sieve
M	src/Makefile.am
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-result.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c
A	src/sieve-bin/Makefile
A	src/sieve-bin/Makefile.am
A	src/sieve-bin/Makefile.in
A	src/sieve-bin/sievec
R096	src/lib-sieve/sievec.c	src/sieve-bin/sievec.c
A	src/sieve-bin/sievec.o

2007-10-23 23:19:33 +0200 Stephan Bosch <stephan@rename-it.nl> (205c43b3)

    Started first support for actual execution of sieve script.


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/plugins/vacation/Makefile.am
M	src/lib-sieve/plugins/vacation/ext-vacation.c
M	src/lib-sieve/sieve-binary.c
M	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-common.h
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
A	src/lib-sieve/sieve-result.c
A	src/lib-sieve/sieve-result.h
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-10-23 19:32:31 +0200 Stephan Bosch <stephan@rename-it.nl> (639b71a3)

    * Minor changes to the extension implementation * Started the lda plugin
    source


M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/sieve-interpreter.h
A	src/plugins/Makefile.am
A	src/plugins/lda-sieve/Makefile.am
A	src/plugins/lda-sieve/lda-sieve-plugin.c
A	src/plugins/lda-sieve/lda-sieve-plugin.h

2007-10-22 14:40:01 +0200 Stephan Bosch <stephan@rename-it.nl> (06b238a1)

    Changed (currently unused) sieve-address.c to use dovecot rfc822 parser.


M	src/lib-sieve/sieve-address.c

2007-10-22 12:54:02 +0200 Stephan Bosch <stephan@rename-it.nl> (b2bf1705)

    Added draft RFC for vacation extension.


A	src/lib-sieve/plugins/vacation/draft-ietf-sieve-vacation-07.txt

2007-10-22 12:32:53 +0200 Stephan Bosch <stephan@rename-it.nl> (1b2660d2)

    * Further developed the extension support * Added plugins as static
    libraries (for now)


M	configure.in
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
A	src/lib-sieve/plugins/Makefile
A	src/lib-sieve/plugins/Makefile.am
A	src/lib-sieve/plugins/Makefile.in
D	src/lib-sieve/plugins/comparator-i;ascii-numeric.c
D	src/lib-sieve/plugins/copy.c
A	src/lib-sieve/plugins/vacation/Makefile.am
A	src/lib-sieve/plugins/vacation/ext-vacation.c
A	src/lib-sieve/plugins/vacation/vacation.sieve
M	src/lib-sieve/scripts/tests/extensions.sieve
M	src/lib-sieve/sieve-extensions.c

2007-10-22 01:04:14 +0200 Stephan Bosch <stephan@rename-it.nl> (a5bb7080)

    Renamed reject.sieve to extensions.sieve for generic extensions testing.


A	src/lib-sieve/scripts/tests/extensions.sieve
D	src/lib-sieve/scripts/tests/reject.sieve

2007-10-22 01:02:02 +0200 Stephan Bosch <stephan@rename-it.nl> (468f75b2)

    * Added generation support to the fileinto extension. * Fixed a bug in the
    require command generation.


M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-fileinto.c

2007-10-22 00:38:55 +0200 Stephan Bosch <stephan@rename-it.nl> (a3f9de83)

    Added basic extension support to generator and interpreter.


M	.hgignore
M	src/lib-sieve/Makefile.am
M	src/lib-sieve/cmd-require.c
M	src/lib-sieve/ext-envelope.c
M	src/lib-sieve/ext-fileinto.c
M	src/lib-sieve/ext-reject.c
A	src/lib-sieve/scripts/tests/reject.sieve
M	src/lib-sieve/sieve-ast.h
A	src/lib-sieve/sieve-binary.c
A	src/lib-sieve/sieve-binary.h
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-extensions.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/sieve-interpreter.h
M	src/lib-sieve/sieve-validator.c
M	src/lib-sieve/sieve-validator.h
M	src/lib-sieve/sievec.c

2007-10-21 18:55:38 +0200 Stephan Bosch <stephan@rename-it.nl> (36338359)

    Initial commit didn't compile because it was comitted in the middle of a new
    feature.


M	src/lib-sieve/cmd-if.c
M	src/lib-sieve/ext-reject.c
M	src/lib-sieve/sieve-code.c
M	src/lib-sieve/sieve-code.h
M	src/lib-sieve/sieve-commands-private.h
M	src/lib-sieve/sieve-commands.c
M	src/lib-sieve/sieve-extensions.h
M	src/lib-sieve/sieve-generator.c
M	src/lib-sieve/sieve-generator.h
M	src/lib-sieve/sieve-interpreter.c
M	src/lib-sieve/tst-address.c
M	src/lib-sieve/tst-allof.c
M	src/lib-sieve/tst-anyof.c
M	src/lib-sieve/tst-exists.c
M	src/lib-sieve/tst-header.c
M	src/lib-sieve/tst-size.c

2007-10-21 16:49:08 +0200 Stephan Bosch <stephan@rename-it.nl> (5775c74c)

    Added autogen.sh from the dovecot project (removed doc/wiki code)


A	autogen.sh

2007-10-21 16:31:24 +0200 stephan <stephan@flappie> (d9ba5172)

    Added -config files to the hgignore and removed them from the repository


M	.hgignore
D	libsieve-config.h.in

2007-10-21 16:23:07 +0200 stephan <stephan@flappie> (ef67ede6)

    First entered libsieve into new Hg repository


A	.hgignore
A	AUTHORS
A	COPYING.LGPL
A	INSTALL
A	Makefile.am
A	NEWS
A	README
A	configure.in
A	libsieve-config.h.in
A	src/Makefile.am
A	src/lib-sieve/Makefile.am
A	src/lib-sieve/cmd-if.c
A	src/lib-sieve/cmd-redirect.c
A	src/lib-sieve/cmd-require.c
A	src/lib-sieve/ext-envelope.c
A	src/lib-sieve/ext-fileinto.c
A	src/lib-sieve/ext-reject.c
A	src/lib-sieve/plugins/comparator-i;ascii-numeric.c
A	src/lib-sieve/plugins/copy.c
A	src/lib-sieve/scripts/errors/address-errors.sieve
A	src/lib-sieve/scripts/errors/header-errors.sieve
A	src/lib-sieve/scripts/errors/if-errors.sieve
A	src/lib-sieve/scripts/errors/interesting.sieve
A	src/lib-sieve/scripts/errors/keep-errors.sieve
A	src/lib-sieve/scripts/errors/parse-errors.sieve
A	src/lib-sieve/scripts/errors/require-errors.sieve
A	src/lib-sieve/scripts/errors/size-errors.sieve
A	src/lib-sieve/scripts/errors/stop-errors.sieve
A	src/lib-sieve/scripts/errors/tag-errors.sieve
A	src/lib-sieve/scripts/examples/elvey.sieve
A	src/lib-sieve/scripts/examples/mjohnson.sieve
A	src/lib-sieve/scripts/examples/mklose.sieve
A	src/lib-sieve/scripts/examples/rfc3028.sieve
A	src/lib-sieve/scripts/examples/sanjay.sieve
A	src/lib-sieve/scripts/examples/sieve_examples.sieve
A	src/lib-sieve/scripts/examples/stephan.sieve
A	src/lib-sieve/scripts/examples/unparsed-elvey.sieve
A	src/lib-sieve/scripts/examples/vacation.sieve
A	src/lib-sieve/scripts/examples/vivil.sieve
A	src/lib-sieve/scripts/tests/if.sieve
A	src/lib-sieve/sieve-address.c
A	src/lib-sieve/sieve-ast.c
A	src/lib-sieve/sieve-ast.h
A	src/lib-sieve/sieve-code.c
A	src/lib-sieve/sieve-code.h
A	src/lib-sieve/sieve-commands-private.h
A	src/lib-sieve/sieve-commands.c
A	src/lib-sieve/sieve-commands.h
A	src/lib-sieve/sieve-common.h
A	src/lib-sieve/sieve-error.c
A	src/lib-sieve/sieve-error.h
A	src/lib-sieve/sieve-extensions.c
A	src/lib-sieve/sieve-extensions.h
A	src/lib-sieve/sieve-generator.c
A	src/lib-sieve/sieve-generator.h
A	src/lib-sieve/sieve-interpreter.c
A	src/lib-sieve/sieve-interpreter.h
A	src/lib-sieve/sieve-lexer.c
A	src/lib-sieve/sieve-lexer.h
A	src/lib-sieve/sieve-parser.c
A	src/lib-sieve/sieve-parser.h
A	src/lib-sieve/sieve-validator.c
A	src/lib-sieve/sieve-validator.h
A	src/lib-sieve/sievec.c
A	src/lib-sieve/tst-address.c
A	src/lib-sieve/tst-allof.c
A	src/lib-sieve/tst-anyof.c
A	src/lib-sieve/tst-exists.c
A	src/lib-sieve/tst-header.c
A	src/lib-sieve/tst-not.c
A	src/lib-sieve/tst-size.c
A	stamp.h.in
