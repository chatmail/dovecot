From 934387b185074170654f87e34fe494a898732af7 Mon Sep 17 00:00:00 2001
From: Stephan Bosch <stephan.bosch@open-xchange.com>
Date: Tue, 24 Mar 2020 22:42:15 +0100
Subject: [PATCH 06/17] lib-smtp: smtp-syntax - Return 0 for
 smtp_string_parse() with empty input.

This is what the current users of this function actually expect.
---
 src/lib-smtp/smtp-syntax.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/lib-smtp/smtp-syntax.c b/src/lib-smtp/smtp-syntax.c
index 683b2014e4..04fff9fc8c 100644
--- a/src/lib-smtp/smtp-syntax.c
+++ b/src/lib-smtp/smtp-syntax.c
@@ -23,7 +23,7 @@ int smtp_string_parse(const char *string,
 
 	if (string == NULL || *string == '\0') {
 		*value_r = "";
-		return 1;
+		return 0;
 	}
 
 	smtp_parser_init(&parser, pool_datastack_create(), string);
-- 
2.11.0

